====================
     05-27-2023
====================

   * device/xiaomi/gemini
4a2df53 gemini: Setup crdroid dependencies

   * device/xiaomi/msm8996-common
47814b7 msm8996-common: Setup crdroid dependencies

   * kernel/xiaomi/msm8996
86c87dd1185d Merge remote-tracking branch 'lmodroid/thirteen' into 13.0

   * system/sepolicy
ef0675329 Allow media server configurable flags to be read from anywhere

   * vendor/addons
d4c0524 addons: Update themed icons
cea0508 addons: Import lockscreen fonts

====================
     05-26-2023
====================

   * bionic
39bd322a1 Nullability check for xattr module.
a1f2ccc53 Nullability check for inet module.
c1ffb2b85 Nullability check for shm module.
8bac320ef Fix the *return* types in the arm64 dynamic function dispatch.

   * device/lineage/sepolicy
5b29156 sepolicy: Label LinearmotorVibratorService

   * frameworks/av
84e18ac36c NuPlayer: signal video scaling mode to components that queue to IGBR

   * frameworks/base
226a368ef8b8 Fix NullPointerException in GestureDetector
84a682b1e8e6 base: Add overlay to mock oplus LinearmotorVibratorService
1873de158651 base: Add mock oplus LinearmotorVibratorService
ec8b93cc2ee2 Hide hidden apps from all apps except system

   * system/core
792a4ae03 ueventd: Wait for runtime apex before running external firmware handler

   * system/sepolicy
9d73c7538 Allow ueventd to read apexd property

====================
     05-25-2023
====================

   * android
544d590 Merge 'lineage-20.0' into 13.0

   * device/lineage/sepolicy
8e3d243 Merge 'lineage-20.0' into 13.0

   * external/chromium-webview/prebuilt/arm
9936a93 Update Chromium Webview arm prebuilt to 113.0.5672.163

   * external/chromium-webview/prebuilt/arm64
6f66a79 Update Chromium Webview arm64 prebuilt to 113.0.5672.163

   * external/chromium-webview/prebuilt/x86
7b63b3f Update Chromium Webview x86 prebuilt to 113.0.5672.163

   * external/chromium-webview/prebuilt/x86_64
a040a77 Update Chromium Webview x86_64 prebuilt to 113.0.5672.163

   * external/unrar
33790f0 unrar: Remove CleanSpec.mk

   * frameworks/base
ad04a083d371 New Crowdin updates (#987)

   * lineage-sdk
f62c0120 Merge 'lineage-20.0' into 13.0

   * packages/apps/Dialer
94131cec0 New Crowdin updates (#56)

   * packages/apps/Eleven
4980ddc Merge 'lineage-20.0' into 13.0

   * packages/apps/GameSpace
47e4317 New Crowdin updates (#45)

   * packages/apps/Launcher3
f4973dd968 Launcher3: Eleven <> crDroid Music
457fe80966 New Crowdin updates (#342)

   * packages/apps/LineageParts
0083891 Merge 'lineage-20.0' into 13.0

   * packages/apps/ThemePicker
cb4a97f4 Merge 'lineage-20.0' into 13.0

   * packages/apps/Updater
c74a0d3 Merge 'lineage-20.0' into 13.0

   * packages/apps/crDroidSettings
5de5b3f New Crowdin updates (#1052)

   * packages/inputmethods/LatinIME
0261b2049 Merge 'lineage-20.0' into 13.0

   * vendor/addons
392801c addons: Update crDroidMusic
4a46080 addons: Update crdroid music
9265f2a addons: fonts: Adjust GoogleSans configuration

   * vendor/lineage
09466c69 overlay: Allow app lock crdroid music

====================
     05-24-2023
====================

   * external/chromium-webview/patches
b735f70 Update Chromium Webview to 113.0.5672.163

   * external/sqlite
b2f1513 sqlite: Update to version 3.42.0

   * frameworks/av
d44f279efc libcameraservice: add TARGET_CAMERA_NEEDS_CLIENT_INFO_LIB_OPLUS

   * frameworks/base
6b59a7d33b6e SystemUI: fix multi-display gesture arrow
dae22cc04c80 wm: never consume statusbar in freeform mode
3f8e06340b60 wm: block custom activity transit animations
2199dae5b3d3 wm: block task transitions from displaying in freeform
7154980800f9 wm: add freeform-compatible activity transition animation
bd8ac40d6163 wm: support freeform-specific animation overrides
371de37387bd wm: do not show keyguard windows when mirroring due to dream
9dbf68fa3275 wm: Fix menu in legacy apps with multiple activities
af5284868813 wm: fix APPEARANCE_LOW_PROFILE_BARS not working in non-fullscreen app
08d26c6689a4 SystemUI: show ime switcher + cursor keys if we have space
e957fe53244e wm: rewrite/fix window change animation
d26e2e2caaca wm: fix freeform transition visual issue
a1aa1c733a71 wm: Fix menu only opening once on legacy apps

   * packages/apps/LineageParts
779f45a LineageParts: Increase trust preference priority

   * packages/modules/Connectivity
7dd845e01 Catching IllegalStateException while device is going to shutdown

   * packages/modules/adb
d1e9657f adb_root: Simplify the way we parse enabled state file

   * system/core
2ed87320e libfiemap: Handle EAGAIN in fallocate().

   * vendor/addons
bd43b38 addons: iconshapes: Update dialog radius overlays
58d64ac addons: prebuilts: Update crDroidMusic
ca5c137 addons: Add priv app permissions for crdroid music
0420746 addons: Clean up crdroid music overrides
998508c addons: Welcome back crDroidMusic !

   * vendor/lineage
04a3bb05 vendor: soong: Add camera_needs_client_info_lib_oplus
f70d4339 config: Build crDroidMusic

====================
     05-23-2023
====================

   * art
8e8273fdc9 Fix the test breakage caused by aosp/2597105.
ed2379ce16 Fix cross-compilation crash.

   * bionic
9b0d1c7e2 Fix the types in the arm64 dynamic function dispatch.

   * external/harfbuzz_ng
bae45a196 Merge tag '7.3.0' of https://github.com/harfbuzz/harfbuzz into 13.0

   * frameworks/av
ff17d5bc73 Preference exact audio profile for record
1106ef26cf MPEG4Writer: remove duplicate include
c1abd46ac0 update inputdelay if changed

   * frameworks/base
6d41598d9b83 Pull out common code in createFromParcel's switch
0936ed24d529 Check for null ferr

====================
     05-22-2023
====================

====================
     05-21-2023
====================

   * device/lineage/sepolicy
d7828eb sepolicy: Export dolby prop from mediacodec

   * frameworks/av
f39efe63a4 libmediautils_fuzzer_service_utilities : Resolve timeout
e31f9f3136 Bug fix for libmediautils_fuzzer_scheduling_policy_service
a661974d0c WebmFrameThread: Don't set mDone in WebmFrameSinkThread::stop
0ce9d791a6 GraphicBufferSource: Enable timestamp snapping in timelapse mode
b182b654af Suppress sizeof warnings on unusual malloc
4ff4145368 When OggWriter stops, stop codec source first before pthread_join to prevent stall
2894611bc7 libstagefright: modify "dataspace" prints ambiguously
a64fff7e1b converter: Support 24bit converter
c24ff00509 libstagefright: Fix memory leak due to lock timeout
3c4d032dc8 libstagefright: Free buffers on observer died
c3689223aa libstagefright: Bug Fix
8a73000e81 libstagefright: omx: Add support for loading prebuilt ddp and ac4 decoder lib
041216a8f7 Replace Vector by std::vector in ACodec
ec3fa55f71 Replace List by std::list in ACodec and MediaCodec
3e0e0803a4 libstagefright: Use ATRACE_INT64 for 64bit fields
372d0c0069 ACodec: Set input surface parameters immediately
d690670adb libstagefright: initializes member variables in constructor
84b96aae5d media: fix resource leak when dlsym failed
b1512689c6 Use highp to avoid float overflow in expression
beacf3402b media: OMXStore: Import loading libstagefrightdolby
cf40eae6b6 libstagefright: Allow HFR-60 in HAL-3 recording
981855ef82 Changing max SampleRate limits for raw audio decoder
1eec45403f nuplayer: ensure using video ts as anchor when really has no audio and clearAnchor must be followed by updateAnchor in video only case
1d84cb6bc8 Nuplayer: Update request input buffer delay as per fps
2e96b7cdc7 NuPlayer does not send MEDIA_PLAYBACK_COMPLETE message in some cases.
a0c0748b82 Fix segmentation fault in rtp/udp streaming
b6432b3ee9 Fix incorrect buffer size in NuPlayer
3a66c198c6 libmediaplayerservice: Explicitly force callbacks to stop running
e6e194a437 libstagefright: Check trackMeta for NULL
50b3274854 av: Initial support for 24bit encoding and 6 channels
fbf2354ce2 stagefright: add changes related to high-framerates in CameraSource

   * vendor/addons
0d639c9 addons: Update themed icons
81cebae addons: Map crDroidMusic icon

   * vendor/qcom/opensource/vibrator
b0ed704 vibrator: Add support for aw8695_haptic input device
fafa38a vibrator: Add support for aw8697_haptic input device
e5fa454 vibrator: Add support for aw8624_haptic input device

====================
     05-20-2023
====================

   * bionic
607a9e954 Nullability check for system_properties module.

   * frameworks/av
1a3e697c11 MediaProfiles: Check before overriding media settings xml
34bf2c1c62 media: Add timelapse 8k UHD Camcorder profile to quality map
a52442e6ff media: Add changes to pick target specific media xml's
e716d1d0c8 audio: add encoding support for linear PCM format
06ddf5f82d Remove binder priority propagation workaround
07d7aeba30 Fix potential memory leaks
9b4b2c053f Fix potential memory leaks
14118eb751 Mpeg4Extractor: Fix flac parsing in mp4
35f73d3455 codec2: fix issue in allocating too many 8k buffers
07585c75ec add libvulkan for shared_libs to load lib dynamically
1fc15ed20a CCodecConfig: round frame rate instead of truncating to increase the accuracy
7d9ec41a07 VideoDecTest: stop managing memory manually
b85d78faf9 TargetAudioEncTest: use vector instead of malloc
cb6948c615 C2SoftGav1Dec: Update include paths
4255bb5be4 CCodec: remove queue timeout
08095a413d CCodec: fix update pixelFormatInfo for pre-S
2ed2ea26fa CCodec: fix not to use YV12 format on COLOR_FormatYUV420Flexible for pre-S
bea5234b0b CCodec: Update watchdog to handle timeouts accurately
d7caf28942 Codec2Buffer: accept RGB/RGBA MediaImage layouts
c0d95354c3 C2Store: disable debug logs
c2548db897 CCodecBufferChannel: exit handleWork early if output buffers are cleared
3f993d7e40 Fix configuring of unrecognized level values
0a87d10cc8 C2SoftVpxEnc: Correct minimum level setting code
59a6c92b43 C2SoftVpxEnc: add support for levels upto 4.1
33b92c08b0 Correct crop size for software encoders
da989bc59d Use android::base::NoDestructor for static variables
ff759e1d07 C2SoftHevcDec: Initialize mStride after first header decode
3b2db6d47e C2SoftMpeg4Enc: Let encoder library choose apt profile and level
8f5418f6bd C2SoftMpeg4Enc: Add support for levels in mpeg4/h263 encoder
dcbe99cd17 C2SoftAvcEnc: Clip level to max supported level
03e3b32c58 C2SoftHevcEnc: Clip level to max supported level
47925546ba Reduce the frequency of calls to get_device_api_level
762bdace6b Fix the missing std
2cf01f95f3 Adding null check for IResourceManagerClient in dump()
8a5ddb4819 Fix/suppress bugprone-branch-clone warnings
4e73c6b613 Better return value checking
1e6c472fff Fix build log spam for libmediadrm
188426682b Fix mSession NULL dereference
21bfc11a8f Fix log spam in DrmHalHidl
857842c632 libmediadrm: fix uuid log width
d12a85d1c5 camera2 vndk: Improve error handling
607df8826d VolumeCurve file build fail
3e4faad94f Repleace std::reference_wrapper with std::shared_ptr in effectsConfig
5461e4f3ab audiopolicy: engineconfigurable: fix double free issue
4556fb200d APM: fix log spam from getDevicesForStrategyInt when booting devices.
823b07f2b0 Set volume for playback over voice call when btsco connected
fcfe794dcd Fix mic address augmenting in APM
e47de793ab Fix code issues in APM found with unit tests
89b577fbdf Update AudioEffect callers to new interface
7121c115de Camera: Fix race between notifyDeviceStateChange and removeProvider
bcff905da1 Camera: Removing cachedump call to miminimize delay during close.
ace6cb3968 Camera: Flush Improvements - Result drain optimization
bc25a51e71 CameraService: Fix deadlock in binder death cleanup
88fe7517f3 cameraserver: clear all requests and signal mRequestSignal from RequestThread during disconnect().
687ef15453 Fix an issue that a free memory is accessed
52860333e0 Camera: Save the HIDL instances regardless of device version
c0d8b0b611 cameraserver: Correct camera1 -> api2 shim layer handling for video stabilization.
68a52f3f23 Code clean for libcameraservice
c52cd97c9b Avoid creating sp<> from a pointer
790aa91b10 Do not report error for playback rate/pitch of 1.0
e6237c266a AudioEffect: align the interface contract and impl on bad values
0007111ef0 AudioTrack: Fix offload timeout
f9e3f6bd2e Fix arguments checking in AudioSystem::canBeSpatialized

   * packages/apps/Launcher3
d96c9fdf36 Launcher3: Reload icon pack settings fragment on resume

====================
     05-19-2023
====================

   * device/lineage/sepolicy
f5df12b sepolicy: common: Add rules for FM Radio app properties

   * external/chromium-webview/patches
d11ed57 Update Chromium Webview to 113.0.5672.132

   * external/chromium-webview/prebuilt/arm
f4b7cc9 Update Chromium Webview arm prebuilt to 113.0.5672.132

   * external/chromium-webview/prebuilt/arm64
0882618 Update Chromium Webview arm64 prebuilt to 113.0.5672.132

   * external/chromium-webview/prebuilt/x86
aebf91a Update Chromium Webview x86 prebuilt to 113.0.5672.132

   * external/chromium-webview/prebuilt/x86_64
a875959 Update Chromium Webview x86_64 prebuilt to 113.0.5672.132

   * frameworks/av
aaf28dc382 Tracks: Fix memory leak.
597e2e1daf Do not log error if HAL does not support VOIP volume.
55db07795c Avoid create preprocessing effect for playback port
53db8c7f6a Avoid create preprocessing effect for playback thread
7cd5dbaea2 Fix direct/offload AudoTrack playback head position on flush & re-use
bad18db73a av: Import Dolby Effects initialization
a295832c51 disable audio balance in voip call for mono channel
fa0715adaf AudioFlinger: Fix destroyTrack_l sequencing for Direct tracks
a7b08bbe4e audioflinger: Move async callback setting to onFirstRef
59e2cccfb3 AudioFlinger: propagate createEffect return status safely to caller
47695f9ef3 av: audioflinger: reduce duplicate code
e8aa05cc85 Fix crash when callback thread late launched after stream close.
af344e7ef2 Disable fast capture for record thread attached to MSD
0ea645111f Resume HW after forced pause during flush
383c206a99 Initialize volume level of volume control effect as lowest level.
76c98747af Code clean for audioflinger
ce411b276d Prevent TunerHAL passthrough from going into standby
4006dde02f Import libvibratorutils instead of libvibrator

   * frameworks/base
ec9320370226 Revert "libs: hwui: Fix a race condition and null pointer dereference"

   * frameworks/native
16b56dc564 inputflinger: add absolute mouse input support
12945bd4c2 Avoid UI freezing when reading battery capacity/status
a4aba44d31 Use hardcoded value for HapticScale
2ee7cd405e Fixes ubsan shift-out-of-bounds SIGABRT
4188f2aa41 sf: Fix DisplayRefreshCycleDuration API.
757111ffd7 Remove excess dependency on libGLESv2
58455271b2 Use cpu_number to index mapping
09d69227d8 libbinder_rs: Handle empty args list for dump transactions
3ac6dd9b33 Fix the Nullable pointer is dereferenced issue
21f9b0db50 Check for data buffer size while marshalling parcel
37eae98a23 libbinder: fix buffer free race
7edee6d711 Support BR_TRANSACTION_PENDING_FROZEN
e2f239da08 auto formatting from bpfmt
ad80ec623c Fix bug when there are no packages to OTA dexopt.
cf82037921 Reduce debuggerd backtrace timeouts in dumpstate
803bb2883a Don't infer the default boot image location in otapreopt.
0b56719901 Installd: don't generate app image with empty reference profile
4d9b6cc5dd Don't allow opening reference profiles for writing when ART Service is enabled.
465b3b006a Use dalvik.vm.background-dex2oat-* system properties for background jobs.
728cc87ad4 opengl: fix resource leak when dlsym failed
d4a8dcf101 Quick path to query window width and height
1d8df0553c Remove set_cpuset_policy due to new taskprofiles for SF threads
d0370a34fb Set the maxImageExtent for vk wsi based on currentExtent
5fd0c71f66 vulkan: respect consumer default dataspace upon PASS_THROUGH
7117759508 Allow PASS_THROUGH colorspace with R5G6B5, R16G16B16A16, A2B10G10R10
3d07957e51 Allow use of PASS_THROUGH colorspace with RGBA8
7e97a68d98 Use sync binder for queueBuffer transactions in gaming
1b698aa569 Fix an arithmetic error when using unsigned
3fc344c04b libgui: refactor pre-rendering feature
e5144437d2 Always provide metadata blob for hdr frames
ad58e939e9 Enable isolated process to use graphics allocator
df8d820ccf Add addService to pass in allowIsolated flag.
43d90ebb40 sf: Reset validateWasSkipped in PostCommit phase
c2ed5423f9 Avoid vsync enabled when in DOZE mode (AOD).
06f42495bb Skip transaction processing if the surface damage stays the same in Layer::setSurfaceDamageRegion.
c1d602ee9f Skip dumping backtraces for cached processes
720636e0cd MotionEvent: Round coordinates to a precision of 0.001
d1a40e06b5 Check for null data buffer in AParcel_marshal
b4d149b90d surfaceflinger: fix missing pure virtual declarations.
6a98e153cd installd: explicitly specify capabilities
b072df0f5b Replace duplicate shaderOutputLayer with subgroupBroadcastDynamicId
9243dd05a1 sf: Reconfigure Display without waiting for mode change.
b388a3a026 SF: Bring back support for disabling backpressure propagation
2e3f0c073f DO NOT MERGE Extend mPreviousPresentFences for high refresh rate
f03d7e858e SF: avoid skipping waiting for the earliest time to present
0267b71f4a sf: Avoid destroying a null layer
223e3544eb surfaceflinger: Modify dumpAll to dump on the main thread
401a6c6b21 DO NOT MERGE: SF: Fix a race between layer creation and apply transaction
648109eeb5 binder: Enable ThinLTO
ad2084ab93 Fix resetting app switch due time.
4dec22a9bb libbinder: rpc java detach error code
20f9c86904 libbinder: Allow vector construction from unaligned data.
e723e7c32c sf: Update mSendUpdateImminent on reset callback
5833aeef05 Update VK_GOOGLE_surfaceless_query extension fixed values
fd0bb2b675 Reduce timeouts for occasionally-stalling sections
8539793593 Stop OtaDexopt when receive any exception signal
abc6c0ca0f Fix for: clearAppProfiles interface can cause arbitrary file truncate
e93979b898 Fix for: copySystemProfile can cause arbitrary file read and write
8fd19c2c98 Suppress codecvt deprecation warnings
baa5d1c975 binder_parcel_utils: remove unreachable code
c3cf6bae39 libbinder fuzzService: can't start threadpool
e3c172702e Only use legacy_usage for legacy query
8f71a5eaba Use UIDFaker to ensure Credentials_test cleans up setting UID
62ff04a806 Fix validateBufferDescriptorInfo error when usage bits were 32-bits
a636fd2041 Don't wait on permission check.
930b7dc50f Increase frame history size when SF buffer queue size changes
40d8679d57 Fix libgui cts crash bug
22dc1f6bcc Fix unintended buffer canceling
c0133e84fd Fix Surface HDR meta reset
4af790ee36 nativedisplay: fix the flicker issue in streaming video
438d244bf8 sf: Avoid present hidl call when DP is disconnected.
31debc76de SF: Use lowest possible refresh rate in doze mode
e3dd326582 SF: set debug.sf.frame_rate_multiple_threshold to 60 by default
b39e4b2699 SF: Scheduler: vote max for NOTIFICATION_SHADE
bfe3824f73 SF: Scheduler: add more window types to consider NoVote
070b0772b3 Turn off LTO for libviabratorservice as a workaround
883fc1f1a6 Turn off LTO for libvibratorservice_test as a workaround
fc1d1b6c8b It's no need to start the dispatch cycle going if the outbound queue was not previously empty.
a4b76dc2c0 Fix the shadow problem caused by layer parent switching
cbedb8aa5f libbinder: O_CLOFORK
528061c9cc libbinder: Suppress log spam when unlinking death recipients

   * packages/apps/DeskClock
79330344f DeskClock: Update navigationbar color to `system_neutral1_800`

   * packages/apps/FMRadio
244a7df FMRadio: Generalize Built-In FM Antenna support

   * packages/apps/LineageParts
50f5ca5 LineageParts: Add bt dev/devclass null checks in trigger fragment

====================
     05-18-2023
====================

   * art
35ff9deea4 Fix libart-compiler ReadBarrier flag init order

   * bionic
1cd79f3a9 Nullability check for time module.

   * frameworks/av
a8a9180f90 Effects: add a method to retrieve audio configuration
5abaea30c8 SessionConfigurationUtils: Allow privileged camera apps to create raw streams for raw capable cameras
06175f8d9e fixup! Camera: Skip stream size check for whitelisted apps
e0593f4e31 libcameraservice: add TARGET_CAMERA_NEEDS_CLIENT_INFO_LIB
71e3e8c3d8 StagefrightRecorder: Add "set-title" parameter
42ea377adb libcameraservice: Add support to set vendor tag with client package name
f5ee87f981 camera: Allow to use boottime as timestamp reference
89fbb97de7 Add AC4Tbl params for dolby AC4 decoder [1/2]
4f9fecc24c av: support per-app volume [1/3]

   * frameworks/base
ffb5de815f18 ExifInterface: Catch IOException caused by invalid image
ee38a4a5f8fb appwidget: Catch IllegalStateException when retrieving providers profiles
c7b2509004bd SystemUI: Small cleanup 'Lockscreen text size'
e2b6a825a12a Fix null-deref crash while fuzzing
6b2ddaaece94 Fix typo in Dynamic coloring section

   * frameworks/native
6b4de48153 Add AC4Tbl params for dolby AC4 decoder [2/2]

   * lineage-sdk
d5e7962c sdk: remove aar target

   * packages/apps/DeskClock
b842c0290 DeskClock: update digital widget
ed295fa8d Revert "DeskClock: Material You digital clock widget"

   * packages/apps/LineageParts
cfc8f8c LineageParts: Add proper offset for trigger pager

   * packages/modules/Connectivity
68535602d NetworkInfo: Prevent a NPE caused by null Network type
ce00cfc95 Fix ConntrackSocketTest#testIpv4ConntrackSocket flaky

