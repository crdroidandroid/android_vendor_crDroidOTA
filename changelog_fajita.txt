crDroid 9.2

Changelog since v9.1 hotfix 1:
- February 2023 Android Security Bulletin merged from upstream.
- Device trees/hardware/kernel/vendor changes pulled from LineageOS.
- Updated translations from upstream.
- "Bluetooth won't stay connected" should be resolved properly now.
- Kernel rebased on top of LineageOS lineage-20 branch of oneplus/sdm845 which FINALLY incorporates 4.9.337 from Google's common kernel android-4.9-q branch, with some additional backported stuff from 4.14 & updated QSSI qcacld-3.0 wifi driver (thanks to BananaFunction), and then reapplied my stack of modifications for crDroid (mostly pulled from MCD kernel, thanks to Danny).
- Burn-in protection should no longer cut off the battery chip at the extreme outward end of its travels (lowered the allowed horizontal range). Navigation hint pill should no longer fly south for the winter.
- Hopefully eliminated possible doubling of statusbar items/carrier text/airplane mode text in certain views.
- Updated Lawnicons from upstream (and fixed a couple more that were causing crashes when themed icons are enabled).
- Added prop for disabling surfaceflinger backpressure propagation (yet moar smoothness, mmm) since we have support in framework still and it can be nice on some legacy devices (which, I guess we are).
- Several fixes under the hood in ROM sources from crDroid & Lineage upstream (Launcher, Clock, GameSpace, plus some additional new aptX bluetooth audio codec offloading support and probably other things).
- "Misc bugfixes and improvements" (more nullability checks in bionic). :D
- Fix for potential race condition during boot with allocating loopback devices for mounting apexes from upstream (luk1337 is a wizard).

Known issues:
- Carrier name *still* goes off on walkabout under the rounded corners on lockscreen after a bit, I'm going to need to do a lot more work for figuring out overlay priorities and layouts and such before this gets fixed for good (so don't hold your breath).
- Custom fonts in crDroid Settings don't get reapplied to everything on reboot; need to select a different font & then back to preferred font after restarting.
- If home screen keeps going black and then reloading, open Settings, then go to Apps > Default Apps, and click the gear next to "crDroid Home" to open our built-in launcher settings, and toggle off "Themed Icons" for now. Send me the crash report URL (paste.crdroid.net) or MatLog zip and it'll tell me which icon needs to get fixed.
- If you have SetupWizard installed as part of your Google Apps package, then enable Multiple Users and create a new Guest User, the "Setup Wizard" activity will fail to run at the end of the new profile creation, which will leave a couple props unset that normally tell Android that you've finished initial setup; and you won't be able to interact with the notifications/QS shade & will only have the "back" button in the navbar. You can either wait 10 minutes and it automagically fixes itself, or exit the "Guest session" without deleting data, and the next time you enter it, you'll have full control over navigation & statusbar/shades. This seems to be a limitation on multiple custom ROMs currently.
- People don't read documentation.
- You tell me, with logs!

Installation notes:
- In case of bootloop (boot animation stuck for longer than about 2 minutes and never gets to lock screen), reboot to recovery and manually flash the ROM zip either via ADB sideload from computer, or from a FAT32-formatted USB thumb drive via OTG, then reboot to recovery again, and re-flash your same Google Apps/microG/Magisk/whatever install zips (again via ADB sideload or USB OTG), and reboot system. This *should* take care of any lingering errors with old things getting stuck in your /system/addon.d/ directory that might be trying to preserve old privileged system apps without privileged permissions (which is what causes those boot loops in the first place).
- The built-in OTA updater in Settings > System > Updater goes a lot faster if you go into Updater preferences and toggle on "prioritize updater process", and make sure the screen stays on by using the Caffeine QS tile, or "never sleep while charging" toggle in Developer Options, or changing your Display timeout to 30 minutes.
- See XDA thread for other troubleshooting other common installation issues including problems with OxygenOS Camera & Gallery.

Build type: Monthly (-ish)
Device: OnePlus 6T (fajita)
Device maintainer: Jordan Whiteley (Terminator_J)
Required firmware: OxygenOS 11.1.2.2

====================
     02-23-2023
====================

   * bionic
faa4b74be Nullability check for glob module
5077676ec Nullability check for fenv module
af17bfd7c Nullability check for vfs module
dc7b2a31e Nullability check for string module
ceb4cfa85 Nullability check for wctype module
08c6c7894 Nullability check for epoll module

   * frameworks/av
1719a72d70 Efficiency improvements in OggExtractor
89706d30ae WebmFrameThread: Don't set mDone in WebmFrameSinkThread::stop

   * frameworks/base
6de6bef19f48 Revert "SystemUI: fix duplicated creation of KeyguardStatusBarViewController"

   * packages/apps/GameSpace
f191e92 New Crowdin updates (#35)

   * packages/apps/Launcher3
8c1c4bddbf New Crowdin updates (#327)

   * packages/apps/crDroidSettings
e9a80c65 New Crowdin updates (#1025)

   * vendor/addons
9626136 addons: Fixup broken icon(s)
c88dcd2 addons: Add more package names for themed icons
66fa395 fixup! addons: Remove google prebuilt leftovers

====================
     02-22-2023
====================

   * android
523de08 Merge 'lineage-20.0' into 13.0
aa01966 manifest: Track our own system/apex

   * system/apex
15d1b7d2 Improve logic around pre-allocation loop devices

   * vendor/addons
187db9b addons: Update themed icons

====================
     02-21-2023
====================

   * hardware/interfaces
ae47101e9 bluetooth: audiocodecs: add 16 bit sample rate for APTX offloading

   * packages/apps/DeskClock
7c48f043a Merge 'lineage-20.0' into 13.0

   * packages/apps/Launcher3
19cee33c97 Launcher3: Fix crash when placing widgets

====================
     02-20-2023
====================

   * device/lineage/car
9812326 lineage: car: fix automotive service build

   * frameworks/base
662c434eee04 Revert "SystemUI: Clean up redundancy in BurnInProtection"

   * packages/apps/Launcher3
73915560f6 Launcher3: Fix widget add screen on dark theme

====================
     02-19-2023
====================

   * art
059d98fbb1 Reland "Update non-moving space references in reverse"
aa66792dde Update ExecUtils to support artd use cases.
49a6d43a9f odrefresh: Add an option to set the boot image compiler filter.
636036182d odrefresh: use "speed-profile" if a system server jar has a profile.
496d73146c Make Read-barrier stub-test to use gUseReadBarrier
4129a4f010 ART: Add two extra DCE passes
3e3239c49a ART: Rename 'final' DCE pass to 'after_bce'
b314ea72d6 Clean up `IndirectReferenceTable` visiting.
a9080fa81a Accept comparison of instance-of with the constant 2
61ddb98874 Clean up `IndirectReferenceTable` construction.
c0b7e82499 Reject boot images if there is a read barrier state mismatch.
c843e66fe9 Improve `CanMethodUseNterp()`.
317f05cd69 Update native GC roots page-by-page
5b5122be14 Revert "Disable shared method memory optimization."
b229b95334 Reland "Change well known `ClassLoader` fields to `ArtField*`."
dcd8711e26 Clean up `DexCacheData` records earlier.
8b78597f97 Poison dead objects only in debug build
2595eec479 Clear profile when switching between boot image profile and app profile
c98077fe70 Cleanups around shadow frame creation.
b61e07a3ae Minor nterp improvements.
5384cc4ece Don't cache a field if storing to it can throw.
73bb067640 Remove deprecated code on obsolete method.
ac3e70a529 Avoid a slow switch in `NterpGetMethod()`.
5c7595d245 Remove TryRemovingNullCheck from LSE
378918b80f Add more checks in the presence of file corruption.
223ef3242a Correctly delete all uses when building up the domination graph
78443a174e Remove instructions from dead blocks when building the dominator tree
17a5782eed Update the successor's Phis in RemoveDeadBlocks
a2c04f80d5 Improve DCE's SimplifyAlwaysThrows regarding Invoke location
bb2bd20a37 Refactor CollectionVector::SortByMapOrder
f950f63a75 art: fix -Wdefaulted-function-deleted warnings.
d73b13bb9b Reduce sleep duration between marking and compaction
1bff3c2536 disable MTE in RecurseDownStack::Touch
75f587f96f Resolve conflict in naming of ahat module and file
2138019541 Disable GC in Get*Critical() for SS and CMS
324fa30b78 Ignore the error when deleting the root directory during cleanup.
8e2d33c0d9 Fix typo inversion in GenerateLastValueLinear
2628e32737 Allow all GCs when not using read barrier
a1f75a84f0 Extend timeout for the compilation job
4c2f793cd8 ART: Remove duplicated access modifier in OptimizingCompiler
6d38348eb0 Reland "Propagating values from if clauses to its successors"
049cb62e55 Don't apply backoff time if the last compilation succeeded.
38b017042a Skip acquiring block-lock in BumpPointerSpace::AllocThreadUnsafe
4f66204515 Enable using nterp interpreter with userfaultfd GC
cb7e0bff12 Fix gtest failures due to userfaultfd GC
d4367d4c77 Convert kUseReadBarrier to static const from constexpr
33885a8995 Tolerate existing zero-pages in moving space
14fc67aa56 Update objects-freed after marking phase
f12f763700 Reland "Put queued compilations in sets."
622eee085d Make moving space compaction concurrent using userfaultfd
6e21d0aee7 Put queued compilations in sets.
7aae84069a Update native gc-roots separately in compaction pause
32af833b7c Add debugging info
6c4839c17e Handle black allocations in concurrent mark-compact
e37ea950d3 Stop-the-world compaction phase
c2c3457a0e Add data-structures required for concurrent compaction
075043bd4f Marking phase of Concurrent Mark Compact GC
01b7960931 Generate selects for nested ternary operators
53efdd838b Wait for JIT threads to be created in ASAN builds
6f5da0acf0 Specialize `DefaultEmptyFn` for `std::string`.
8e30b63d10 odrefresh: Ignore some system properties.
983c30cee0 Cleanup: Use HBasicBlock's IsCatchBlock method
9bca8ec32b Faster class retrieval in nterp.
3ae72070d9 Change well known `ClassLoader` fields to `ArtField*`.

   * build/soong
33bed915a cc/lto: without profiles, more aggressively inline

   * frameworks/av
9e8c467d39 Camera: Filter readoutTimestamp for older vndk
a0f26477ef Keep track of music effect thread when primary output is unavailable
1945a0aa9a aaudio: fix command thread busy loop.
1776b6ea3e Avoid creating sp<> from a pointer
5d59f6b0a5 AudioFlinger: propagate createEffect return status safely to caller
e2023543fa audioserver: Ensure minimum binder priority set

   * frameworks/base
2810ef9cf64c New Crowdin updates (#950)
1f5594221e86 AudioSystem: Add AUDIO_FORMAT_APTX_ADAPTIVE_{QLEA|R4}
7ce0946fdf0a AudioSystem: add missing native audio formats

   * hardware/interfaces
1a4838c3e audio HAL: set minimum Binder access priority
a6cbeeb02 Remove length check to allow empty HDR10+ blobs to HWC
35e273381 camera: Fix prefix length path for External Camera HAL
e839228a1 btaudio: aidl: Support offloading all LDAC qualities
e810b6240 audio: Verify that hal implements get_audio_port before calling

   * packages/apps/GameSpace
6089481 New Crowdin updates (#34)

   * packages/apps/Launcher3
f721d9857f New Crowdin updates (#325)

   * packages/apps/crDroidSettings
cd1da5ac New Crowdin updates (#1024)

====================
     02-18-2023
====================

   * art
85ec745274 Update CanTriggerGC flag for ArraySet
7c183b41e1 ART: Add static helpers for ArtMethod's access flags.
32805be063 build/art: bump stack frame size slightly/safely
b3abffb772 art_cc_defaults: use whole program vtables lto optimization

   * bootable/recovery
55b39e7a defaults: disable lto for some A-only workarounds

   * build/soong
2d61be74b cc/lto: Use O3 LTO GC Opt Level when without profile
2370b22dd soong: Add out/soong/$TARGET_DEVICE/dex_bootjars* to installclean
d55af554c soong: Increase Java heap size for r8
fc81d18d4 Add qcom.fmradio and org.codeaurora.internal to allowlist

   * frameworks/base
0e9df590ee20 display: Don't reset brightness adjustment on clearUserDataPoints()
6ae3a5de4ff3 display: Force a reset if brightness adjustment is changed directly

   * packages/apps/GameSpace
7f50b30 GameSpace: Notify in-coming call number when receiving/rejecting call
7c10a18 GameSpace: Port auto answer/reject calls feature

   * packages/apps/Launcher3
30f310caf2 Launcher3: Move restart check to home page

   * system/update_engine
505adcda ue_defaults: disable LTO as workaround
173dc39f payload_generator: Fix distribution for LLVM roll

====================
     02-17-2023
====================

   * packages/apps/DeskClock
ab6b2b85a DeskClock: Don't delete expired timers

====================
     02-16-2023
====================

   * android
84a4c07 Merge 'lineage-20.0' into 13.0
2ba66bd manifest: Track our fork of packages/modules/Virtualization

   * build/soong
e54ff775a Merge 'lineage-20.0' into 13.0

   * device/qcom/sepolicy-legacy-um
286e8496 sepolicy: msm8998: Label discard_max_bytes

   * packages/apps/DeskClock
a2fd78f63 DeskClock: Fix upcoming alarm notification

   * packages/apps/GameSpace
6f1cc82 GameSpace: Long click Settings icon to open Settings Dashboard
c972b96 fixup! GameSpace: Update takeScreenshot API in ScreenUtils

   * packages/apps/LineageCustomizer
6d78f75 Add an exported flag in manifest

   * packages/modules/Virtualization
68a154b sign_virt_apex: Set hash_algorithm flag to sha256
9c5065e Set avb_hash_algorithm=sha256 for system & vendor img
7f34da0 Fix the task graph of sign_virt_apex

====================
     02-15-2023
====================

   * device/qcom/sepolicy-legacy-um
95d4b318 sepolicy: msm8998: Label extcon cable nodes

   * packages/apps/Aperture
636f225 Aperture: Do not store photos captured via other apps
be96723 Aperture: Insta hide secondaryTopBarLayout on camera mode change
bb105d0 Aperture: Make SecondaryTopBarButton square
42bc070 Aperture: Set SecondaryTopBarButton height to wrap_content
dd63b4a Aperture: Remove OIS handling

   * vendor/lineage
2e58c35f apns: Added IA APN types to all default type APNs
8f227bf9 apns: Format xml spacing

====================
     02-14-2023
====================

   * frameworks/base
2808872345ac SystemUI: Fix clock text color on combined qs header
201d358ab630 SystemUI: Apply dark theming to split shade

   * packages/apps/DeskClock
2d773b994 DeskClock: Fix timer notification
d15bfb905 DeskClock: Ensure ringtone is playing when starting the crescendo effect (#4)
