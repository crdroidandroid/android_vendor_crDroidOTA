crDroid 9.7

Changelog since v9.6 (07 July) release:
- July 2023 Android Security Bulletin (android-13.0.0_r61) merged.
- Device trees/hardware/kernel/vendor changes pulled from LineageOS.
  - Think we've finally nailed down the one-touch wake & unlock implementation, hopefully nothing actually changes user-facing.
- crDroid:
  - "Misc tweaks & bugfixes." :D
- Device-specific:
  - Updated kernel commits from bananafunction's lineage-20-test branch, everything seems more or less fine.
  - Backed off some of the PEWQ and PSI/cgroup/mempressure things from kernel in 9.5 & 9.6, battery life seems to be back where it was before in 9.4, possibly even better, yay!
  - Just for grins, trying to just use basic jemalloc instead of scudo libc malloc implementation for 64-bit libs as well. Might help with some of the crashdumpies?

Other notes / Known issues:
- Recommended GApps is my "elite build" NikGapps config. Download it from https://nikgapps.com/Terminator-J and enjoy.
- Audio (and probably a few other things) is always a little screwy at first boot after a clean install. Finish the initial setup wizard without restoring everything, and reboot as soon as possible. Then it nags you to complete setup, and you can restore all your stuff at that point. It'll be a lot happier.
- Recovery now WARNS YOU THAT YOU SHOULD PROBABLY RESTART BEFORE INSTALLING ANYTHING ELSE AFTER FLASHING AN OTA ROM ZIP ON A/B DEVICES, HOLY BALLS THAT'S AWESOME. For realsies, this makes life so much better... except everyone's gonna be following some garbage video guide for a different ROM/device about how to use TWRP instead of reading the actual instructions.
  - Of course, this requires you to actually install 9.7 at least once before you'll see the change next time you're flashing from recovery, but it's there! It's gorgeous. I cried tears of joy. The heavens parted and the sublime harmony of an angelic choir wafted down. 10/10 would `repo sync bootable/recovery/` again.

*Failing to reboot to recovery after the ROM installer zip has completed, means it won't switch slots, and you won't have any GApps installed into the new system partition, and everything will be terrible.*

Build type: Monthly (-ish)
Device: OnePlus 6 (enchilada)
Device maintainer: Jordan Whiteley (Terminator_J)
Required firmware: OxygenOS 11.1.2.2

====================
     07-29-2023
====================

   * bootable/recovery
02bf164e Merge 'lineage-20.0' into 13.0
107dfac7 recovery: Ask to reboot before installing anything after A/B update

   * frameworks/base
7b2bf270e449 Add keylayout mapping for Dualsense Edge gamepad
ec68f11139ed No need to include cutils/threads.h

   * hardware/interfaces
f703ac913 Merge pull request #11 from TechMatrixx/13.0
744512920 camera: Guard newer HIDL overrideFormat
5a6d83f57 frameworks: Update HIDL overrideFormat from HAL

   * packages/apps/crDroidSettings
35c2487 crdroid: Misc doze code cleanup and update

   * vendor/lineage
66951d01 Merge pull request #46 from TechMatrixx/13.0
df9fad53 vendor: Add TARGET_CAMERA_USES_NEWER_HIDL_OVERRIDE_FORMAT

====================
     07-28-2023
====================

   * android
ffe778e Merge 'lineage-20.0' into 13.0
2fa2e8b qcom: Sync core-utils-sys and core-utils-vendor

   * frameworks/av
98c618c5b5 Codec2Client: remove vendor_available and apex_available

   * vendor/lineage
ac3b9b69 crdroid: Bump to version 9.7
07763b27 soong: Add CAMERA_NEEDS_CLIENT_INFO_LIB_OPLUS
a028dd4d overlay: Offload WM shell to another thread
078ca235 overlay: Set components from pixel device
cecf2e8c crdroid: Update Pixel props
6f1e719a common: Enable R8 optimizations for system_server and SystemUI
ba2f6a87 overlay: Settings: Show memory usage in app info
467876fc overlay: Partially disable gms chimera service
cf2da04d overlay: Add google OTA to global disabledComponent
2ad00dfa overlay: Allow gms to access persistent data partition
273e9071 crdroid: Introduce App Lock [4/4]
e8182fa6 prebuilts: sdk: Add latest preference-ktx library
59a38206 overlay: Enable QR Code scanner on Lock Screen
388eadeb soong: Add CAMERA_NEEDS_CLIENT_INFO_LIB
127312f9 soong: Add support to set vendor tag with client package name
9a05035d soong: Remove unused cflags for TARGET_ALTERNATIVE_FUTEX_WAITERS
9ecd35b5 crdroid: Minimize debug info
c977f1d6 overlay: Settings: Set styles/wallpaper picker action name
4567535d crdroid: Build ParallelSpace
4901eb9d soong: Add TARGET_ALTERNATIVE_FUTEX_WAITERS
f631c26c crdroid: Inherit several Android Go configurations
5eec339c crdroid: Speed profile services and wifi-service to reduce RAM and storage
e6c5ec96 soong: Add TARGET_CAMERA_BOOTTIME_TIMESTAMP conditional
3b269b7c overlay: Add tethering to location exemption
45152087 crdroid: qcom: Allow a device to manually override which HALs it wants to use
3210ee9e bacon: remove additional echo
97ce01ea createjson.sh: generate blank device json file on unofficial
cea2132b overlay: Add SystemUI to location extra packages
4fe3c4ca overlay: Add OmniJaws to location extra packages
37a56755 build: Disable ABI checks
1fc23e40 roomservice: get me some crDroid
f61b5543 Revert "roomservice: Use mirror manifest instead of search API"
23b6b35e Revert "roomservice: Read all local manifests"
24d362ba overlay: Update SettingsProvider defaults
2e7d6785 config: Properly disable blur on app launch
e2604d44 apns: Update mobily APN for prepaid connection
390aacfa config: Cleanup and update common props from Pixel
bcc22b93 config: Optimize Launcher3 and Settings for speed
15c7716c build: Override host metadata
35b7af06 apns: Grameenphone uses APN 'gpinternet'
27217da2 Revert "overlay: Default to Seedvault backup transport"
d53a87b4 crdroid: Generate OTA json at build time
a97bab95 crdroid: Drop custom adb drawable
13b040d2 crdroid: Clean up wallpaper overlay
d719b6bc crdroid: Moved bootanimation to addons
f7d8af52 build: Ship as crDroid based on LOS
8f01a74f crdroid: Remove TrebuchetOverlay
352f87f1 crdroid: Add changelog script

   * vendor/qcom/opensource/dataservices
c8adc2a rmnetctl: Conditionally remove rmnet_data header include

====================
     07-27-2023
====================

   * device/lineage/sepolicy
9233fac Merge 'lineage-20.0' into 13.0

   * packages/apps/Aperture
c9be184 Aperture: Update CameraX to 1.3.0-beta02
c32bb3d Aperture: Restore old flash mode after Torch

   * packages/apps/Jelly
9f91d5c Revert "Jelly: Drop unused dependencies"

   * vendor/lineage
5c779462 qcom: Prepare for non-legacy dataservices
fa1664c6 qcom: Use full QTI gralloc struct for GKI 2.0 targets

====================
     07-26-2023
====================

   * android
4a8b115 Partially Revert "lineage: Remove no longer used symlinks"
b98d1fd Merge 'lineage-20.0' into 13.0

   * device/lineage/sepolicy
5dfb805 common: Label bluetooth.hci.disabled_commands

   * frameworks/av
b1246f2637 Visualizer: Resolve multichannel capture

   * frameworks/base
3171c7cdf9e5 Avoid recursion for leaf task fragment in freeform mode

   * hardware/qcom-caf/sm8150/display
321c693ec sdm: hwc: Allow enabling doze mode support with a property

   * packages/apps/Aperture
1c64102 Aperture: Preserve classes extending SettingsFragment

   * packages/apps/Contacts
4272151bd Contacts: Fix navigation bar theming
da9c23d7e Contacts: Fix LetterTileDrawable for all languages
f9741270b Send group mail from Contacts Label cause app to crash
f48e9e485 Contacts: silence logs about getDrawable without theme

   * packages/apps/Jelly
5e7cdbe Jelly: Drop unused dependencies

   * packages/apps/Settings
57cc41c68d Match APN types with ignoring the case

   * packages/apps/SetupWizard
1afe5f7 Merge 'lineage-20.0' into 13.0

   * packages/apps/ThemePicker
1bae9ba2 Merge 'lineage-20.0' into 13.0

   * packages/inputmethods/LatinIME
065d0ea9d LatinIME: Default to Material You theme
137f27891 LatinIME: Add libjni_latinimegoogle for swype
c27b063bc LatinIME: Fix NPE in KeyboardTheme
8b0660c21 LatinIME: Implement space bar cursor trackpad
715d0d796 LatinIME: Add number row option

   * packages/modules/Bluetooth
2b932ba1ef gd: hci: Allow disabling selected local commands

====================
     07-25-2023
====================

   * android
429efd2 Revert "manifest: Track our Eleven fork"

   * device/qcom/sepolicy-legacy-um
d2866673 sepolicy: Import legacy usb rules

   * frameworks/base
d4c7b25ad6cc SystemUI: QS Header Image [1/2]
098f5f84f5a5 Bump word-wrap in /packages/SystemUI/scripts/token_alignment
5ac3d7a93653 ConfigurationController: Prevent app crash on orientation change

   * packages/apps/Aperture
8863c66 Aperture: Set default_applicable_licenses
ea79c37 Aperture: Switch Android.bp to SPDX
dd2506a Aperture: Start making it REUSE compliant
69766ff Aperture: Add missing copyright headers to icons
cbe47bf Aperture: Move torch mode on photo mode to long press
473ec70 Aperture: Add some processing settings
7901412 Aperture: Use a delegate for view model properties
4b472e6 Aperture: Add previous() and next() for all enum classes
b2d9983 Aperture: SettingsFragment: Handle back button properly
3aeaa5d Aperture: Better handle left/right swipe gesture
dbd2ada Aperture: Sort camera modes in CameraMode
37c5c8e Aperture: Use the view model for LensSelectorLayout
4e95783 Aperture: Set UI components visibility on LiveData observer
59478dd Aperture: Remove useless timer mode button visibility setter
aaa5391 Aperture: Reformat code
7092b3b Aperture: Disable video quality button when there's only one quality available
6796239 Aperture: Add an info chip
1b1e80b Aperture: Use LiveData to update secondary bar buttons UI
7efb1d1 Aperture: Constrain count down view to the view finder
6362979 Aperture: Inflate count down view content by its own
e78d88f Aperture: Handle thermal status
8078449 Aperture: Add volume buttons gestures
300e62b Aperture: Handle camera errors

   * packages/apps/Contacts
68e10aee1 Contacts: add support for importing VCF v4

   * packages/apps/Eleven
24ecd251 Eleven: Request MANAGE_EXTERNAL_STORAGE permission

   * packages/apps/Gallery2
bca6838e1 Check for Potential Null Pointer

   * packages/apps/Jelly
9f96ba9 Jelly: The epic of better suggestions
aee69cd Jelly: Remove custom focus change listener handling
38bebfc Jelly: Switch to new JSON format for Google suggestions
7f96a63 Jelly: Cleanup downloadSuggestionsForQuery
b2b4f08 Jelly: PrefsUtils -> SharedPreferencesExt
4ddc7bc Jelly: Bring in our version of guessFileName

   * packages/apps/SetupWizard
0456a86 Remove landscape layout for missing SIM page

   * packages/apps/crDroidSettings
725b452 Revert "Revert "crdroid: Accomodate new header images""
95aded2 Revert "Revert "crdroid: QS Header Image [2/2]""

   * packages/services/Telecomm
d748af467 Catch IllegalStateException in Telecom when the Bluetooth process is down

   * system/core
8e4ead838 storageproxyd: Start only a single binder thread

   * vendor/lineage
c3dda454 Hookup GRALLOC_HANDLE_HAS_CUSTOM_CONTENT_MD_RESERVED_SIZE
8bbb7d90 qcom: Add support for kalama platform
99041d0e apns: Format xml spacing
da5e531a Revert "Revert "config: Build NavigationBarMode2ButtonOverlay""

====================
     07-23-2023
====================

   * art
a96536cb50 Fix odrefresh's queries on system properties.

   * frameworks/base
e710c3937672 Fix the concurrency issue when 'linkToDeath' in AccountManagerService that leads to JE
936c372fe265 Fix Invalid Surface error
34ab64be3eb8 fixup! Add toggle to enable brightness slider haptic feedback

   * lineage-sdk
649ffd52 Handle more custom DNS migration
100d8dc0 Migrate Cloudflare DNS mode to hostname
64459f7a lineage-sdk: Bring our icon
6fd43377 lineage-sdk: Add restart SystemUI in Advanced Reboot [2/2]
f8d3a2a0 lineage-sdk: Update few default key assignments
b3c3c723 lineage-sdk: Add backend for handling missing button actions
c3771d5c lineage-sdk: Fix settings pref switch for multi-user
3fd7892a lineage-sdk: Properly set default value for switch pref
33402b36 Allow value to hide the clock
1677f123 NotificationLights: Allow overriding for all apps [1/2]
74e23fc1 Add toggle to allow advanced restart on secured lockscreen[1/2]
231f8167 Battery light: 100% charged level (3/3)
c40339cd sdk: Add On-The-Go Mode to power menu constants
af622905 Add more device key actions [1/3]
57f5f4cb Add device key action to take screenshot [1/3]
1f49e07c Add device key action to toggle flashlight [1/3]
70da1fc3 lineage-sdk: Remove setting loading for FORCE_SHOW_NAVBAR
36a54e82 sdk: Try loading default setting value for switch
f2518f26 sdk: Set summary automatically if required
93c6c378 Add settings for brightness slider improvements
3deabca1 Network traffic mode for status bar [1/3]
9a27cae4 Allow value 3 for status bar quick pull down
2a6532ce lineage-sdk: Enable advanced reboot by default
cbb12c2c sdk: Replace los versioning
e164512d sdk: Kill trust interface hint on first boot
b0af0134 Disable by livedisplay by default
22f9086c Ship as crDroid based on LOS

   * packages/apps/FMRadio
ec0f0a4 FMRadio: Use FLAG_IMMUTABLE for notifications
cc29422 FMRadio: check for other runtime perms too
b50935b FMRadio: Ask record audio permission before starting
71aa624 FMRadio: (almost) drop system UID
25b8ce2 FMRadio: fix listen to recordings
92d2cc2 FMRadio: fix record activity timer being off after a while
d6259b8 FMRadio: match playlist by name instead
5b6038d FMRadio: fix monkey using MENU key can start record
ba2a149 FMRadio: Play Music is dead - fix saved recordings
a71ab2c FMRadio: androidx conversion, cleanup makefiles
31f2615 FMRadio: use notification channels

   * packages/apps/Jelly
f15ceb5 Jelly: Cleanup MenuDialog UI
9933887 Jelly: Switch Android.bp to SPDX
908c007 Jelly: Start making it REUSE compliant
57fe081 Jelly: Use WindowInsetsControllerCompat for hiding/showing the keyboard
24411b8 Jelly: Show keyboard on "Find in page"
12e64e3 Jelly: Pass a LinearLayout to MenuDialog's LayoutInflater
3284fac Jelly: Close keyboard when "more button" is clicked
4675ae2 Jelly: Remove focus from search bar when we close keyboard
514ca4f Jelly: New SSL certificate info dialog
c6a4d6a Jelly: Change desktop mode string

   * vendor/addons
c0a1cf6 addons: Fixup broken icon(s)
fa08d53 addons: Update themed icons

====================
     07-22-2023
====================

   * android
2266761 lineage: Remove no longer used symlinks
c2ee5c3 Revert "manifest: Track our new apps fork"

   * bionic
a82861b45 Merge 'lineage-20.0' into 13.0

   * external/chromium-webview/prebuilt/arm
8a258c8 Update Chromium Webview arm prebuilt to 115.0.5790.136

   * external/chromium-webview/prebuilt/arm64
f6f228a Update Chromium Webview arm64 prebuilt to 115.0.5790.136

   * external/chromium-webview/prebuilt/x86
59ca79e Update Chromium Webview x86 prebuilt to 115.0.5790.136

   * external/chromium-webview/prebuilt/x86_64
777d0db Update Chromium Webview x86_64 prebuilt to 115.0.5790.136

   * external/exfatprogs
e706c15 Merge tag '1.2.1' of https://github.com/exfatprogs/exfatprogs into lineage-20.0

   * frameworks/base
2a008f334672 New Crowdin updates (#1005)
9a7e327d67d2 Update Crowdin configuration file
5ff486874648 SystemUI: Redraw display cutout on overlay changes
77b374de4ae7 Fix bug on DC#ensureActivitiesVisible
38639f0b7da7 Fix formatting when dumping mDisplayHomeButtonHandlers
8f8577d14faf View: Remove tooltip callbacks when detached from window
82b9a6c96f5c Fix flakiness of testNativeCrash
8e22f4bf45c2 Convert mBroadcastCode to correct value
5c601db0a918 ServiceRecord: Don't post running notification for selected apps
683fd0b41219 Battery Styles: Add customization for QS
09cd10f903d0 Use std::unique_ptr in FileDescriptorTable
620cd30102a3 Fix memory leak of FileDescriptorInfo object.
ba642a9cefb1 core: Catch OOB when returning pooled string
2ef3acb575da Fix vibration patterns with zero duration steps.
71ede18b5e18 binder: remove dead logging code
f6128e45bd34 Remove useless variable "mapbase" from screencap
3e52b23d57ee UEventObserver: Fix logging for uevent messages
18d08638b23c PackageManager: Create missing userdata directory
d28f2984e3b5 Smooth Spinners: Makes the loading "spinner" animation smoother in non-holo apps
2b2ad30bdde8 AuthRippleController: Always finish the LightRevealScrim
bddf23a6d5db SystemUserInfoHelper: Fix crash when switching user
7bdc3dd61973 NetworkPolicyManagerService: Avoid OOB in addSdkSandboxUidsIfNeeded
e90b0e43c8db Bump tough-cookie in /packages/SystemUI/scripts/token_alignment
69df4edaca6a Avoid CalledFromWrongThreadException in BubbleController
1140b71c0b09 Fix system reboot in systm_server caused by SensorPrivacyService
5bc2d97b813c Watchdog and sluggishness due to multiple virtual displays created by third party apps
f46866886283 SourceStampVerification Return more specific error code when verification fails
09b904820a6b Early return when mA2dp is null (disconnected) to avoid null object reference
04e41970b11e Increase timeout for UIAutomation
ac655cf3a9c0 Respect timeout multiplier in PermissionControllerManager
8f6e53db6562 Make private, single-assignment fields "final" in android.content.
1916c302306d fix(#Magnification): mis-use non resoure id in resource getter when magnification capability setup
9d1cdf87bfe8 Usb: Fix incorrect mapping of port mode constants
53ba5c9f4637 Fix resource leak caused by TypedArray type
c66818796e06 Simplify UserHandle.equals
c85a097b46b0 Ensure ActivityManagerInternal instance is non-null
66e626c88668 Add listener once for volume row animation
f3f956c3a46a Delay tryToRebind if application exit reason is LMK
1f5419fc41d9 Device stuck in boot due to ArrayIndexOutOfBoundsException
008d6dbad83a Sometimes Screen does not wake up while receiving whatsapp video call
21e2717c10db Prevents activity being stopped while folding/unfolding device
c8a0741ca562 Fixes foldable autorotation setting being out of sync in QS and Settings
fbfeeb932c33 Fix deadlock in BaseDataProducer.
6d839bdcd704 WallpaperService: Fix half black wallpaper after rotating quickly
ad7dcd49ecac Refresh layout parameter for bounds change from relayout
8858946588d0 Fix NPE with void android.view.VelocityTracker.clear()
966b7a564c07 KeyguardBouncer: Don't delay showing if face auth running
1d82ddbc2cf4 Fix: avoid the potential attack on SlicePermissionActivity
d4940b0efe0f Prevent crash in AccountManager after profile removal.
ddcf32a3e15b avoid NPE when getPreferredActivitiesInternal
4d58d0e7307e Add toggle to enable brightness slider haptic feedback [1/2]
8284a361f08a SystemUI: refresh system icons on theme change
d38f702fa7b6 SystemUI: Add null check for vibrator in brightness controller
e58bbef4826f SystemUI: add haptics to brightness slider
1d3e9ad0fa11 SystemUI: Enable charger plug-in statusbar chip
6306c141d41b DisplaySettings: font size in 5% steps from 80% to 130%
93de91d3b70c StatusBarSignalPolicy: Set initialized to false on destroy
065e1d12c31d themes: Fix list style alert dialog to use system font
03f9af3c5aa1 SystemUI: Remove excess margin in few statusbar icons
2a5f6fb15f7b Allow a drawn reported activity to keep screen brightness
b84cac6ce2c3 Fix wrong permission state changed being notified
3c450c094194 Handle ArrayIndexOutOfBoundsException for install_sessions.xml
3f54968aed9c Fix the problem that AccessibilityNodeInfo maybe null and cause a crash.
46f1de7d7d47 Flush output buffers when command is complete
d18d5e6ee1f7 libhwui: Enable O3 when compiling with LTO
f666bb0d203c Pregrant non-system preloaded apps
c12efbe4983b Fix setAttachingSchedGroupLSP() to support use_fifo_ui
face45418925 Ignore BIND_ABOVE_CLIENT for same-process connections
9002edd703fe base: Update mock LinearmotorVibratorService
8cf7bdd4d28f base: Add overlay to mock oplus LinearmotorVibratorService
2de7165f3450 base: Add mock oplus LinearmotorVibratorService
21d0a313d816 Hide hidden apps from all apps except system
bd827dad45da wm: hacky fix for system_server crash
9e3a4f3d9295 wm: never consume statusbar in freeform mode
8adc2f2f02ca wm: block custom activity transit animations
48a9d9f168a8 wm: block task transitions from displaying in freeform
081932aa5728 wm: add freeform-compatible activity transition animation
26c077d27543 wm: support freeform-specific animation overrides
e876a2debfcd wm: do not show keyguard windows when mirroring due to dream
9d77f5338444 wm: Fix menu in legacy apps with multiple activities
048a89bbb55a wm: fix APPEARANCE_LOW_PROFILE_BARS not working in non-fullscreen app
0b0661750468 SystemUI: show ime switcher + cursor keys if we have space
3ec3f02a9946 wm: rewrite/fix window change animation
ceb476e70772 wm: fix freeform transition visual issue
24b59d7bb76d wm: Fix menu only opening once on legacy apps
c1679824f528 Pull out common code in createFromParcel's switch
61b992772239 ExifInterface: Catch IOException caused by invalid image
59255048e90b appwidget: Catch IllegalStateException when retrieving providers profiles
7723695f8f75 SystemUI: Small cleanup 'Lockscreen text size'
c8384168f7ca Fix typo in Dynamic coloring section
e7fb8b1bef76 SystemUI: Restore default lockscreen clock text sizes
9c45a9462213 SystemUI: Lockscreen text size settings [1/2]
1f1b7a1ef0b2 SystemUI: Lock screen clock top margin settings [1/2]
0ef4992a644c SystemUI: Ignore font padding for large ls clock
9fba58fda6cf services: Fix ArrayIndexOutOfBoundsException on `updateContentCaptureOptions`
58134a26838e Allow overlaying font spacing for lockscreen clock
6508a08c2fb2 SystemUI: Hide notification icon area if headsup is visible
c52234051ea1 Fix hang when dumping local cache info.
50a7fe2db544 Hide data limit notfication if data not active nor default
ede81983004c Animate backlight quickly when HDR mode is changed
92d51423c317 Frameworks/base: Fix potential IllegalStateException in RescueParty.
b9b83e8f40d1 Fix some memory leakage
710794c8d8b8 media: fix MediaMetadataRetriever Option Intdef
2a3e38f259cc MediaCodecInfo: consider only critical flags for level support check
ab17bcc9a551 ImageUtils: Fix estimated bytes factor for P010
d04fd5be4bb2 Fix cts flaky issue on adt3 device.
8c7eb45ef6f7 base: Remove restrictions for system audio record
5bed9874b02e Visualizer: use actual sampling rate of the instance
38ae8cf39b93 Fix AudioMix.equals()
7b3fa9192888 HwAudioSource: auto reconnect feature on AudioServer crash
610ee92d9940 View: Fix not refreshDrawableState when set hovered in focused view
924ff2e07691 Introduce isDeviceClassMatched() to align BluetoothClass comparison
6e28efb79e9a Device asks for PUK code instead of SIM PIN
9183e61a855e Crash when enabling show_operator_name_in_statusbar_bool
f45d3593462b Fixes a thread safety issue (a time-of-check-time-of-use bug) in BatteryExternalStatsWorker that causes system_server crashes in VROS device.
4c858262536d Add handling of permanent disabled sims
5328a487f724 AudioDeviceBroker: Fix not setting proper call volume for LE Headset
ef7730a2133a hwui: Fix multiple definitions of NativeFamilyBuilder
c9810e0a9075 QRCodeScannerController: Check for google package availability
0a25ea785862 QRCodeScannerController: Use Lens as fallback activity
71b45adb4672 binder - include calling PID/UID in uncaught remote exception code
3035d976e8cc Clear calling identity before calling to DeviceIdleController
909ffd40ee1a Fix cursor not blinking when view re-added to layout
552d363c6c48 Fixed UID mismatch in telephony registry
9d9cc225f139 QSPanel: Prevent systemui crash when adjusting tiles height
e992e93920f1 WindowManager: finally proper desktop mode handling
8dd7f638f73f SystemUI: Enable cast tile without Wi-Fi connection
d238dee7943c SystemUI: CastTile: Open cast settings on long click
33d415beb9d4 SystemUI: Fix crash in cast tile for non-carrier wifi
455629fc3fbe HWUI: reset buffer state only for ES3 context
93d127a5541e KeyguardStatusBarView: Clean up cruft
0a255b2b3c50 Extend kill button to notification conversation guts
79512630b126 OomAdjuster: Remove excessive log
74370ddaa917 oom: Enable proactive kills only on modern kernels
4d0f7b78f847 SystemUI: Rework dismiss all view in QS
2768e622698d Use try-with-resources to avoid accidentaly leaking unclosed objects.
742392eb4c34 AppProfiler: dont be so hectic on cpu battery stats
05239c49b942 os: Process: Fix wrong code in isThreadInProcess
18bbd12d4b9b Fix unqualified-std-cast-call compiler warning
2002a795e871 HWUI: reset buffer state after MakeCurrent
7ba57cefa237 Restoring SDR brightness immediately when entering dim state if the device is in HDR brightness scale mode.
b8fa6975b4b1 Return with error logs instead of exception for unexpected nsi
0deb4bfa9297 Catch exception when dump local window.
a6e401ac7fa5 Fix hang when dumping local window.
10d77afcf7d2 Activity not finishing even after pressing back key
5f723cb74e37 SystemUI: Handle more exceptions for firewall
05899dedf806 Fixed process can't start because of mPendingStart is true problem
cd62909d52ed Add a suspension check to SuspendedAppActivity
1faffd2cfa6a Fix com.android.server.wm.TaskFpsCallbackController#unregisterListener method NEVER works
a2d53b59ed42 Do not crash webview if its group creation fails due to a dead process
51dbab1e130c NotificationMenuRow: fix logspam
85e6ef6116ba BatteryStatsImpl: Avoid dividing by 0.0 in updateWifiState.
566f3f495020 allow toggling VoWiFi while roaming by default
b9c13038445a Fix warnings from static analysis tool.
146b35ebdd8e base: Try loading input filter only if specified
c7c0284a4aeb base: Support for device specific input Filter
737962bd0d07 base: Add SmartSwitchChanged api
7b1e008280bf opengl: Don't request render in GLSurfaceView.GLThread ctr
1ab94c5e2350 SystemUI: Enable media background turbulence
14a86c9d1bd7 SystemUI: Enable media player surface ripple on button press
f657920e125a base: Add switch to unlink ringtone and notifications volume [1/2]
4bed9f1574e1 SystemUI: VolumeDialog: add support for unlinked ringer streams
5341458f57fe SystemUI: Align keyguard carrier text with status bar
55ce992434e9 Fix crash with HW assist button
057639351ed5 Stop unsuspending packages in profiles
69fcd6acceee Add managed profile support for cross profile intents
569fa38e2b6a services: Allow pause/suspend app feature with parallel space
79a086d79d23 Pause apps feature
4ce8b731bf51 SystemUI: Prevent InternetDialog crashing system
03eb8cd1f5a6 SystemUI: Clean up battery callback in CollapsedStatusBar
719112a1c27a SystemUI: Switch to TunerService for CollapsedStatusBar
f6383cd45115 Use IPv4v6 as default protocol when APN setting is not available
034f3b1385fd SystemUI: Reduce keyguard indication text padding
5fe514c3a7cd Fix the problem of slow exit of boot animation
d1a461ddcd23 PulsingGestureListener: nit: Remove typo semicolon from imports
f344609b9974 Fix: "Clear All" recent app screen loop bug
142daab3890e SystemUI: write initial value of SHOW_QR_CODE_SCANNER_SETTING on first call
dad982ebe4ec Fix memory leak in GroupExpansionManager
e0ceb9a7e02d SystemUI: global actions: fix icon position on multi-line action
44aba33f1603 Treat process group creation failure due to a dead process as non-fatal
a9dc8bda4b01 Treat failure to create a process group as fatal
de16a11cfbbb WindowProcessController: Fix potential memory leak
20ed8a2ab377 JobScheduler: Stop leaking user information
18e0747a27b5 Avoid needless Integer.valueOf() object allocation.
567cabcd0127 DisplayPowerController: Disable log spam
6cb8f804b5f7 SystemUI: Enable session-based media actions for all apps
4dd0f8fe6b74 Allow unpausing apps that have an unpause dialog
72d1cb5c3fb5 bugfix: automatic notification permission request breaks in some cases
c076451c2019 AudioService: Unmute Le Audio devices when activated
aa03a5b0e9da Fixes crash/race condition when destroyActivity
eaa75e1b5055 base: disable DBG
0677ceb18ee7 Close DirectoryStream in ActivityThread after use.
5646942acf45 Do not kill the server process itself
22c7fe0beee7 Update persist cache when package updated.
83ae6167ad2d When the sharedUserSetting of the application on /system is different from the sharedUserSetting on /data, we should trust the sharedUserSetting on /system
6c2c639f4408 Add package name to WorkSource for Wakelock acquired from WindowManage.
1af62bd6f38f Zygote: Fix dropping capabilities in containers
11f85080780c Use SecureRandom instead of java.util.Random.
9b8e6618d8b6 check whitelisted packages exclude nonsystem app
ffd6e47f77d1 Improve Transition GC initiation by improving the Frameworks triggering signal
61e0dc699748 SystemUI: Add monet customization [1/2]
0ff7b9b3612f SystemUI: Block few clock customizations in QS header
da2e8e26659b bugfix: isServiceTokenValidLocked() was called without holding the lock
0fa2fa444304 Fix viewing app info dashboard of hidden work app
5993d1a2c70c Fix: Firewall: NMS inverts default rule behavior
c1d64072538f SystemUI: Fix battery color on QS for circle battery styles
ea97a6b6366d Doze-on-charge: Add few improvements
fc1547bc4433 Opt libhwui out of -fprofile-sample-accurate
d34548ffa0de base: add option to enable AOD on charging only [1/2]
5da71a6d61a8 SystemUI: Apply QS transparency to footer actions background
c62a525f0986 QSFooter: Launch crDroid Settings when long clicking settings
d6dd7ccf48f5 SystemUI: cleanup bluetooth dialog impl
6f24a21c8bcc libandroid_runtime: workaround global ThinLTO bug
33ddcf5577e6 libandroid_defaults: force full LTO to workaround runtime bug
31644225bcf7 SystemUI: Add restart SystemUI in Advanced Reboot [1/2]
bea6189499da Always make mouse cursor show on external display if it exists
cb36c13518e4 InputManager: allow to force NULL cursor
d6442331de4a InputManager: add cursor change listener
4499b57eb824 Add back button for freeform window
adba94185517 Only show pip button if activity supports it
eae62d824ff2 Add minimize & pip buttons to freeform windows
8b57a91a68c0 Fix secondary user crash with system user locked
870dfcf43514 Fix profile provisioning check in secondary users
28d1d911c028 Make sure gc_urgent is normal mode, when no need GC
74e261aba43d Allow profile owner to set user_setup_complete secure setting
0a2d7489a5d4 SystemUI: add haptic feedback for qs tiles (#956)
93ceb6ddf60e SystemUI: Move bluetooth dialog creation to LongClick method
03d2295fac1d SystemUI: Implement Bluetooth dialog
aa3314ce5398 Use getPackagesForOps instead of iterating packages by checkOperation
0a09b93906bc ColorContoller: Fix getting default accent color
65d1dbe26e3c UI: Use SNAP_FIXED_RATIO for multi-window globally
d6986079fa66 SystemUI: Hide wifi standard icon if not connected to wifi
e58497734602 AppLock: Fix hidden apps reset after reboot
a65accd600e7 AppLock: Update API
5676ad2984ef AppLock: Allow locking all apps visible in launcher
34ff0f94b96c base: Introduce app lock [1/4]
075f56de397f Hidden Apps filter for use in the Settings app
7e96fae8c19b Show hidden apps on secondary users' app lists
381be2fa5831 Switch back to the application on /system when UID and path changed
7b20815335bd StrictStandby: Offload force stop onto lock-free context
df0d12d2a3db am: Block MEDIA_MOUNTED broadcast for restricted apps
978eb644175b base: Add support for strict standby policy
de4eb2230c6d SystemUI: Do not add lens screenshot without google package enabled
144f48685497 SystemUI: Make Lens work without independent package installed
69efc69fe9d1 SystemUI: Integrate Google Lens into Screenshot UI
c8abc2c8ac0b Use profile's power button/timeout lock settings
4fce444565e2 Fix unlocking of multiple work profiles at boot
dbd19ea396e2 Fix Open With dialog within a work profile
74ea305881cf Add additional work profile badge colors and labels
a6a08215a057 Always allow overriding the number of work profiles
651d98ec35a2 SystemUI: Blurs: allow blur even when GFX acceleration is disabled
28e7335fd1ba SsytemUI: Add Locale Tile
99051e6592b3 NotificationShade: Make blur crossfading more gradual
89caa36929b3 Handle graceful exit with constants
1a103b4d52b6 UI: Adjust default navbar layouts
16d59cf7b2cc CachedAppOptimizer : Pageout File pages during system compaction
4bd3eb2c0ec8 SystemUI: Allow limiting AOD & ambient display refresh rate via overlay.
6ec93843a9cd SystemUI: Also blur power sub-menus
a06165d96aaf SystemUI: Blur the power menu
3f326d864a25 Fix disabling power menu completely on secured locscreen
d9fdfa1eb46e SystemUI: Allow making Navigation Pill thinner [1/2]
e847fb8c17da SystemUI: Allow Configuring Navbar Radius [1/2]
d052bdb59e69 Catch IllegalArgumentException for invalid phone id
9c1110c3fdd3 Fix crash when comparing messages
4ca8c85218d9 use max_adj to control process final adj
40a475ffe826 Avoid resursion for sleep check in embedding window
465500f66cec PowerUI: Mute logcat spam.
72693723e4c5 SystemUI: Don't force small clock when media isn't allowed on keyguard
e3da3aa7d777 base: make per-app work with multi audio focus
c1e406bd8877 SystemUI: Remove visibility check in setting QSCarrier color
de2f910a12a7 MobileSignalController: Do not duplicate SPN and PLMN
39437d7f7697 PhoneWindowManager: Clean up unused keys
563d95e4d318 Add handling of missing ServiceSpecificException
94ede38272ce Cleanup 'Update battery info every second when device is charging'
ef925015f148 Make overlay for 'Update battery info every second when device is charging'
2c1f2477983c Update battery info every second when device is charging
a1a2a52a2706 Fix an issue that the FoldStateListener induces a memory leak
a4d947796559 Guard in short-circuit evaluations for stringSplit methods.
a2a44dbdd46b Fix potential crash in ImageTransformState
baaf2f49ddec fwb: Only enable some features on eng build
2d2f2a05e85c SystemUI: Re-designed caffeine tile icon
20ab8bdfd163 base: Add support for Lockscreen clock fonts
bf33944c6076 Calculate apk size multiple times
7ad6ea3c4419 vibrator: fix log format and level issue
5602c8ce1cd2 Dynamic broadcast receivers that are not exported need to be filtered in checkBroadcastFromSystem
989bff38a258 base: dont call roundStorageSize on Storage API for getting sizes
d2c30b96532e Fix black screen issue due to wallpaper decoding exceptions
5fd12b8e84fb KeyguardIndication: Set wakelock on doze only when required
6f5d029f121a base: Refactor Wi-Fi standard icons
8990dd41e5b9 base: Import Wi-Fi standard icon [1/2]
e3cb626cad8f VolumePanel: Change bg tint for inactive rows
0a838f0d5f94 VolumePanel: Add long click for expand icon
efc9352007d5 NotificationPlayer: use AUDIOFOCUS_GAIN_TRANSIENT instead of AUDIOFOCUS_GAIN in looping mode
71b978e1c12d SystemUI: Remove existing icon group if its overriding
f0209f517805 NetworkTraffic: Fix leaking receivers
3cec509ed957 NetworkTraffic: Simplify stats calc to prevent issues
703fc04fd484 Network traffic mode for status bar [2/3]
d5173d601e48 StatusBarIconController: Avoid crash due to incorrect casting
cf5f7285b415 Fix VPN icon failed reloading after disabling
587111a02aaf TwilightService: Save and use last fetched location
160c077a425d TwilightService: Use temporary TwilightState when location is not available
bd941a4ad2db Package installer: show current and new version on apk installation
51e90d375a16 SoundSearchTile: Update intent flags for the apps
4815e884d265 SoundSearchTile: Extend the use
8d2f81f940c0 Add Google Sound Search tile
da1e9293c925 Logspam: Properly handle optional app widgets service
21aed36ccb59 SystemUI: Switch notification background to monet on heads up
8b089ffb3649 SystemUI: Fix up status bar end side content layout
b7769fc5b877 SystemUI: Fix up status bar start side content layout
6dc280bb748b base: Added screenshot tile
95a5b5761f76 SidefpsController: Apply ScaleFactor to sensorLocationY
b980da7c3ddd MobileSignalController: Remove unused volte leftover
205b1f40951a fixup! Improvements for dynamic VoLTE & VoWiFi icons
123650860e54 SystemUI: Update IMS states and update icon when necessary
8a440aa13ad4 MobileSignalController: Try register IMS callback when listening
0d3e1f8f4f0b Improvements for dynamic VoLTE & VoWiFi icons
9ec6c8806350 SystemUI: Introduce dynamic VoLTE & VoWiFi icons
9a024fe29208 fwb: Smart Pixels on UDFPS - drop disable_smart_pixels_on_udfps flag
244d6bdef312 fwb: Allow disable Smart Pixels on UDFPS
dfb524b36774 SmartPixels: Fix BatteryController dependency crash
11ab1760f20f QSTileHost: Fix crashes with tiles like Anti flicker
35b12978fde7 DisplayModeDirector: Make sure we apply refresh rate on startup
6cf180c4a0b0 DisplayPowerController: avoid updating settings when adjustment is NaN
bfe81ad28c92 System crash during dismissing split in multi-user scenario
5cad6c5e76c8 When a user is unlocked, it will install provider, but it cannot publish Provider successfully,we need add pr.installProvider before scheduleInstallProvider
7e68a55b0f76 Fix watchdog when NaN lux is reported.
741acb609908 services: Suppress double upgrade notification for parallel space
7e1ee3c65ae6 services: Do not turn on multi user switch for new parallel space
2d51f73b50d8 SystemUI: Fix privacy indicator not showing for apps in parallel spaces
f92dbcf8a9fe GmsSwitch: Fix crash when GMS is admin app
1782debad701 ParallelSpace: Prevent system crash for blocking notification of blocked apps
bfd89774643e ParallelSpace: Block telecom server package
8b89694c2e54 ParallelSpace: Add Android Auto to block list
b604c9371aec ParallelSpace: Allow/block essential apps without overlay
fb4e616ab02f Add support for GMS switch
1ade8a2558f1 ParallelSpace: Allow devices to overlay whitelist/blocklist apps
27cacc469e74 ParallelSpace: Mark badge string as not translatable
bb85fa378742 services: Fix parallel space crash with third party launcher
693ab408305f data: Add missing priv-app permissions for parallel space
4acae7781b96 ActivityStarter: Resolve launcher intent to parallel owner user
3fbeb3a9c8bf services: location: Whitelist parallel space users
92279c4a41fe services: camera: Whitelist parallel space users
eb280be08059 base: Expose parallel space owner to api
257ebacdfb87 Whitelist some Packages for Parallel space
9f962638407c base: Add support for managing files across parallel spaces
c8e6751478da base: Add support for parallel space
440eaa798399 BatteryStatsImpl: Guard against OOB
84d50a273932 Remove RESET_BATTERY_STATS permission for resetting stats
5a5b9b9a0c00 BatteryStatsImpl: Stop resetting battery stats after reboot
36a8165ed75c frameworks: Reset battery stats [1/3]
372fb98cd883 Add config overlay to force enable multi resolution for camera
e11e9150e7c5 Revert "Remove fixed grant of READ_PHONE_STATE and cleanup"
739235f6ae16 SystemUI: Switch to config for Refresh Rate QS tile
c8828d06e716 RefreshRateTile: Improve logic
2e8e167fdfc8 base: added refresh rate tile
6250351b78f8 Introduce trimMemory to AppIconCacheManager
d763fd04f5da udfps: Implement framework dimming support
bed382cb8465 base: Allow toggling floating rotation button [1/3]
20ddd6e78c13 Settings: make SensorBlock readable by non-system apps
6cc0168d21ae Make sensor block package list configurable [1/2]
a9e7fca4245e base: Add Accelerometer and Linear Acceleration sensors in blocking list
d1d5f914f17d FWB: Sensor block per-package switch (1/2)
672d355cfd46 SystemSensorManager: sensor block per-package
1f7de63112f6 Do not show camera indicator for Face Unlock service
3af2e9ed9de6 SystemUI: use simple check for isFaceDisabled
c8aaa99e774a SystemUI: Face Unlock animation
ee462a20e90d Hide face recognizing message on bouncer when authenticated
b21a558251c1 face: Pass requestId on our authentication client
f0bbbc26df22 SystemUI: Simplify and fix up showing face unlock detection
a5fe531010ca SystemUI: Tell user when face unlock detection is running
e2fe582b20e7 Reset face auth on occluding app when authenticated
040fb844c927 WalletActivity: Don't explicitly request face auth
bcf4f04e5526 Allow changing face unlock method when locked
db6407f676b3 base: do not use new lockscreen layout for bypass
405a83f02bf0 FaceService: Allow our face unlock to be used on third-party apps
354d2a3b3935 SystemUI: Improve pt-br translation for fingerprint_dialog_use_fingerprint_instead
4175bb245f7d Add idle lockout message for FaceUnlock
54d176a58396 services: Merge T changes on our custom face unlock impl
68edf34a34ee Initial import of Face Unlock for S
21031098ccd5 BiometricScheduler: Cancel operation if not idle
ab56ac8b705f SystemUI: Allow disabling clipboard overlay [1/2]
8a1d1e98cf73 Youtube application when moving to PIP animation was very bad
3ae9ca714e2c Fix the pip bounds error when entering pip mode.
31c31c6dbd2f Fix pip error, from split-screen to pip in landscape..
0986c2dd37c3 Shrink by 0.5 for YUV TextViews
35aabcf0725f ViewGroup: Remove child parent when a new view is added
479d0cfa40d9 Fix drawable-state cache expired issue
0dfe7ae6bb12 Touch is not working
ae33c379c51d SystemUI: Prevent systemui crash when reinflating QS
e489e1f9b6f6 InputMethodManager: Prevent unnecessary invocation of IME
d14a44e30ad6 Pause is getting scheduled 2 times
5a1b53f50dd3 Custom statusbar logo customizations [1/2]
2e9ea45ff63f SystemUI: Add Weather tile based on OmniJaws client
53556a43ec48 SystemUI: Introduce Adaptive Playback [1/2]
15a70a41e043 Keyguard: Fix quick unlock not applying without reboot
d56b62ac5ab8 Keyguard: Fix scramble pin layout not applying without reboot
9af0b4377977 base: Avoid saving length as in a sql db for quick unlock [1/2]
fc280ab2172d Make Quick Unlock compatible with long PIN/Password [1/2]
628d8c463edd Keyguard: Forward port lockscreen quick unlock (1/2)
d333f9467056 Keyguard: Add option to scramble pin layout when unlocking (2/2)
48d4a8b1fbda Revert "Keyguard: Add option to scramble pin layout when unlocking (2/2)."
ea5f813d4e06 Revert "fixup! Keyguard: Add option to scramble pin layout when unlocking (2/2)."
3d80dc1d3e7a Add interface for battery stats reset
9ac5e2d82a0f Pulse: Implement pulse color based album art [1/2]
955152a8d5c2 Pulse: Detach pulse view only when attached
9e6e22b6d5ac Pulse: Solid renderer round lines [1/2]
6c40d6d4b549 Pulse: Set current Refresh rate as FPS animation value
76f4cda7dd4c Pulse: Add more NPE checks
0c5a85705588 Pulse: Extend to Ambient Screen
9a740ebc0df1 Pulse initial checkin for Android 13 [1/2]
a2cab928a0c0 SystemUI: Nuke oriented navbar handle
7266546d5faa base: allow disable of screenshot shutter sound [1/2]
027cf8a51978 Volume dialog timeout [1/2]
e538a3d987e8 SystemUI: Use App icon for per-app volume
3cec55463432 base: support per-app volume [2/3]
74822c9daed3 base: Live Volume Steps [1/2]
e33a374fb1e3 HeadsUp: Change heads up timeout to seconds
3413252830ec HeadsUp: add timeout option (1/2)
643f375feba2 LessBoring: fixup LessBoring preventing bubbles
292279617aee Less boring heads up: Don't skip heads up for most messaging apps
64443af5a3d1 Slightly optimize less boring apps check for heads up
efd6ea783079 Skip less boring notification check when reTicker mode is active
233f269848a4 Allow to suppress notifications sound/vibration if screen is ON [1/2]
7a6c8c628b93 Less boring heads up option [1/2]
3b2ab756c7b9 AudioSystem: Add AUDIO_FORMAT_APTX_ADAPTIVE_{QLEA|R4}
77a923c879a2 AudioSystem: add missing native audio formats
243ea8e5dd41 Avoid Installer APP ANR when starting install in main thread
7127f4e75434 Safely handle the case of BroadcastOptions being null.
f5059066ae73 Don't warn for displays with no input device matching.
4dd53f96887f Fix screenshot sharing failure after the recent task is opened.
c655d2afce6c Fix getStorageVolumes to return public volumes visible to userIdSharingMedia with.
e81797115bbf Add YCBCR_P010 in switch content in ImageUtil getNumPlanes.
88b8024f77d1 base: wm: Follow rounded corners by split divider corner size
90c23867f30d VolumePanel: Pass touch outside of volume panel
feabc28503ca Volume panel: avoid multiple animations on touch spam
0a3f58c982ae audio: add support for extended formats
3661bce4aa1e Give slightly more descriptive error messages when you can't find resource IDs
d89eb4c4935d Add deep sleep preference controller [1/2]
f4df316bdf95 Fix how ExifInterface creates VP8X chunks for WebP files
f7282002f10d Prevent ExifInterface incorrectly copying a WebP padding byte
7bcd7a97b251 Fix kotlin deprecation warnings
b269513d5a45 AudioService: RecordActivityMonitor: fix unbounded list growth
61ce5963a536 Fix broken anchor tags.
0de996821f36 Fix unused-but-set-variable warnings
c717d83292fc Fix ATRACE_TAG redefinition in SysTrace.h
16e2e6b50dc3 Fix module-file name collisions
0edf27ee3cf8 Fix error message being cut off.
bdddd4c9ddca ViewConfiguration: Fix multi-thread safety issue
55833bc1cff9 TwilightService: Explicitly use `FUSED_PROVIDER` instead of getProvider()
644fdbe7c8b1 Fix errorprone warnings that should be errors
90b0a32c0521 Fix errorprone warnings that should be errors
5035bd1db0ab modify requestLocationUpdates
55123266a396 Easteregg: Fix wrong PendingIntent flag at BubbleMetadata
726796baf9e1 Unhide Parcel.writeTypedList() with additional flag
b58f93254260 Fix array-related errorprone warnings
d0420b069093 Reset PowerGroup.mIsSandmanSummoned while waking up.
f321282a16d6 Fix problem that sub user`s active CustomTile can`t be updated by requestListeningState API
2a26dc48bbee Fix errorprone 2.15.0 errors
0993095e00ac toString() of StringBuilder need to create a array copy with count, if no more memory could be made available by the garbage collector, "free list large object space" maybe oom.
3763ae78d5de Fix binderDied of an app can not be triggered in some cases.
c25a2e10418d Services: Boost gesture flings
a94d301c655b Fix erroneous self deletion on SkImage creation failure
b451a7c69247 Fixed Attribution Sourceâ€™s calling Uid check for multiuser.
22fa7ee6d984 Fix the problem that the turn_screen_on Activity does not draw.
1af96a99d170 Fix WifiInjector instance exception if WifiService disabled
cd7c8dfff469 Replace LinkedList by a more performant collection
7943531710d0 Fix the problem that the home key can not work in some cases.
a1676a793192 AudioService: catch RuntimeException for IServiceManager.getService
a00c32eda22e Change the default value of sync mode to NORMAL
195a9e3616ec Make sure view is laid out before calling createBitmap
de0058cfb621 Make sure width and height are not zero before calling createBitmap
859dbd3de126 telephony: SmsMessage: Bring newFromCDS method back
5aed75b20168 StorageManager: Add dummy inCryptKeeperBounce method
3da57b112997 SystemUI: Respect Statusbar left padding in keyguard carrier
ac18271443cc ActivityManager: Add stub implementation of enableBinderTracing
0593830aa1f1 Skip tracing missing binder txn names
044a8361c494 Enable binder txn tracing more broadly
141e494cd124 Clean up binder txn tracking special case
8b008834cb8b Populate binder trace txn names lazily
b93d6a78ada7 Only create clip bound object when RenderNode is not quick rejected
bd5104281fde Send <Request ARC Termination> when Standby
98ea5181d015 EnhancedEstimates: Get estimates from Device Health Services
e0d17efe431e Cleanup and consistency around system server profiling.
6563303074ee Allow profiling for standalone system server jars.
b828e856a750 Use synchronization to protect service list and service class name set
9243820c3174 Fix bug for user removed case
8b7e29f1177b PackageInfo: Optimize ApplicationInfo creation
20417c37ebcd Update HWUI to use GrGLMakeNativeInterface instead of deprecated GrGLCreateNativeInterface.
613c07b61fd4 Remove unnecessary HashMap instantiation
c16363a846ef Hide contaminant dialog "Enable USB" button if not supported
d09e44f5017a Fix freeform window resize not working on multiple displays
77504d4e52b3 Avoid crash when dream starts
c0bb3f441e44 SystemUI: Check whether the selected WFD route is available
e13fb5ae9478 Check if disabled system package exists before cloning its setting in createNewSetting
525868572e7a Check if integrity verification has already completed in case INTEGRITY_VERIFICATION_COMPLETE
67ec960a5367 Parcel: fix memory leak
854e4d580116 Allow fabricated RROs to survive a reboot in non-user builds
2ab22cfa38be screencap: Add async option to media scanner broadcast
6d4695211393 Not run hideDotView as an animation
ef90b63d4e4a Fix bluetooth tile show blank
05e6b9ba48ef Change sendVolumeKeyEvent condition
acc439c0eddb fwb: GLSurfaceView: Be less picky about EGLConfig alpha sizes
bd2fc96630d6 display: Don't spam log when display state changes
99200eca5b2a Fix bug Device that can't support adoptable storage cannot read the sdcard.
e2ab3fc95d51 Fix permission issues for network update service
378ee2481278 MediaSessionStack: rechoose the media button session after the current one was removed
c406f02ebd07 Add absent sim info to locked screen text
7f3cb6d54a98 Changing max SampleRate limits for raw audio decoder
bafa7f8c0589 RecoverySystem: make the package readable before checking capex
10c0d7179da9 SystemUI: Add colors to assistant animation
ab1b04fd5f9d SystemUI: Set launcher activity name
51f3aa0f5038 Fix crash with protected content with ElectronBeam/Scale screen-off animation
a9022c59f97a Add upstream fixes to ElectronBeam screen-off animation
df92eb93cebb fwb: Screen off animations [1/2]
145fe9a4a435 Fix long click intent for Smart Pixels tile [1/2]
5877eeb841be SystemUI: Add Smart Pixels tile
eee32315dab4 SystemUI: mark smartpixels as a trusted overlay
9af53503e6b1 Smart Pixels: Update default grid pattern
c582b9d0f945 SmartPixels: Use CoreStartable interface for receiver
1845f434d56e Smart Pixels: Dynamically register receiver
7252eb1da926 Smart Pixels: Switch to registered receiver
42582d864491 SystemUI: Smart Pixels [1/2]
98153bf7dc87 SystemUI: screen-dimmer-pixel-filter
5b70e16ec2de Reload navbar icons on changing style [1/2]
82753155742d Add kill button to notification guts [1/2]
c59f0486d591 fwb: Implement cutout force full screen [1/2]
e87d3f37c6e6 Ambient Music Ticker - Allow to pulse on new tracks [1/2]
c20e50acb5df EdgeLight: Fix up applying custom color
10c34d068d26 SystemUI: Prevent edge lightning from pulsing outside keyguard/doze
d65fb1b47333 SystemUI: add edge light customizations [1/2]
6cf27123a28f base: Add bool to enable/disable doze by default
ef6494ee1051 Allow tuning ambient display with sensors [1/3]
b3422f4af4b0 Add toggle to disable charging animation [1/2]
2ce8ccc61118 base: Use wireless charging animation for wired charging too
6950e3b54386 UI: Follow Monet and light/dark theme in user 1 icon
b3471ef7dcb0 Follow Dark/Light theme for Safe Mode dialog
5656b711f4f4 ThemeUtils: Make it compatible for all targets
638637cdc555 Bring back ThemeUtils for Theming
5c99f2043af4 Add support for Navbar styles
6a916a574cdf ThemeOverlayApplier: Apply wifi and signal icon styles last
71b794d85cd4 appop: Save discrete app op history for more permissions
b918c2dfb100 Paint: Enable subpixel text positioning by default
18629b9f4a59 Add button to AppErrorDialog to upload crash information to pasty
4ffa905de92a InternetDialog: Launch mobile network settings on long press
fbab2fc2e7bf SystemUI: Add hotspot toggle in QS internet dialog
212909b28049 SystemUI: QSAnimator: Hide secondary label in QQS
43e4a9e05def base: Bluetooth timeout feature (1/2)
eacd44a7477d base: Wi-Fi timeout feature (1/2)
8e3666a05ecc SystemUI: BurnInProtectionController: offset less aggressively
27e8f1dd0c46 SystemUI: Implement burn-in protection for status/navbar
eb2622c63525 SystemUI: Re-inflate QS and SB when CONFIG_SCREEN_LAYOUT
2153b02ce5fa SystemUI: BatteryMeterView: Set white tint in darkmode
05b543c5c7b0 PhoneWindowManager: Pocket Judge: Don't mess with power button to reject call
08f16ead003d base: Pocket Judge: Don't go to sleep while on call
5f0264b0c76b pocket mode: Update style to latest OOS specs
996cab8f4a6d PocketJudge: Allow to register vendor proximity sensor
bdfd9c378f09 PocketLock: Make using light sensor optional
bd5f2bc33632 SystemUI: Improve pocket mode layout
d6248abe0a39 base: Redo Pocket mode view like OOS
b0429ea796dc Fix an edge case in KeyguardUpdateMonitor pocket callback
669ace267cc3 PocketJudge: allow register vendor pocket sensor
41632f2bdf72 PocketLock: fix flickering on animations
71e2cd439287 Pocket lock: Add config_pocketModeSupported overlay
d367fb834674 pocket: introduce pocket bridge
11e9ada80963 pocket: Reduce sleep timeout for pocket lock
86f3de5df55d pocket: Use MD2 lock drawable
c46c11f80d63 Pocket lock improvements
a4c1ebc89e77 pocket: Fix pocket lock view for display cutouts
7f0c6b848d14 pocket: Adjust sleep timeout for pocket lock view to 10 secs
5d7a2a55020f PocketService: Adjust light sensor rate to 400ms
9bbb4d80786d pocket: Add hardware acceleration and properly maintain SYSTEM_UI flags
6f433636fa64 policy: introduce pocket lock
a95d75d861f3 pocket: introduce pocket judge
bcb1bdab10ec AlertSlider: Allow UI to work with multiple resolutions
a6c4ec20440a AlertSlider: check for existing dialog before creating new
c64ff6bdaa30 AlertSlider: Support slider actions without broadcast from device
f038b815709d AlertSlider: Add toggle to disable notifications [1/2]
0de259b50c62 AlertSlider: Update theme more swiftly
6e906aec1892 AlertSlider: Prevent crash in case of incomplete broadcast
1dd4f6924fd3 AlertSlider: Add more resources
b05011dd451b AlertSlider: Fix layout for 180 rotation
c597c5d6aec7 AlertSlider: Update resources
bef8968ba0c0 AlertSlider: refactor to reflect slider state
472fee3bbfa0 AlertSlider: Improve layout
a454263351da AlertSlider: Use default position behaviour if position not specified in intent
4b6e6a136a01 AlertSlider: Do not hardcode slider position based on ringer mode
78b39ef7878f AlertSlider: Work better with Key Handlers
db06b2173435 AlertSlider: Make tri-state SystemUI dialog dimensions conditional
b9b122325513 AlertSlider: Introduce user interface for Alert Sliders
04e0d1803d4f QS: Use Settings.Panel intent for Volume Tile
ff27304af466 SystemUI: Add tile to show volume panel
f3e8be11c9be DataSwitchTile: Show active sim as tile current state
819af4255332 DataSwitchTile: Update SIMs QS icons
a0de97f0a665 DataSwitchTile: Use Mobile Data panel
e921887c04f3 DataSwitchTile: Resolve initial tile state
f18e61ddfda1 DataSwitchTile: Fix issue when subId is non-binary
1d8ae2d79a95 SystemUI: Introduce DataSwitchTile
699402383302 SystemUI: Fix QS compass tile spam & instability
c5ba8c3e398f SystemUI: Add Compass tile
8043857a6dcd SystemUI: Rewrite FPSInfoService in kt from scratch
4a3b2c1e7852 SystemUI: FPS Info Overlay & Tile
c4e1d909be4c QS: Add CPUInfo toggle tile
f7d2c82b8084 base: add CPU info overlay
c21bfa34163d OnTheGoTile: Fixed refresh state when turning off tile
34050e0c2757 SystemUI: QS: Add On-The-Go Tile
22a0467a7cf4 SystemUI: On-The-Go Mode (1/2)
2a835c6569a1 Use double click effect for long swipe
74a0706dd94c Optional haptic feedback on back gesture [1/2]
8256709d5745 Allow to hide arrow for back gesture [1/2]
fbd1c80fe3c4 EdgeBackGestureHandler: Change back gesture height intervals
db10294afe0d Allow changing back gesture height [1/2]
045f50ea1d9c Allow changing the length of gesture navbar [1/2]
297d5e5e4c65 NavigationBarInflaterView: Improve applying overlays
8763b56950fb Navbar: Fix issue where pill disappears in gestural mode
cc1e137aeb33 Add separate tunables for navbar layout customization
a0d3bafe3210 Forward port pixel navbar animation from redfin 11 [1/2]
4f3041d19ad9 fw/b torch: add haptic feedback
22d36710d47f UdfpsAnimations: Migrate to DisplayUtils.getScaleFactor
321922821c90 DisplayUtils: Introduce getScaleFactor
a91b66badbf6 SystemUI: UdfpsAnimation: Don't run scaleFactor on mAnimationSize
1f5287cdfdcf SystemUI: Allow UdfpsAnimations to work with multiple resolutions
56b5e1bcae0b biometrics: Fix udfps races
5b068be9f0a5 Bring back UDFPS icons and animations [1/3]
6bd6d3dc7e80 UdfpsController: make sure to continue with onAcquired even when pulsing
2350abab4c09 base: Allow toggling screen off FOD [1/2]
1bb5bbd6e1ff udfps: Allow devices to pulse onFingerDown instead of waking the screen
8c10fb8d0c06 udfps: Add support for udfps on aod without dedicated sensor
dee66b6ef01a udfps: Trigger onFingerDown with regular action down events too
28f72dc8fbdc Fingerprint authentication vibration [1/2]
c5c1a08de5f7 base: allow disabling ripple effect on unlock [1/2]
5cd35884a6b1 SystemUI: Disable lockscreen album art by default [1/2]
309ddd76c5ea Add Lockscreen album art filter [1/2]
4904a70ca833 SystemUI: Allow to change QS tile label text size [1/2]
8bd1e899036b SystemUI: Update and fix QS tile layout settings
e1051f73bb37 SystemUI: Improve vertical QS tile layout & animation
ef1e0f9bafc2 SystemUI: Tune QS tile dimensions
31e42769ec14 SystemUI: Fix qs tile vertical layout scrolling
c02cb77c105b SystemUI: Add QS tile layout settings [1/2]
de7b0f18db8c QSPanel: Add rotationX animation to quick settings tiles [1/2]
596e77571558 QSPanel: Use Tuner API for QS tile animation style
32b638577dc1 QSPanel: Add animations to quick settings tiles [1/2]
f892c6bb3dc9 SystemUI: Hide oos clear all if reticker enable
adcd74d37645 SystemUI: Introduce OOS style notification clear all button [1/2]
cbec74894d41 SystemUI: Avoid NPE in QS footer data usage
1b722e59fd14 SystemUI: make QS footer rounded (#910)
9e70d02cd3e6 SystemUI: Match footer actions background with notifications background
c76abf9a6cdb Status bar notification: Use Material icons for missed calls
ca36da43ea24 keyguard: Actually kill Fancy Colon
13b4ff1e9a30 SystemUI: Tiny expanding improvement
fb50e8e79c82 ViewConfiguration: Set scroll friction to 0.012
ac3d73a3039d Speed up Orientation Listener
76859c16c3cc Let's cut Max Excape Animation in Half
7bf66dcc927f SystemUI: Fix multiple QS background scrim issues
709279fc8310 ScrimController: User Tuner API to apply custom alpha
bdf00ae11abf SystemUI: Transparent QS customization
153c93923a8d SystemUI: Refactor notification reticker
5354cd286531 base: add API for disabling gestural navigation
d19e8adf673f reTicker: Do not jump to app when clicked in games
8a62c4f5a73b SystemUI: Add support for GameSpace
ab036908938a SwipeToScreenshot: Import MIUI implementation
b83950f7c9bc Improvements for swipe to screenshot
7fa29ba247d7 base: Add three-fingers-swipe to screenshot [1/2]
4983dbacdae9 base: Introduce Accidental Touch
ac5867c37071 Move Swap capacitive buttons to Settings [1/3]
c5edc4bd97d8 Add toggle to disable HW keys [1/2]
ef351d386348 Hide power menu on secure lockscreen [1/2]
d2cd5cd7b1be Introduce customizable navbar and hardware buttons [1/3]
08b5242a3bcc Revert "PhoneWindowManager: Fix wakeup and long-press actions of assistant key"
b99694ad99eb Switch gesture navbar to new navigation bar key event source
716a5af32fa3 base: Introduce new navigation bar key event source
3605f183acf9 reTicker: Cleanup
48b957f72ab2 reTicker: Do not show when content/icon is null
261755420c08 Use Tuner API for reTicker settings
ff4bdd9895ef Properly update view for reTicker
a89a416ff4ec Feature: reticker [1/2]
6fbdd5ed7346 Allow disabling qs on secure lockscreen [1/2]
7d36e0fdfe0f Use FORCE_SHOW_NAVBAR to actually toggle navbar
d13cde40a5d6 CentralSurfacesImpl: Clean messy tuner API usage
0779e236eaf4 Prefer `Boolean.valueOf()` to `new Boolean()`
0f2c46cbfcc1 Fix the problem that system apps cannot drag
172f6d33b007 Fix exception caused by system app setting wallpaper
ca0a1f5bb05c Fix sticky firstEventAfterDiscontinuity setting
13801b0a805a Move SkiaCanvas::Clip above SkiaCanvas::SkiaCanvas
b0b09141c4ed app_process: Fix className check
c40aa15a4d99 Telephony: Fix the record output
2c68d2209a87 make sure mSurfaceLock.unlock can be executed in unlockCanvasAndPost
4c4fe453793b Prefer valueOf() to boxed primitive constructors
d8ba7e16df52 Switch to source build of JavaPoet.
b16ff9182872 Allow passing in a category override to aapt2
137681968c02 Add FULL_ACCESS_CELL_BROADCAST_HISTORY permission to shell for CellBroadcast MTS test.
e15891e4d5bc Make LoadClass collect garbage as promised
a60f0723f8b9 Fix stack-use-after-scope for a `std::string`
c2b1355b76db Fix C compatibility in AMidi.h.
258084a55c1e audio: Provide boxed types for remaining primitive types
949ce075d856 base: Add crDroid utils
4277be804507 QSPanel: Don't crash when not using media player
23ef3a0adbad display: Don't reset brightness adjustment on clearUserDataPoints()
a5bc8ac45677 display: Force a reset if brightness adjustment is changed directly
c038564f03fc Do not brighten when dim state or low power mode.
dabaa119c3a7 SystemUI: BrightnessController: do not update slider from DisplayManager callback if user is changing brightness
1b2a665ee365 SystemUI: Clean up and fix QQS Brightness slider padding
dcba423359d7 Brightness slider: Fix issues with media mode
342e2f29884a Bring back QQS brightness slider
5f97ab05d148 Revert "Remove QQS brightness controller"
0cadd7dbc966 Allow tuning position for brightness slider
aa23294bc5a8 SystemUI: Allow toggling privacy indicators [1/2]
e7adf033106a SystemUI: Kill old privacy indicator icons completely
fd96c90117f1 Battery Styles: Add BatteryBar [1/2]
922f4716f1e1 BatteryService: Switch Dash charging status path to an overlay
67062bc91c8d BatteryService: Switch Warp charging status path to an overlay
4ee4e0fa19d3 BatteryService: Add support for oem fast charger detection
925a6cfb9d07 BatteryService: Add Turbo power charging support
a4d8bcf28510 BatteryService: Add VOOC charging support
de0811df3646 BatteryService: Add Warp charging support
692322b29fd0 BatteryService: Add Dash charging support
7f4818db5800 SystemUI: Add current divider config for lockscreen charging
5050a6581a96 KeyguardIndication: fix fc on lockscreen charging info
1c7a1fc46e60 Lockscreen charging info: show decimal in battery temperature
da20a46ac471 SystemUI: keyguard show charging watt
f093be77c5ee LockscreenCharging: squashed (1/3)
f4646727a3c3 SystemUI: Fix QS customizer corner radius
134e413f7590 SystemUI: Fix tuner pref for bluetooth
bebddb58675a SystemUI: Add missing init for isDeviceProvisioned in PhoneStatusBarPolicy
7f9b199191dc SystemUI: Add ability to toggle bluetooth battery level [1/2]
7048465a42ab SystemUI: Show battery level for all devices
f25299d5396c SystemUI: Option to disable Data Disabled Indicator icon [1/2]
8df2693dba49 SystemUI: Allow using 4G icon instead LTE [1/2]
7f02b3cb901d SystemUI: Make roaming indicator optional [1/2]
50fe4c04aca8 SystemUI: old style mobile indicator layout fixes
8b5d43bf5057 SystemUI: Allow to use old style icons as default [1/2]
3ab3b787dac8 SystemUI: Improve mobile data style switch logic
693241d3ca02 SystemUI: Old style mobile data indicators [1/2]
3864ea0addc4 libs: hwui: Avoid system crash if font contains invalid/null font data
1c0b7554f1d1 base: Custom vibration pattern per notification channel [1/3]
a0e06b2184d3 base: Allow choosing a custom vibration pattern [1/4]
deb5dd4b99c3 base: Add vibration patterns from OOS [1/3]
6e669007c112 base: Add DND & Rate settings to flash on call [1/3]
ba812afb804b base: Allow to flash on call only when entirely silent [1/3]
75c552cc9d29 Add Flashlight blink on incoming calls [1/3]
a6207e46189a base: Incall vibration options [1/3]
191700f25d8c Phone ringtone setting for Multi SIM device [1/3]
fdab0b62ae3d SystemUI: Update notification count overlay
cdfba2d739d7 SystemUI: Refactor colored statusbar icons
c495a6380a3c SystemUI: Refactor notification counter
79dac6a360eb SystemUI: Show infinity for large notification counts
70e14d199333 SystemUI: Forward-port notification counters [1/2]
98639fdc1a6a SystemUI: Make app icons in statusbar optional [1/2]
0be8acffd220 SystemUI: Use app icons for notifications in statusbar
f08d51c203c8 SystemUI: Separate double tap to sleep on lockscreen [1/2]
ea8531811a0f SystemUI: Add statusbar call strength icon to tuner prefs
c14e441a0f1c SystemUI: Add switch data saver icon
a3b3507ee83e SystemUI: Add VPN to the icon blacklist in tuner
8d16c949e21f SystemUI: Update NFC tile drawable
32fb06aeedd8 SystemUI: Add statusbar NFC icon
f338bc401a67 SystemUI: Remove excess margin in few statusbar icons
9eb2f82906db SystemUI: Fetch bluetooth battery level from any device
2b296d1cc4f0 base: Rearrange bluetooth icon on statusbar
7912b73317af CachedBluetoothDevice: Add missing LeAudioProfile
d6847c708f48 CachedBluetoothDevice: Fix detecting connect fail
9475e4d68189 Fix BluetoothRouteProvider unsync randon crash
e1f62bd76e13 BluetoothControllerImpl: Synchronize mConnectedDevices access
14196bc3a379 SystemUI: Use red color for low bluetooth battery
85d87a16d9f8 SystemUI: Refactor statusbar bluetooth icon
4219c32ab778 SystemUI: Update Bluetooth battery level assets
55279c8b896d Disable quick QS pull down by default
0ed3fc8497ea SystemUI: Add case to quick pull down status bar anywhere
299b1edc604a SystemUI: Add missing location permission
f094cdbb1a65 SystemUI: Add pixel style lockscreen weather based OmniJaws
2669002829c8 SystemUI: Make weather location on lockscreen optional [1/2]
05dcaa581608 SystemUI: add enablement settings for OmniJaws keyguard slice provider
601921475964 SystemUI: add OmniJaws keyguard slice provider
687ce27eafd5 OmniJaws: Use google icon set by default
28158c4c1c53 OmniJaws: add force refresh hook
d475814a2bac crdroid: Add OmniJawsClient
e3d636b7c3a4 ThemeOverlayController: Remove repeated monet check
96bc3de09222 Battery: make fill path rounded
463cbd00f7f7 Battery Styles: Hide plus when showing battery percentage inside icon
cf1f231c9635 Battery Styles: Fix percentage view on landscape battery
f5796b2acbcb BatteryMeterView: Move null check to the beginning of the method.
7f5030a9af0a Battery Styles: Allow setting percent view on left [1/2]
25c94d55cab6 Battery Styles: Fix landscape battery size
2e92ea034a12 Battery Styles: Introduce Battery Landscape [1/2]
2ef2a50ab16b Battery Styles: More clean up
3ccb15ef54e3 Battery Styles: Fix signal icon padding with Hidden style
21187bcd97e5 Battery Styles: Show a bolt âš¡ when charging
0bec3cd04f8d Battery Styles: Introduce full circle battery style
bd0996b453f5 Battery Styles: Readd dotted Circle to Kotlin impl
2307a073d5f2 Battery Styles: Clean up for more customizations
0d6251a41a3f Make center clock follow paddingTop
ba3e363c06bb Fix issues with center clock
ff83429eb53d SystemUI: Fix up statusbar clock bg chip layout
6fddfffb1f1c Statusbar Clock background chip [1/2]
f78f8239915e SystemUI: Retune clock paddings
21f51f07d0c3 Clock: Fix issues with hidden mode
9841489bb062 Revert "SystemUI: Avoid using null Context in onTuningChanged()"
ebc7be50ef86 SystemUI: Properly apply dark theming to clock
76dc47d9c97b Use position tunable to hide clock as well
5d082c015f22 Add option to auto hide status-bar clock
858eff4c12ba Statusbar clock customizations
c5461b06671b Add separate tunable for clock seconds
3d353a5493fb base: use a double click effect for charging if there is no amplitude control support
4984b1499134 SystemUI: Use proper Resolver background color
e0df4a94b15e SystemUI: buttons should no longer be textAllCaps
b0b018e9d445 SystemUI: Fix suspicious spaces around mobile icons
e8125c45045d KeyguardIndication: Fix glitchy charging info on AOD
90e40dc465a7 KeyguardIndication: Fix glitchy charging info on lockscreen
cbb4cad67246 SystemServiceRegistry: Replace ArrayMap with HashMap for performance
d31ed98a0c4a LocalServices: Replace ArrayMap with HashMap for performance
46a765c8cd09 LayoutInflater: Opportunistically create views directly for performance
8cac201e102c ThemedResourceCache: Replace ArrayMap with HashMap for performance
a7c00da679a9 Screenshot: Add delete action chip intent
439bf620e11a SettingsLib: Don't show system overlays on apps list
bf1d3cb71e24 Screenrecord: Remember last used blinking dot position
55855f8613cf Screenrecord: Save preferences for permission dialog
da43a1a6e2a0 Screenrecord: Add summary for HEVC encoding
f05d89e73da3 Screenrecord: Add an option to use HEVC
1a3f79dbf8a1 Screenrecord: Slightly optimize loading/saving preferences
a99cf9f65010 Screenrecord: Allow to reduce 3 second screen record timer
0a8e2cdbdf9e SystemUI: Export RecordingService for External Usage
cf7e1e481fd1 Screenrecord: Add an option to record for longer
a690956b23e8 Screenrecord: Make low quality bitrate scalable per device
e476a9ec1f93 Screenrecord: Save and load set preferences
bb6305c06db6 Screenrecord: add blinking stop dot and low quality options
ad71166ebe90 Screenrecord: Allow to select AVC codec profile level
2dd9e792c5e5 screenrec: Save recordings in ScreenRecords
1493f218d6c4 SystemUI: allow to limit the max framerate of built-in screen recorder
42044f8a3cbf SystemUI: Add delete action to screen recorder notification
de84e1a3d2df SystemUI: Make popup menus more rounded
cdb6610de1f5 QS: Add Sound tile
37ddc724e355 QS: Open WifiPanel on LongClick
bc62e46dd072 QS: Add and use Mobile Data panel
e1b72f8e5453 QS: Add and use Bluetooth Panel instead of full Settings
0607c7d9057e CastTile: Fix availability of Cast Quick Setting Tile
eb3476d9015f SystemUI: Name Cellular Tile based on carrier
e4f3c2fc3172 SystemUI: Update default tiles as per usability
1b853914d6a2 Revert "SystemUI: Network Traffic [1/3]"
82ea500d0e97 Revert "SystemUI: Network traffic with center cutout [1/3]"
c768ed2c2fcf Battery light: 100% charged level (1/3)
b84f2d9ff3fe services: fix weird launcher3 crash
a2e2761686d6 ColorUtils: Prevent crash if alpha component is translucent
7fbeca07b70e Close unused Image before acquire new one
e007dbbfe82e Fix the memory leak during high speed recording
a6590a93795b View's mAttachInfo maybe NPE
5e4681e00e8c Toast: Solve the NPE problem in session.java
d8009a3da2e3 PowerStatsService: Prevent NPE in BatteryTrigger.
c788cae641ce FingerprintManager: Fix NPE due to sensorProps
bbaf89d29290 ImeFocusController: Prevent a rare NPE
6fadec13fff8 ThemeOverlayApplier: Catch a potential NPE.
ee0241706cdc View: Prevent NPEs when initiating surface drag
396943b4ccd7 wm: Prevent NPE for springanimation
5dff0212f93e Fix NPE when store brightness and displayDevice is null
4e7efa418cbd Fix NPE when pip onAnimationEnd
643a72e95594 Fix potential NPE when MessagingMessage's message is null
3fb5c62b5846 Fix SystemUI NPE when ScreenDecorations is disabled
ceea9aa04a3d Fix NPE when AOSP ambient display preference is removed
49d2c0958677 QSPanel: Fix NPE in updateViewPositions()
70731e9ce0b8 ActivityThread: Prevent a NPE caused by null configuration
f2e7b5465bdd Fix potential crash when TaskDisplayArea is null
18c8b50084c5 fixup! TtsEngines: avoid crashes caused by null engine name
b676b86856e3 services: Fix NPE caused by null connectionToken
04563634a6e6 Fix getRootTask may be null led to client NPE
20534662d003 Avoid NetworkPolicyLogger NullPointException
a6131bb154c9 Fix NullPointerException in GestureDetector
c6d4b4155987 Check for null ferr
7896011fe238 Fix null-deref crash while fuzzing
4049e34a50f7 hwui: Prevent a null pointer on renderthread
70dfe5be1e09 hwui: Add NULL pointer check in AnimatorManager::pushStaging
deb24e7489df Fix task info null crash
e999dac7ad17 Fix NullPointerException to get sim accounts
de50c68e1155 Add missing Nullable annotations to UsbDeviceConnection.controlTransfer.
b67fd29ee7e3 Fix NullPointException when PackageInfo's verifiers is null
728b9429873e Add `@Nullable` to SensorManager.getDefaultSensor's return value
0e613e13650c fix NullPointException when pkg is null
d0946d97f7a9 Fix PermissionHelper NullPointerException
2eb6f96bf810 CEC: Do not allow null callback
703664255183 Fix NullPointerException when starting app with old ApplicationInfo
3934275b338d SystemUI: More rounded corners
91cb09986fca Calm down attention service logspam
fa51dfd8c20c base: Update few drawables
1546d8ff2183 ServiceRegistry: Don't throw an exception if OEM_LOCK is missing
85696f92ae77 Fix incorrect context classloader initialization in system_server
41455733c7fc Fix MtpDatabase multithreading NullPointerException
877dccb2b972 BackupAgent: Add backup shared mode
4a77f58fc026 ripple: Replace with Fluent Design-inspired animation
f881969b4b8e PowerMenu: Hide emergency affordance if not selected
a1f4ad3ee35c Add null pointer check to avoid system crash.
e3ab99d4f209 services: Skip access check for matlog shipped with rom
52be9edf3c90 Add null checks
861694c659e8 CtsWindowManagerDeviceTestCases android.server.wm.KeyguardTests#testResumeDismissKeyguardActivityFromBackground --fail
520e91ea7e4d CursorWindow_test: fix leaks
b5e1b4b9590d Catch exceptions from prepareUserStorage() in loadPrivatePackagesInner()
6ef916be904b Update various corner radiuses to align with AOSP apps
b78fd9958de2 Fix potential race condition problem
22680e5d5ae2 wm: Migrate deprecated getColor to one with Theme
78333671095c Toast: Fix the concurrency problem of mAuthenticator
30d8673c592a Fix the NullPointerException in Android S Version:mServicesData
9fd9892ca24a Fix the logic of parsing profilebootclasspath flags.
319817f1269e Fix for NullPointerException in SmsMessage
baf1026f8c38 BatteryStatsService: limit logspam
e22206b6c335 Syncronize frameowrk and ImsStack operation for ImsFeatureStatusCallback.
c4d0910bfe06 Accessibility BinderProxy leak
4ab14697b17c ViewRootImpl: Fixed memory leak caussed by viewrootImpl objects
fe00e864850e ViewRootImpl: Set max fling ticks per sec to 24
0c3bcf1d3c2d Fix ViewConfiguration's ArrayIndexOutOfBoundsException
4254283b732a ListView: Disable dividers by default
2d2364ca7c3b base: Update ic_doc_folder drawable to MD2
322b680d2022 InputWrapper: Opt out early if session == null
da59422c2797 Screenshot: Remove text from expanded screenshot chip
ebf61423026b Change DropboxRateLimiter to rate limit proto tombstones and regular tombstones separately.
870897fec929 fix MediaRouter error callback
b1ce8718fae6 Apply wakelock for notification sound
c6cca62ab29c Change the order of Notification writeToParcel
53af4624e9a2 Do not assistant delay for media notifications
a49c4fc6ea02 Return no optmization info for package "android".
88b48f52e84e neko/Cat: Mark FLAG_IMMUTABLE PendingIntent with FLAG_MUTABLE
2fe0437bc890 Link dialog radius to config_dialogCornerRadius
97d6a0b7964a SettingsLib: Fix nav bar color on certain apps
bb12ce2c3ae1 Set navbar color for device default settings theme
380a8db37e13 NavigationBarInflater: Change overlay for no hint
eb2f7159a1a4 NfcA: Fix an NPE in constructor
a766d94a0904 base: add more notification channels to blockable
b9ecc5c707a3 base: fix google copy pasta error :)
6fb6f4c2d9b6 SystemUI: set heap tracking default also with a property like all the other flags
aa2c46c1dd14 NetworkPolicyManagerService: turn this into just a warning
4c041727c518 core: PinSet: fixup and improve code
1b9fc999a0c2 Cache pin algorithms in PinSet
f5a425e01df8 (Point) Only calculate sin and cos once
22a7e258cf5d Cache KeyStoreService
68abba9b72f4 aapt: Use a std::map instead of a SortedVector
270af99b4527 aapt: Speed up the style pruning
eee1230e02db Avoid Settings app NPE on broken packages
6c4bcb627cb7 Use brightness icon matching with slider redesign
90c63ba58c57 KernelCpuUidActiveTimeReader: Do not spam log with negative active time
a917c70e70bb SystemUI: Let screenshot window ignore screen decorations
a4ec41ddf8b2 core: Fix menu popup ripple
1a393092aa2c SystemUI: Update black theme package overlay
2ae437576852 pm: microg-spoof: Add null check
62accff09c81 base: Add support for app signature spoofing
5d2d47313ecd Fixed a crash in settings in tts engine selection screen.
dd44994cc27a SystemUI: Fix SystemUI Crash
3a3068fd1588 CarrierConfigManager: Enable payphone call blocking option
80b436fced17 SystemUI: Allow using tuner API for Global settings
77b616f45575 TunerService: Prevent NPE with tunable
266cc403f2d3 PixelPropsUtils: Enable spoof for pixel devices too
44e6602719c0 PixelPropsUtils: Spoof gms with Pixel 2
f9d0305511c8 PixelPropUtils: Add more processes for GMS spoof
c4671e8707d5 PixelPropsUtils: Do not spoof restore, pixelmigrate and setupwizard
777e5e4f7841 PixelPropsUtils: Adjust Tensor workaround
cb3f199a433a PixelPropsUtils: Switch from POCO F4 to POCO F5
1cd83157aba2 PixelPropsUtils: Add Gameprops for Battlegrounds Mobile India (BGMI)
bfe848ac264c PixelPropsUtils: Update supported pixel code names
188ec44b25b0 PixelPropsUtils: Don't spoof fewer apps
ffc4b1d5802c PixelPropsUtils: Simplify GoogleCamera whitelisting
ef7392d0981b PixelPropsUtils: Consolidate google app check
b87fdc84a3fa PixelPropsUtils: Update game props
91e763bf7839 PixelPropsUtils: Spoof user build
c5089538ad94 PixelPropsUtils: Don't declare propsToChange as static
0169321cf077 PixelPropsUtils: Make CTS/Play Integrity pass again
dff0bd914580 PixelPropsUtils: Set shipping level to 32 for devices >=33
b0303f9ddc47 PixelPropsUtils: Use actual device model name
7cdd4ea79d3c PixelPropsUtils: Use spoofBuildGms for FP and model alteration
13013b536d85 PixelPropsUtils: Allow disabling netflix spoofing [1/2]
055af5222697 PixelPropsUtils: Restrict P21+ features usage for 2021+ Pixel devices only
2833085ad852 Introduce PixelPropsUtils for safety net spoof [SQUASHED]
186e75df54dd SettingsLib: Update 5G+ icon to Silk design
c8f4915724ec SettingsLib: Update 4G+ icon to Silk design as well
ff20cded044e SettingsLib: Update LTE+ icon as per new Silk design
a10df02721f2 base: Add rounded corners to activity open/close animation
043c767c75ac CarrierConfigManager: Enable LTE+ icon
a3fe121b31a4 SystemUI: Speed up actions expansion animation
4a23b10af29a SystemUI: Reduce screenshot dismiss delay to 2 seconds
a99e79e9cb37 SystemUI: Dismiss existing screenshot window before new
7e1f7f2cd260 SystemUI: Dismiss screenshot window on touch outside
a96c11b75800 SystemUI: Remove Android build number from QS footer
ca729aa285d6 Kill off provider info logspam
3ee47482cddc Reduce log verbosity: Don't spam logcat
db3fcc822eba Suppress FingerprintManager logspam
6026ecbaf5e2 NightLight: Allow lower temperatures
8361b04a75a4 FATAL EXCEPTION IN SYSTEM PROCESS: android.ui
e27662d8dd6e aapt2: silence positional arguments warnings
50f4481066ac MountService: Prevent NPE with DropBoxManager
f8bdd3f2f386 base: Remove more hardcoded fonts
e7822d650f2f We need know which font leads to system_server crash.
0c95ff35f688 Set alert dialog message to use system font
7287cc730fc1 graphics: Override system fonts with user-selected overlays
02a4dd49ca18 styles: Use user fonts for Material UI themes
02fe93fa0a02 base: fix list style alert dialog to use system font
e346cfc10fc7 SettingsLib: Use framework resource for headline font
2ddeb22a8ce4 Fix action bar font family on material themes
5ea25ed7cd89 base: styles: Use user fonts for Material UI themes
38ffddd7be22 Fonts: Add regular / light font config
91b3fe19dcbd base: Use font configs instead hardcoded fonts
72022c21fd21 Wire up default fonts with font engine
a400e5a8e058 base: Export bodyFontFamily and bodyFontFamilyMedium symbols
862f632f21e4 ManifestConfigSource: disable debug mode
9503cfaf7074 ZygoteInit: Disable debug and tracing
c3b8e7615b67 fwb: Disable some debug/log/trace
9071da4c7cb9 Trace: Disable debug tracing on production builds
004df9f2a292 Turn off some debugs
1d4c2dd168b4 base: Add metric for crDroid Settings
da70eead5257 crdroid: Adapt settings for A13
158ffff8c590 Restore cache clean up code in PackageManagerService
fc13e91a8300 SystemUI: Better QS detail clip animation
9ea5e7bc0926 base: Update some icons to MD2
c7b8a1d46d62 frameworks/base: Support for third party NFC features and extensions
be5780c1c6d3 Camera: Clear identity before access device policy manager
5354076ba15a Camera: Quit extension handler thread during release
92b05f2efb20 Camera: Release advanced extension references
6ebfd1a1bba5 Camera: Release advanced extension references
1b79b5aa47cf Camera: Always release the extension session after configuration
e0f57fab0722 Camera: Avoid holding locks during advanced extension initialization
a7bda96844d6 Camera: Bump up the extension jpeg processor blob size
55bbca3c8f4b Prevent camera pipeline stall due to ImageReader close lock
d7063667144c Camera: Remove GPS_LOCATION if set() is called with null
2b59f0fa5ef6 Camera: Register LensShadingMap marshaler
8b7abf040c3b Camera: Fix null pointer access
6f1788b823a2 Camera: Fix size list parceling
cc9407f1f828 Camera: Avoid possible NPE after extension session configuration
7709b50cda99 camera: Add backwards-compatible CaptureResultExtras constructor
75e52fc6fc72 Camera: Expose aux camera if packagename is null
1f32b25ddf35 CameraDeviceImpl: Don't crash when checking input configuration failed
604c8d28f845 Fix crash when init QrCamera to start preview
9b2a0c559bb8 camera2: Add non burst sizes to mandatory streams for ultra high resolution sensors
e040233cc7db Select the proper request list size
015cb1426c95 Camera: Clearing exception for Extended Face
47e569c6a03d Camera: Don't crash when trying to disable shutter sound
2e7dfd1c4555 Camera: Don't throw exceptions when value pairs have spaces in them
ec93db628b06 Camera: Add feature extensions
42d5e08c98e8 Camera: Prevent crash with prebuilt camera metadata
7aa62cfc55e8 Camera: Extend face detection
3b45e4489046 Camera: Ignore torch status update for aux or composite camera
6cef7ca1284b CameraManager: Fixup exposing aux camera to apps
28e287259dfa Fix Photosphere/Camera FCs
3195fe458e7f Allow sending vendor- or device-specific commands to the camera HAL.
8443405a8c96 Camera2: Notify fps as Session Based Parameter
506521f332d5 camera: Allow selected camera apps to skip unconfigure
0a5e8470a01c base: Add stub files

   * lineage-sdk
aa4306a8 Remove deprecated settings migration code
1f91203c Remove deprecated host migration example
17d6d417 Remove leftover trusted_accent_packages array
d0720749 Partially revert "LineageSettingsProvider: Support migration from cmsettings"
f4c7907c Remove leftover LineageAudioService support
6326bdad Remove leftover Performance Profiles support

   * packages/apps/Aperture
d6334ce Aperture: Add missing copyright headers to icons

   * packages/apps/Backgrounds
01f997e Merge 'lineage-20.0' into 13.0

   * packages/apps/DeskClock
3bf0a118d Merge 'lineage-20.0' into 13.0

   * packages/apps/Dialer
6c6961729 Merge 'lineage-20.0' into 13.0

   * packages/apps/Jelly
52ebd5c Jelly: New iconography
080fdaa Jelly: utils: UiUtils: Fix nullable parameter
03a0fd7 Jelly: Use relative activity names in manifest
00b2010 Jelly: Set default_applicable_licenses
254440e Jelly: New menu popup UI
0358afc Jelly: M3
bed0c55 Jelly: New URL bar
0b77856 Jelly: Remove timestamp based history background color
cb4c848 Jelly: Remove background from empty lists icon
16c7e22 Jelly: Use AndroidX preference attributes
50250a0 Jelly: Don't apply tints directly on icons drawables
6279b63 Jelly: Nuke favicon based accent color change
9e36adb Jelly: Use camel case for layout IDs
cf858a5 Jelly: Use MaterialToolbar back button
a8eb621 Jelly: Use lazy getters for views
89b4391 Jelly: SettingsActivity: Use the new method for inflating fragments
9c575e8 Jelly: SettingsActivity: Use better Kotlin syntax
890567f Jelly: SettingsActivity: Rename settings fragment class
8b22506 Jelly: MainActivity: Use better Kotlin syntax
e6e43ab Jelly: MainActivity: Rename class attributes' names
60938cc Jelly: webview: Use better Kotlin syntax
941c9f2 Jelly: webview: Rename class attributes' names
f45b733 Jelly: utils: Use better Kotlin syntax
e8fe9ea Jelly: ui: Fix secure icon showing
fccfaa8 Jelly: ui: Use better Kotlin syntax
a5b0abc Jelly: ui: Rename class attributes' names
8fee876 Jelly: suggestions: Fix typo
8013db8 Jelly: suggestions: Use better Kotlin syntax
c95c028 Jelly: suggestions: Rename class attributes' names
e230efe Jelly: history: Use better Kotlin syntax
804d9ab Jelly: history: Rename class attributes' names
3a2c4b0 Jelly: favorite: Use better Kotlin syntax
58228e9 Jelly: favorite: Rename class attributes' names
00cd0f0 Jelly: ./gradlew generateBp
842dd1b Jelly: Add generateBp from Aperture
f3c66b6 Jelly: Move Android.bp to app/
2143d07 Jelly: Migrate build scripts to Kotlin
a16e1ef Jelly: Disable Jetifier
d5346ef Jelly: Reformat code
4e6711d Jelly: Use ?attr/isLightTheme
5021feb Jelly: Rename app theme to Theme.Jelly
e911801 Jelly: Move to SPDX license headers
dd2db5f Jelly: Remove unused import
2ee67c4 Jelly: Add newline at the end of files where needed
7b617d3 Jelly: Get rid of wildcard imports
2540f9a Jelly: Introduce NoSuggestionProvider
e47c335 Jelly: Use ranges in suggestion provider

   * packages/apps/LineageParts
1ee6a63 Merge 'lineage-20.0' into 13.0

   * packages/apps/Messaging
8acf38a Merge 'lineage-20.0' into 13.0

   * packages/apps/ThemePicker
c69ee7d1 Merge 'lineage-20.0' into 13.0

   * packages/apps/Updater
712373d New Crowdin updates (#54)
e36beb4 Update Crowdin configuration file
c9dd7c4 Correct changelog URL (#41)
b8de399 Updater: Point 13.0 sources
cc5f354 Updater: Move strings for translation
37bebbb Revert "Updater: layout: activity_updates: add spacing.."
4ade5fb Updater: Update parsed info whenever data is refreshed
261c3eb Updater: Add support links and some more info
ce49051 Updater: Use headline font for activity header
3844b18 Updater: adapt to new changelog url
9e1c4d7 Updater: Hide recovery update option by default
ff65d69 Updater: Nuke Lineage's website on installation blocked dialog
1d5b47e Updater: Initial adaption for crdroid
e3acfc6 Updater: Change package name to avoid conflict
9b8cefe Updater: add support for local updates
44aaae1 Ship as crDroid based on LOS

====================
     07-21-2023
====================

   * external/chromium-webview/patches
1cee4f2 Update Chromium Webview to 115.0.5790.136

   * frameworks/av
f42f7ddb3a audio: if device is change from none to new device, need get index from new device.

   * packages/apps/Dialer
8fc9417a8 New translations (#67)

   * packages/apps/GameSpace
5bed258 New Crowdin updates (#50)

   * packages/apps/Launcher3
bcb81e366e New Crowdin updates (#350)

   * packages/apps/crDroidSettings
a3cd5ca New Crowdin updates (#1063)

   * system/core
4001c5c6d snapuserd: Fix ubsan when reading a single aligned sector.

   * vendor/lineage
7a6a0c2c overlay: Exempt MediaTek ImsService from location indicators

====================
     07-20-2023
====================

   * frameworks/base
1c72405842ec SystemUI: Add FingerprintInteractiveToAuthProvider implementation
68bb4d4aa245 Revert "Keyguard: Allow user configurable fingerprint wake-and-unlock"

   * hardware/qcom-caf/sm8150/display
b11316b56 gralloc: Use foreground cpuset/uclamp
fd7ce5877 sdm: Set SDM event thread to SCHED_RR
1e33f2b7e sdm: Set SDM event thread to SCHED_FIFO
f1c262901 Revert "sdm: Set SDM_EventThread as RealTime task with lowest priority"

   * lineage-sdk
1a53318a LineageSettingsProvider: Allow enabling lockscreen rotation by default

   * packages/apps/Etar
a8791d7f Update README.md
c40eca14 AlertReceiver: Return early if either context or intent is null
1507dfca Prompt user to add calendar instead of account
6f1051a3 gradle clean should remove the generated libs
689c6209 Update Gradle and dependencies (#1373)
efef9833 UI Improvements (#1370)
97056dd5 Update submodules
8501b6b1 Catching all sync adapters at once instead of one by one (#1334)
a0612241 Add URL field
767b60f2 fix calendar and organizer text colors being barely visible sometimes
86ed71da New version 1.0.34
c2167e03 check event color is initialized before using it
2589e45a Use USE_EXACT_ALARM permission

   * packages/apps/ThemePicker
3c2259a2 ThemePicker: Remove unnecessary privileges

   * packages/inputmethods/LatinIME
dbdcbeaa5 Latin IME bug with deleted text will reappear after screen orientation changes
95109d858 LatinIME: Fix to English dictionary can be added after deleting

   * system/core
9e3822cbb storageproxyd: Start binder thread pool
0c10e4ace String8: fix infinite loop and segmentation fault in removeAll()
