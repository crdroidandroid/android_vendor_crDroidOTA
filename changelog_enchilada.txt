crDroid 9.0-December

Changelog since v9.0-November release:
- Merged December ASB & changes from upstream LineageOS device/kernel/vendor trees.
- Google updated everything in AOSP 13.0_r16 with a rebased... base with over 10K commits difference than November 13.0_r13; so LineageOS had to essentially bring up Android 13 all over again, and we had to redo our customizations all over again on top of that. Can't just git merge.
- Bug with NFC stack crashing when device entered deep sleep is now squashed; things like Google Pay/Wallet lagging out or QS tiles being non-responsive for several seconds (when NFC tile was visible) on wakeup should be fixed. Thanks to LineageOS team, and whoever it was that filed the bug-report properly.
- Bug with stuttering HD audio with some bluetooth receiver chipsets should also be fixed (thanks again to LineageOS team).
- Updated DeviceExtras to 7.2 (based on AB's current implementation in hardware/oneplus/ over at Evolution-X), re-added HBM/AutoHBM in DeviceExtras because I wanted the easter egg back. It's technically in two places now, you don't have to enable it in DeviceExtras if you're happy configuring it in LiveDisplay, but this way it's adjustable.
- Kernel updated to 4.9.336 with changes merged from 4.9 LTS (thanks to BananaFunction for figuring out the merges from AOSP 4.9-q, LineageOS android_kernel_qcom_sdm845, and others).
- Since I grabbed all the "use power efficient workqueues" commits from MCD kernel already, I actually added the toggle to DeviceExtras to allow you to enable the functionality. Probably saves some power, possibly while actually improving performance; try it out.
- Updated min/max/default values for Vibration sliders in DeviceExtras. Now you can just drag it all the way to zero to turn off. Huzzah!
- Import custom sdm845-specific vibrator AIDL from SyberiaOS OP6 12.0 branch (based on earlier qcom opensource version, but with modifications from Xiaomi sdm845 who also use the same led-qpnp-haptic.c vibration driver that we do), update ndk for Android 13. Seems to work for all effect types (even if they don't feel very different from each other), including "TICK", which means the "haptic tick on back gesture" preference actually does something, yay! DeviceExtras intensity sliders still seem to work to control different vibration types, so this might be the best combination going forward.
- Deliberately, maliciously ruined everyone's life and removed Google Camera & Aperture from list of packages allowed to use the second rear camera sensor BECAUSE IT'S ABSOLUTE SHITE. If this is truly a problem, I can recommend a good therapist.
- Updated APNs to include "ia" type for any apn with "default" type that didn't already include "ia". I guess Android 13 needs this, and should help solve connectivity issues for some folks.
- Updated statusbar/corner spacing & padding. You're going to hate it. I hate it too. There were changes to how burn-in protection worked, and some calculations for padding/insets in the statusbar views/viewports. Default values in framework (especially pertaining to some customization features) are fighting themselves & it looks dumb. This is the best workaround at the moment, since burn-in protection is basically non-optional for OLED panels. Trust me when I say I'll keep working on it for future releases; but the ROM team have already merged 9.1/January ASB and I need to stick a pin in this release for now.
- Hope you all had Happy Holidays, Joyous Solstice, Chag Channukah Sameach, God Jule, Happy Kwanzaa, Merry Christmas, and wish you a Happy New Year!

Known issues:
- Statusbar/corner default padding looks uglier now. I know, I'm working on it. If you leave the screen on for more than 10 minutes you'll see everything start moving around (both inward toward notch AND outward toward edges); it was getting cut off when it would move outward before. Until they fix framework java for non-AOD burn-in protection to make sure it doesn't go too far wide, it's gonna probably have to stay like this.
- Some custom launchers don't work right still, probably. Android 13 growing pains!
- Smart charging doesn't always stop exactly at the specified percentage when using a DASH charger or when device is in deep sleep.
- Custom fonts don't apply properly to 3rd party apps. It's in the GitHub issue tracker already.
- Some carriers seem to have trouble with mobile data enabling; not sure why exactly. Hopefully it's fixed in 9.1; this shouldn't be a regression compared to 9.0-November at least.
- You tell me, with logs!

Installation notes:
- In case of bootloop (boot animation stuck for longer than about 2 minutes and never gets to lock screen), reboot to recovery and manually flash the ROM zip either via ADB sideload from computer, or from a FAT32-formatted USB thumb drive via OTG, then reboot to recovery again, and re-flash your same Google Apps/microG/Magisk/whatever install zips (again via ADB sideload or USB OTG), and reboot system. This *should* take care of any lingering errors with old things getting stuck in your /system/addon.d/ directory that might be trying to preserve old privileged system apps without privileged permissions (which is what causes those boot loops in the first place).
- The built-in OTA updater in Settings > System > Updater goes a lot faster if you go into Updater preferences and toggle on "prioritize updater process", and make sure the screen stays on by using the Caffeine QS tile, or "never sleep while charging" toggle in Developer Options, or changing your Display timeout to 30 minutes.
- See XDA thread for other troubleshooting other common installation issues including problems with OxygenOS Camera & Gallery.

Build type: Monthly (-ish)
Device: OnePlus 6 (enchilada)
Device maintainer: Jordan Whiteley (Terminator_J)
Required firmware: OxygenOS 11.1.2.2

====================
     01-12-2023
====================

   * vendor/lineage
dfcfcecb apns: Added IA APN types to all default type APNs
f48e259c apns: Format xml spacing

====================
     01-07-2023
====================

   * frameworks/opt/telephony
cfb852b7f2 telephony: Use case insensitive check for plmn-spn
cf6eb30fc6 telephony: Check for LTE_CA in physical channel config

   * packages/apps/Launcher3
baaedfb1a8 Launcher3: Do not skip search animation for app icons

====================
     01-06-2023
====================

   * frameworks/base
73472bdaa422 camera: Add backwards-compatible CaptureResultExtras constructor
e8e3ad6a29ce NetworkTraffic: Remove screen on/off trigger again

====================
     01-04-2023
====================

   * frameworks/base
0ee0d5e8fa0f SystemUI: Update IMS states and update icon when necessary
fcb54ed85fb5 MobileSignalController: Try register IMS callback when listening
27b83fca6085 fixup! Battery Styles: Clean up for more customizations
33106766eab6 fixup! Battery Styles: Re-evaluate system theme on QS battery location change

   * packages/apps/Launcher3
b421b38f64 Launcher3: Add toggle to show/hide app drawer search bar
f8c6d741bc Launcher3: Fix rtl layout error
