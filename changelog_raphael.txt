====================
     07-22-2023
====================

====================
     07-21-2023
====================

   * frameworks/av
f42f7ddb3a audio: if device is change from none to new device, need get index from new device.

   * frameworks/base
37b6f846549e New Crowdin updates (#1005)

   * packages/apps/Dialer
8fc9417a8 New translations (#67)

   * packages/apps/Etar
a8791d7f Update README.md
c40eca14 AlertReceiver: Return early if either context or intent is null
1507dfca Prompt user to add calendar instead of account
6f1051a3 gradle clean should remove the generated libs
689c6209 Update Gradle and dependencies (#1373)
efef9833 UI Improvements (#1370)
97056dd5 Update submodules
8501b6b1 Catching all sync adapters at once instead of one by one (#1334)
a0612241 Add URL field
767b60f2 fix calendar and organizer text colors being barely visible sometimes
86ed71da New version 1.0.34
c2167e03 check event color is initialized before using it
2589e45a Use USE_EXACT_ALARM permission

   * packages/apps/GameSpace
5bed258 New Crowdin updates (#50)

   * packages/apps/Launcher3
bcb81e366e New Crowdin updates (#350)

   * packages/apps/Updater
00cde2c New Crowdin updates (#58)

   * packages/apps/crDroidSettings
a3cd5ca New Crowdin updates (#1063)

   * system/core
4001c5c6d snapuserd: Fix ubsan when reading a single aligned sector.

====================
     07-20-2023
====================

   * hardware/qcom-caf/sm8150/display
b11316b56 gralloc: Use foreground cpuset/uclamp
fd7ce5877 sdm: Set SDM event thread to SCHED_RR
1e33f2b7e sdm: Set SDM event thread to SCHED_FIFO
f1c262901 Revert "sdm: Set SDM_EventThread as RealTime task with lowest priority"

   * packages/apps/Launcher3
b6980c38e0 Launcher3: hide "all apps" view when search starts

   * system/core
9e3822cbb storageproxyd: Start binder thread pool
0c10e4ace String8: fix infinite loop and segmentation fault in removeAll()

====================
     07-19-2023
====================

   * frameworks/av
023fc20660 audioserver: Improve logging / dumping for encoded formats
49f6e9a0ae DO NOT MERGE audio flinger: fix initial mmap stream volume

   * frameworks/base
1a15f3bd8ac8 Revert "SystemUI: Enable Partial Screensharing"
ea693ba33fc5 Fix bug on DC#ensureActivitiesVisible
cef1c4173f32 Fix formatting when dumping mDisplayHomeButtonHandlers
e23d759d0113 View: Remove tooltip callbacks when detached from window
08f4de327d11 Fix flakiness of testNativeCrash

   * packages/apps/Nfc
ab80509e Correct mAlwaysOnState state checks

   * packages/apps/Settings
23a732b342 Settings: Do not skip fp authentication for udfps
ff1301d710 BatteryPercentagePreferenceController: Force hide for all devices

====================
     07-18-2023
====================

   * android
322eb81 Merge 'lineage-20.0' into 13.0
8141fe3 manifest: Switch to our fork of system/netd

   * frameworks/base
384623ddc19a New Crowdin updates (#1004)
a7cc415ec3ff New translations (#997)
5a46fc19b972 Update Crowdin configuration file
e0aac20ac4b5 Convert mBroadcastCode to correct value
56af5b115bde ServiceRecord: Don't post running notification for selected apps
26afa29ea133 Battery Styles: Add customization for QS
aa10b33d89dd fixup! Add toggle to enable brightness slider haptic feedback
99acf257eae6 Use std::unique_ptr in FileDescriptorTable
a083af7ff1ba Fix memory leak of FileDescriptorInfo object.
d18a7171c193 core: Catch OOB when returning pooled string
251f6a9532d1 Fix vibration patterns with zero duration steps.
4301940b9335 binder: remove dead logging code
c38dbf9c8dac Fix multi-user silent notifications on lockscreen
81d5699b3efe Remove useless variable "mapbase" from screencap
8162c0577e89 UEventObserver: Fix logging for uevent messages
9a6772e2c4fd PackageManager: Create missing userdata directory
300531aa830c Smooth Spinners: Makes the loading "spinner" animation smoother in non-holo apps
ebc5e03b62ff AuthRippleController: Always finish the LightRevealScrim
6565880f5588 SystemUserInfoHelper: Fix crash when switching user
b1b8faf0ee88 NetworkPolicyManagerService: Avoid OOB in addSdkSandboxUidsIfNeeded
2d665080e927 Bump tough-cookie in /packages/SystemUI/scripts/token_alignment
0558a2d879f2 Avoid CalledFromWrongThreadException in BubbleController
80f02d85fb99 Fix system reboot in systm_server caused by SensorPrivacyService
a0f2b4a55d54 Watchdog and sluggishness due to multiple virtual displays created by third party apps
afb9261b5a01 SourceStampVerification Return more specific error code when verification fails
81d73a7be156 Early return when mA2dp is null (disconnected) to avoid null object reference
8894d29dfce9 Increase timeout for UIAutomation
ccfde77c3d5d Respect timeout multiplier in PermissionControllerManager
dad1fe383a20 Make private, single-assignment fields "final" in android.content.
fd0ab9e39594 fix(#Magnification): mis-use non resoure id in resource getter when magnification capability setup
dafe712f411f Usb: Fix incorrect mapping of port mode constants
c43ec69a807f Fix resource leak caused by TypedArray type
cfaf93a7a9ec Simplify UserHandle.equals
4c078f0acef0 Ensure ActivityManagerInternal instance is non-null
12c3285c3cb9 Add listener once for volume row animation
ece89c0ac59c Delay tryToRebind if application exit reason is LMK
0619a1a24cbc Device stuck in boot due to ArrayIndexOutOfBoundsException
477a0835335f Sometimes Screen does not wake up while receiving whatsapp video call
b2e2a3a9eb57 Prevents activity being stopped while folding/unfolding device
ca57794fd41d Fixes foldable autorotation setting being out of sync in QS and Settings
1de3dc3a1c6f Fix deadlock in BaseDataProducer.
3c488b8e309f WallpaperService: Fix half black wallpaper after rotating quickly
4421cd4d2aa0 Refresh layout parameter for bounds change from relayout
71fa87a4688c Fix NPE with void android.view.VelocityTracker.clear()
619f66028e40 KeyguardBouncer: Don't delay showing if face auth running
a8f687eb6b76 Fix: avoid the potential attack on SlicePermissionActivity
91fa029e2461 Prevent crash in AccountManager after profile removal.
9f1c25043f6a avoid NPE when getPreferredActivitiesInternal
6fc57f55af8f Add toggle to enable brightness slider haptic feedback [1/2]
12654bbdbda2 SystemUI: refresh system icons on theme change
c654750846f7 SystemUI: Add null check for vibrator in brightness controller
d382063d1f81 SystemUI: add haptics to brightness slider
b10b84ddaa31 SystemUI: Enable charger plug-in statusbar chip
b2586289f0b4 DisplaySettings: font size in 5% steps from 80% to 130%
4c30021f6b37 StatusBarSignalPolicy: Set initialized to false on destroy
935c8c30ebfd themes: Fix list style alert dialog to use system font
6b0ef8a0748d SystemUI: Remove excess margin in few statusbar icons
9ea2333d91ce Allow a drawn reported activity to keep screen brightness
07879002b147 Fix wrong permission state changed being notified
27003c8569c6 Handle ArrayIndexOutOfBoundsException for install_sessions.xml
c56fcf4a7f02 Fix the problem that AccessibilityNodeInfo maybe null and cause a crash.
d5a68f2d6ecd Flush output buffers when command is complete
3047b5fdd4fa libhwui: Enable O3 when compiling with LTO
b2d2e63a6325 Pregrant non-system preloaded apps
9287faa419ed Fix setAttachingSchedGroupLSP() to support use_fifo_ui
6ad4e1e6524f Ignore BIND_ABOVE_CLIENT for same-process connections
22b03820241c base: Update mock LinearmotorVibratorService
9f465d6980a0 base: Add overlay to mock oplus LinearmotorVibratorService
81b6e210fb03 base: Add mock oplus LinearmotorVibratorService
33b03462bbf4 Hide hidden apps from all apps except system
49d2fd9368b1 wm: hacky fix for system_server crash
7dbe534d32a6 wm: never consume statusbar in freeform mode
2a9a0dbf975e wm: block custom activity transit animations
fef3da6f80eb wm: block task transitions from displaying in freeform
fb2c7321c9c1 wm: add freeform-compatible activity transition animation
e037ab632896 wm: support freeform-specific animation overrides
23bad410f02d wm: do not show keyguard windows when mirroring due to dream
1d1b6be25a5e wm: Fix menu in legacy apps with multiple activities
307e3707b4a6 wm: fix APPEARANCE_LOW_PROFILE_BARS not working in non-fullscreen app
b3b96f6540c4 SystemUI: show ime switcher + cursor keys if we have space
a0a0371863ad wm: rewrite/fix window change animation
d9fd3fd227ee wm: fix freeform transition visual issue
5b3ae0322bbf wm: Fix menu only opening once on legacy apps
732139666fd0 Pull out common code in createFromParcel's switch
5b59079d1bdc ExifInterface: Catch IOException caused by invalid image
60b6bccc0946 appwidget: Catch IllegalStateException when retrieving providers profiles
c5a432aea54d SystemUI: Small cleanup 'Lockscreen text size'
ab41754b2276 Fix typo in Dynamic coloring section
1c7418125e8d SystemUI: Restore default lockscreen clock text sizes
65704a13f830 SystemUI: Lockscreen text size settings [1/2]
e5d2dca45ab0 SystemUI: Lock screen clock top margin settings [1/2]
61616d6e76f2 SystemUI: Ignore font padding for large ls clock
8a8f33fc4912 services: Fix ArrayIndexOutOfBoundsException on `updateContentCaptureOptions`
d1241bc2c06e Allow overlaying font spacing for lockscreen clock
88ea7efe9a02 SystemUI: Hide notification icon area if headsup is visible
c3ca86e52a87 Fix hang when dumping local cache info.
e56259fb03f4 Hide data limit notfication if data not active nor default
de1cf5c31cd0 Animate backlight quickly when HDR mode is changed
9285e4ffd930 Frameworks/base: Fix potential IllegalStateException in RescueParty.
7c4768fe7e24 Fix some memory leakage
4cc66a213a4c media: fix MediaMetadataRetriever Option Intdef
e880616dfde6 MediaCodecInfo: consider only critical flags for level support check
6f811dbb1c06 ImageUtils: Fix estimated bytes factor for P010
36fa53982e17 Fix cts flaky issue on adt3 device.
9a54da9a82a8 base: Remove restrictions for system audio record
122095fe1bb3 Visualizer: use actual sampling rate of the instance
a53e58611948 Fix AudioMix.equals()
6e66ff01b7af HwAudioSource: auto reconnect feature on AudioServer crash
92b2e9983cd6 View: Fix not refreshDrawableState when set hovered in focused view
00cd3c2a9502 Introduce isDeviceClassMatched() to align BluetoothClass comparison
e3f03a696ffb Device asks for PUK code instead of SIM PIN
9ec7ae762214 Crash when enabling show_operator_name_in_statusbar_bool
0abc9997ea15 Fixes a thread safety issue (a time-of-check-time-of-use bug) in BatteryExternalStatsWorker that causes system_server crashes in VROS device.
ff3e2b9721b7 Add handling of permanent disabled sims
e7ea0f9456a5 AudioDeviceBroker: Fix not setting proper call volume for LE Headset
373c2970ee85 hwui: Fix multiple definitions of NativeFamilyBuilder
451ba4e2e357 QRCodeScannerController: Check for google package availability
26117eb5b407 QRCodeScannerController: Use Lens as fallback activity
4a9ed3d68dc7 binder - include calling PID/UID in uncaught remote exception code
bc929dd646e0 Clear calling identity before calling to DeviceIdleController
f66ef29f5595 Fix cursor not blinking when view re-added to layout
cdf44da0575d Fixed UID mismatch in telephony registry
c0f384ff4542 QSPanel: Prevent systemui crash when adjusting tiles height
a233d82ad027 WindowManager: finally proper desktop mode handling
8d0fb896307a SystemUI: Enable cast tile without Wi-Fi connection
ee18534e1ad0 SystemUI: CastTile: Open cast settings on long click
66dc970ba597 SystemUI: Fix crash in cast tile for non-carrier wifi
ef795ef85575 HWUI: reset buffer state only for ES3 context
9b70f84ea1be KeyguardStatusBarView: Clean up cruft
9bc708d192e7 Extend kill button to notification conversation guts
4469c4ac6c21 OomAdjuster: Remove excessive log
8a3a0480fdd9 oom: Enable proactive kills only on modern kernels
eb93d3a00010 SystemUI: Rework dismiss all view in QS
e47412602e5f Use try-with-resources to avoid accidentaly leaking unclosed objects.
1e5bc8a99afc AppProfiler: dont be so hectic on cpu battery stats
7cbcb374286d os: Process: Fix wrong code in isThreadInProcess
f7a9bedd36d2 Fix unqualified-std-cast-call compiler warning
2348d9fc21da HWUI: reset buffer state after MakeCurrent
68530979505e Restoring SDR brightness immediately when entering dim state if the device is in HDR brightness scale mode.
5f0ec7522b9c Return with error logs instead of exception for unexpected nsi
9ddf45f496f9 Catch exception when dump local window.
53cfb78ba44f Fix hang when dumping local window.
80ecf8174151 Activity not finishing even after pressing back key
55c6173396d8 SystemUI: Handle more exceptions for firewall
a28b34349137 Fixed process can't start because of mPendingStart is true problem
b6c1767f55e9 Add a suspension check to SuspendedAppActivity
99042e2a5247 Fix com.android.server.wm.TaskFpsCallbackController#unregisterListener method NEVER works
f4d230cf50c4 Do not crash webview if its group creation fails due to a dead process
94b2eecd5d92 NotificationMenuRow: fix logspam
044209869162 BatteryStatsImpl: Avoid dividing by 0.0 in updateWifiState.
71c742f51460 allow toggling VoWiFi while roaming by default
2572eca20f48 Fix warnings from static analysis tool.
a17c5eacc52c base: Try loading input filter only if specified
6c0aec0b1057 base: Support for device specific input Filter
183f082d7ea5 base: Add SmartSwitchChanged api
01ba2a20f613 opengl: Don't request render in GLSurfaceView.GLThread ctr
72fc5960a3bd SystemUI: Enable media background turbulence
ae7fb8909133 SystemUI: Enable media player surface ripple on button press
2260e7a2f277 base: Add switch to unlink ringtone and notifications volume [1/2]
d6170ba54860 SystemUI: VolumeDialog: add support for unlinked ringer streams
8c2fc8b5146a SystemUI: Align keyguard carrier text with status bar
d7c050bad59d Fix crash with HW assist button
b2b6f531b872 Stop unsuspending packages in profiles
1bfb8c3b4efa Add managed profile support for cross profile intents
bf5be6e57a4f services: Allow pause/suspend app feature with parallel space
c18776dc40e2 Pause apps feature
7f2bad6ad8d5 SystemUI: Prevent InternetDialog crashing system
2d505024821d SystemUI: Clean up battery callback in CollapsedStatusBar
9dd5d20ec4a0 SystemUI: Switch to TunerService for CollapsedStatusBar
3f81d0c2c4dd Use IPv4v6 as default protocol when APN setting is not available
e3cae2912f3c SystemUI: Reduce keyguard indication text padding
6c019965b346 Fix the problem of slow exit of boot animation
b09daadd9550 PulsingGestureListener: nit: Remove typo semicolon from imports
5f69106c4c0c Fix: "Clear All" recent app screen loop bug
42e01ca2448e SystemUI: write initial value of SHOW_QR_CODE_SCANNER_SETTING on first call
aee785088f51 Fix memory leak in GroupExpansionManager
756f0758f8c8 SystemUI: Enable Partial Screensharing
a07f5180afd2 SystemUI: global actions: fix icon position on multi-line action
e8e38c2720a1 Treat process group creation failure due to a dead process as non-fatal
007aa226e47b Treat failure to create a process group as fatal
52b316471279 WindowProcessController: Fix potential memory leak
9bd7670aa1a6 JobScheduler: Stop leaking user information
e65265ac8932 Avoid needless Integer.valueOf() object allocation.
a973cb117e54 DisplayPowerController: Disable log spam
8433e05fe6f6 SystemUI: Enable session-based media actions for all apps
621218f6c671 Allow unpausing apps that have an unpause dialog
b714a7806701 bugfix: automatic notification permission request breaks in some cases
cdd01ea5bb7f AudioService: Unmute Le Audio devices when activated
e00d1c4f48be Fixes crash/race condition when destroyActivity
cb7ce24399c1 base: disable DBG
9dc034e276fe Close DirectoryStream in ActivityThread after use.
c9d00115458f Do not kill the server process itself
584a95768026 Update persist cache when package updated.
95c69cfe27d6 When the sharedUserSetting of the application on /system is different from the sharedUserSetting on /data, we should trust the sharedUserSetting on /system
114d5f49c49c Add package name to WorkSource for Wakelock acquired from WindowManage.
0d547b30daa6 Zygote: Fix dropping capabilities in containers
3fede8de5d3b Use SecureRandom instead of java.util.Random.
2499c50eff7c check whitelisted packages exclude nonsystem app
b22b2cd133fc Improve Transition GC initiation by improving the Frameworks triggering signal
bed27b2ebede SystemUI: Add monet customization [1/2]
90c2e09867a5 SystemUI: Block few clock customizations in QS header
725376cf4d95 bugfix: isServiceTokenValidLocked() was called without holding the lock
4b5e7d2dde12 Fix viewing app info dashboard of hidden work app
def51ee5d2de Fix: Firewall: NMS inverts default rule behavior
fbaedfba557e SystemUI: Fix battery color on QS for circle battery styles
e68793552d9f Doze-on-charge: Add few improvements
2785d27f43a2 Opt libhwui out of -fprofile-sample-accurate
9631460eb1d1 base: add option to enable AOD on charging only [1/2]
fb2d271c75b2 SystemUI: Apply QS transparency to footer actions background
1662d6b00310 QSFooter: Launch crDroid Settings when long clicking settings
9c1343108ac4 SystemUI: cleanup bluetooth dialog impl
b125bfebc01d libandroid_runtime: workaround global ThinLTO bug
5d0bbb71cd45 libandroid_defaults: force full LTO to workaround runtime bug
ac2edf3f42db SystemUI: Add restart SystemUI in Advanced Reboot [1/2]
97b0334fc712 Always make mouse cursor show on external display if it exists
95b2383c588b InputManager: allow to force NULL cursor
f502f11f1d42 InputManager: add cursor change listener
55102a0c24ee Add back button for freeform window
266c7e18ad14 Only show pip button if activity supports it
a7ac8c0acce1 Add minimize & pip buttons to freeform windows
e589a2263dd8 Fix secondary user crash with system user locked
a258d3fc4b13 Fix profile provisioning check in secondary users
528825e63d70 Make sure gc_urgent is normal mode, when no need GC
99813ff5c45b Allow profile owner to set user_setup_complete secure setting
9ed2c5cf702a SystemUI: add haptic feedback for qs tiles (#956)
4d22ebddf740 SystemUI: Move bluetooth dialog creation to LongClick method
3736d95bab5c SystemUI: Implement Bluetooth dialog
ef627f5d8236 Use getPackagesForOps instead of iterating packages by checkOperation
519f5b7e0efa ColorContoller: Fix getting default accent color
656c8a010f2d UI: Use SNAP_FIXED_RATIO for multi-window globally
5b22ef1efcb4 SystemUI: Hide wifi standard icon if not connected to wifi
682171b7c788 AppLock: Fix hidden apps reset after reboot
e7247b830ab9 AppLock: Update API
22de35767ed4 AppLock: Allow locking all apps visible in launcher
2a4247ec9878 base: Introduce app lock [1/4]
27329bde685a Hidden Apps filter for use in the Settings app
6b47bbe7da3c Show hidden apps on secondary users' app lists
bcaa43855014 Switch back to the application on /system when UID and path changed
9d3f52a6e63f StrictStandby: Offload force stop onto lock-free context
a4e494ae3fa5 am: Block MEDIA_MOUNTED broadcast for restricted apps
5da5744da1c7 base: Add support for strict standby policy
f2e6ca647eda SystemUI: Do not add lens screenshot without google package enabled
15d25e078de9 SystemUI: Make Lens work without independent package installed
87b81c09caf3 SystemUI: Integrate Google Lens into Screenshot UI
3bbdf835c157 Use profile's power button/timeout lock settings
d03afa8dc0f2 Fix unlocking of multiple work profiles at boot
3e83551f18bf Fix Open With dialog within a work profile
79d33f803c0c Add additional work profile badge colors and labels
704bc1887207 Always allow overriding the number of work profiles
44853afdde58 SystemUI: Blurs: allow blur even when GFX acceleration is disabled
dcaf4f1b16c7 SsytemUI: Add Locale Tile
501f49ce7ce0 NotificationShade: Make blur crossfading more gradual
0b8017dea12f Handle graceful exit with constants
08a0eb23c846 UI: Adjust default navbar layouts
cb2e4779c15a CachedAppOptimizer : Pageout File pages during system compaction
5f39a0200a21 SystemUI: Allow limiting AOD & ambient display refresh rate via overlay.
fcdd6ec1e745 SystemUI: Also blur power sub-menus
9116a6df3608 SystemUI: Blur the power menu
70f6d0395f72 Fix disabling power menu completely on secured locscreen
df62c41532cd SystemUI: Allow making Navigation Pill thinner [1/2]
113ff8ea3963 SystemUI: Allow Configuring Navbar Radius [1/2]
233ec118f298 Catch IllegalArgumentException for invalid phone id
29041a17e909 Fix crash when comparing messages
0454db6faa54 use max_adj to control process final adj
81f12a4a9cc1 Avoid resursion for sleep check in embedding window
8c422f0cf3a9 PowerUI: Mute logcat spam.
68f7f4e14e64 SystemUI: Don't force small clock when media isn't allowed on keyguard
3ee4db584934 base: make per-app work with multi audio focus
009872228c2e SystemUI: Remove visibility check in setting QSCarrier color
e3bf588e1622 MobileSignalController: Do not duplicate SPN and PLMN
adde60665807 PhoneWindowManager: Clean up unused keys
99df19e58084 Add handling of missing ServiceSpecificException
292fe839bbb4 Cleanup 'Update battery info every second when device is charging'
752a21bc2db8 Make overlay for 'Update battery info every second when device is charging'
836e0fc98fdc Update battery info every second when device is charging
e7108ba2e395 Fix an issue that the FoldStateListener induces a memory leak
a5e8de525db9 Guard in short-circuit evaluations for stringSplit methods.
a0756c796979 Fix potential crash in ImageTransformState
e4f354eb386f fwb: Only enable some features on eng build
ad2a127c1c36 SystemUI: Re-designed caffeine tile icon
0d637fcb688c base: Add support for Lockscreen clock fonts
c151cbc98fe4 Calculate apk size multiple times
9e748248319e vibrator: fix log format and level issue
48418e59975c Dynamic broadcast receivers that are not exported need to be filtered in checkBroadcastFromSystem
39199fdc6ccf base: dont call roundStorageSize on Storage API for getting sizes
f1a8e8bc1b0c Fix black screen issue due to wallpaper decoding exceptions
970c15e19754 KeyguardIndication: Set wakelock on doze only when required
d507d1681612 base: Refactor Wi-Fi standard icons
2525d2b1a4fe base: Import Wi-Fi standard icon [1/2]
3ba33c00affa VolumePanel: Change bg tint for inactive rows
26f9061b4400 VolumePanel: Add long click for expand icon
6c3728cc4473 NotificationPlayer: use AUDIOFOCUS_GAIN_TRANSIENT instead of AUDIOFOCUS_GAIN in looping mode
9eff87ed57f6 SystemUI: Remove existing icon group if its overriding
c6303a87f837 NetworkTraffic: Fix leaking receivers
99b825d0a821 NetworkTraffic: Simplify stats calc to prevent issues
a7af9b2508d3 Network traffic mode for status bar [2/3]
0d1199e28731 StatusBarIconController: Avoid crash due to incorrect casting
91241cf5a052 Fix VPN icon failed reloading after disabling
702849160585 TwilightService: Save and use last fetched location
ad9d711d5b37 TwilightService: Use temporary TwilightState when location is not available
341e9a1044a2 Package installer: show current and new version on apk installation
1e254fe0b0d6 SoundSearchTile: Update intent flags for the apps
4d2b0cafe601 SoundSearchTile: Extend the use
a47db74892f4 Add Google Sound Search tile
4df9df9dc8f9 Logspam: Properly handle optional app widgets service
111e8d89d3c0 SystemUI: Switch notification background to monet on heads up
454a776e2f45 SystemUI: Fix up status bar end side content layout
28ef0557fe74 SystemUI: Fix up status bar start side content layout
d93f8c9ecc26 base: Added screenshot tile
ce881b90083f SidefpsController: Apply ScaleFactor to sensorLocationY
5dd328445f64 MobileSignalController: Remove unused volte leftover
d00d4f265cf2 fixup! Improvements for dynamic VoLTE & VoWiFi icons
6e058b4d496f SystemUI: Update IMS states and update icon when necessary
7ad2f56a1d99 MobileSignalController: Try register IMS callback when listening
722059e8c806 Improvements for dynamic VoLTE & VoWiFi icons
06322da160c0 SystemUI: Introduce dynamic VoLTE & VoWiFi icons
0b2c49c36989 fwb: Smart Pixels on UDFPS - drop disable_smart_pixels_on_udfps flag
4be8cad66f46 fwb: Allow disable Smart Pixels on UDFPS
13310db4fa23 SmartPixels: Fix BatteryController dependency crash
5401d0a554e9 QSTileHost: Fix crashes with tiles like Anti flicker
0a715fa829d9 DisplayModeDirector: Make sure we apply refresh rate on startup
047af3164236 DisplayPowerController: avoid updating settings when adjustment is NaN
13a4edd155fe System crash during dismissing split in multi-user scenario
144bd34addb4 When a user is unlocked, it will install provider, but it cannot publish Provider successfully,we need add pr.installProvider before scheduleInstallProvider
671da99e395a Fix watchdog when NaN lux is reported.
4eaee1dd6e0c services: Suppress double upgrade notification for parallel space
e5249983a400 services: Do not turn on multi user switch for new parallel space
f4a024694730 SystemUI: Fix privacy indicator not showing for apps in parallel spaces
6010816ce5d9 GmsSwitch: Fix crash when GMS is admin app
81f7298b3d78 ParallelSpace: Prevent system crash for blocking notification of blocked apps
63a4caadae2c ParallelSpace: Block telecom server package
9fd570612160 ParallelSpace: Add Android Auto to block list
cfd0cece09e9 ParallelSpace: Allow/block essential apps without overlay
b41cea3560ae Add support for GMS switch
f0b96c0a237a ParallelSpace: Allow devices to overlay whitelist/blocklist apps
8f48d174fa6a ParallelSpace: Mark badge string as not translatable
ff3bd8102fde services: Fix parallel space crash with third party launcher
6261bac91169 data: Add missing priv-app permissions for parallel space
bf6628034cbd ActivityStarter: Resolve launcher intent to parallel owner user
c41f92879084 services: location: Whitelist parallel space users
f2b0b61a93c0 services: camera: Whitelist parallel space users
1b7ef249d37e base: Expose parallel space owner to api
1c4ace52ea07 Whitelist some Packages for Parallel space
5b61504a959a base: Add support for managing files across parallel spaces
bcb9fa2475af base: Add support for parallel space
a9fa880347ba BatteryStatsImpl: Guard against OOB
76412aecd78c Remove RESET_BATTERY_STATS permission for resetting stats
faa71d78806b BatteryStatsImpl: Stop resetting battery stats after reboot
06ee98b58238 frameworks: Reset battery stats [1/3]
298d6e32d631 Add config overlay to force enable multi resolution for camera
97d0e3b342ed Revert "Remove fixed grant of READ_PHONE_STATE and cleanup"
8c7e3fa56ab1 SystemUI: Switch to config for Refresh Rate QS tile
294e1834b07a RefreshRateTile: Improve logic
a1ac8e7fb475 base: added refresh rate tile
58e72962fe5b Introduce trimMemory to AppIconCacheManager
0a08a284247b udfps: Implement framework dimming support
66a28fd63142 base: Allow toggling floating rotation button [1/3]
5ef412782288 Settings: make SensorBlock readable by non-system apps
0fd4f98eb204 Make sensor block package list configurable [1/2]
28c7802bb705 base: Add Accelerometer and Linear Acceleration sensors in blocking list
011969af3063 FWB: Sensor block per-package switch (1/2)
34fb042adcbf SystemSensorManager: sensor block per-package
96e4e586ce9b Do not show camera indicator for Face Unlock service
6acce314b911 SystemUI: use simple check for isFaceDisabled
ec5dc0d92236 SystemUI: Face Unlock animation
26bd11fdf3ef Hide face recognizing message on bouncer when authenticated
0011be7a1f6b face: Pass requestId on our authentication client
21488c156138 SystemUI: Simplify and fix up showing face unlock detection
597510ed4867 SystemUI: Tell user when face unlock detection is running
39456bd8d2e7 Reset face auth on occluding app when authenticated
090b184454be WalletActivity: Don't explicitly request face auth
ee755eb84a71 Allow changing face unlock method when locked
19134311ff07 base: do not use new lockscreen layout for bypass
7af370d919e1 FaceService: Allow our face unlock to be used on third-party apps
ac1f2f7810b1 SystemUI: Improve pt-br translation for fingerprint_dialog_use_fingerprint_instead
c1da7591c618 Add idle lockout message for FaceUnlock
0ec5ad7bc418 services: Merge T changes on our custom face unlock impl
61540c2abf29 Initial import of Face Unlock for S
19207355e85b BiometricScheduler: Cancel operation if not idle
825cab9ea67e SystemUI: Allow disabling clipboard overlay [1/2]
b8766b84028a Youtube application when moving to PIP animation was very bad
f44ff2dcc45e Fix the pip bounds error when entering pip mode.
462b8fa38c6e Fix pip error, from split-screen to pip in landscape..
ac2f40c55a08 Shrink by 0.5 for YUV TextViews
431f0bca171c ViewGroup: Remove child parent when a new view is added
e4e187dfe95f Fix drawable-state cache expired issue
ea1cdaaeac94 Touch is not working
70146e925cda SystemUI: Prevent systemui crash when reinflating QS
86c46262c73a InputMethodManager: Prevent unnecessary invocation of IME
4ec80eeabacd Pause is getting scheduled 2 times
b70efd726865 Custom statusbar logo customizations [1/2]
696fe76477e0 SystemUI: Add Weather tile based on OmniJaws client
35329a42d6b8 SystemUI: Introduce Adaptive Playback [1/2]
8510326959f3 Keyguard: Fix quick unlock not applying without reboot
0370e93209d2 Keyguard: Fix scramble pin layout not applying without reboot
2618ceb8e206 base: Avoid saving length as in a sql db for quick unlock [1/2]
47408096fa28 Make Quick Unlock compatible with long PIN/Password [1/2]
37325b2e026f Keyguard: Forward port lockscreen quick unlock (1/2)
c3dbfe66472e Keyguard: Add option to scramble pin layout when unlocking (2/2)
fc82ec92b587 Revert "Keyguard: Add option to scramble pin layout when unlocking (2/2)."
79747336060f Revert "fixup! Keyguard: Add option to scramble pin layout when unlocking (2/2)."
fe308881401e Add interface for battery stats reset
4d6802273fe5 Pulse: Implement pulse color based album art [1/2]
0a99f4636301 Pulse: Detach pulse view only when attached
a3b1483c6966 Pulse: Solid renderer round lines [1/2]
2e80c8e201c5 Pulse: Set current Refresh rate as FPS animation value
0d77a8afa973 Pulse: Add more NPE checks
1e85c6c0ee27 Pulse: Extend to Ambient Screen
d9a664ac67f8 Pulse initial checkin for Android 13 [1/2]
db0f404be474 SystemUI: Nuke oriented navbar handle
c88930b58ffc base: allow disable of screenshot shutter sound [1/2]
493f441cac2e Volume dialog timeout [1/2]
bea37ea23dfc SystemUI: Use App icon for per-app volume
f2c534c8fb75 base: support per-app volume [2/3]
3005f28d4e34 base: Live Volume Steps [1/2]
4a129cfe7ca7 HeadsUp: Change heads up timeout to seconds
5d718bd871aa HeadsUp: add timeout option (1/2)
e21051d3db6f LessBoring: fixup LessBoring preventing bubbles
3259ffcb69f1 Less boring heads up: Don't skip heads up for most messaging apps
f88984168860 Slightly optimize less boring apps check for heads up
874af234e66a Skip less boring notification check when reTicker mode is active
5f73cc07ad93 Allow to suppress notifications sound/vibration if screen is ON [1/2]
f08e0eafee7c Less boring heads up option [1/2]
4d4db5997a4b AudioSystem: Add AUDIO_FORMAT_APTX_ADAPTIVE_{QLEA|R4}
b83c83de254b AudioSystem: add missing native audio formats
77928051ce7c Avoid Installer APP ANR when starting install in main thread
60f124346762 Safely handle the case of BroadcastOptions being null.
2a510737f206 Don't warn for displays with no input device matching.
eaa559b068e1 Fix screenshot sharing failure after the recent task is opened.
223eeff7f0ef Fix getStorageVolumes to return public volumes visible to userIdSharingMedia with.
a5baf2dd3f57 Add YCBCR_P010 in switch content in ImageUtil getNumPlanes.
aa9377bcaed2 base: wm: Follow rounded corners by split divider corner size
ca13e4c0960f VolumePanel: Pass touch outside of volume panel
55b2085603ad Volume panel: avoid multiple animations on touch spam
7c9c76d7cc24 audio: add support for extended formats
1d2d014c1d18 Give slightly more descriptive error messages when you can't find resource IDs
19d179d2d933 Add deep sleep preference controller [1/2]
f29253116860 Fix how ExifInterface creates VP8X chunks for WebP files
e8ca80f3d087 Prevent ExifInterface incorrectly copying a WebP padding byte
155406f5f38b Fix kotlin deprecation warnings
802c63f7f036 AudioService: RecordActivityMonitor: fix unbounded list growth
483d66bd2a08 Fix broken anchor tags.
c45d0af031c6 Fix unused-but-set-variable warnings
6304ab421c10 Fix ATRACE_TAG redefinition in SysTrace.h
4ee880649a1f Fix module-file name collisions
6cab37984c3f Fix error message being cut off.
ce6e39c9a5fc ViewConfiguration: Fix multi-thread safety issue
d14f00e2a59a TwilightService: Explicitly use `FUSED_PROVIDER` instead of getProvider()
1387b87d6ec0 Fix errorprone warnings that should be errors
8e2469d1cc1c Fix errorprone warnings that should be errors
76e11dbbae42 modify requestLocationUpdates
051051e84971 Easteregg: Fix wrong PendingIntent flag at BubbleMetadata
ed12f41f8c59 Unhide Parcel.writeTypedList() with additional flag
71dd45e11595 Fix array-related errorprone warnings
8052c2bde586 Reset PowerGroup.mIsSandmanSummoned while waking up.
64e94c1a1206 Fix problem that sub user`s active CustomTile can`t be updated by requestListeningState API
e39f0f8831d2 Fix errorprone 2.15.0 errors
347b45d068eb toString() of StringBuilder need to create a array copy with count, if no more memory could be made available by the garbage collector, "free list large object space" maybe oom.
2c590071dde9 Fix binderDied of an app can not be triggered in some cases.
2f5363558708 Services: Boost gesture flings
332d5a5bfa8c Fix erroneous self deletion on SkImage creation failure
72a8f95dbe25 Fixed Attribution Source’s calling Uid check for multiuser.
8a2a7ca7cd15 Fix the problem that the turn_screen_on Activity does not draw.
d7ca55c60e12 Fix WifiInjector instance exception if WifiService disabled
24cb28056590 Replace LinkedList by a more performant collection
890e4c8e0f12 Fix the problem that the home key can not work in some cases.
db60b7961f81 AudioService: catch RuntimeException for IServiceManager.getService
237014991b40 Change the default value of sync mode to NORMAL
ecb5da004cc8 Make sure view is laid out before calling createBitmap
0774f3f4b4c2 Make sure width and height are not zero before calling createBitmap
63e254d5d360 telephony: SmsMessage: Bring newFromCDS method back
25327ee10df8 StorageManager: Add dummy inCryptKeeperBounce method
88a5f7bc99ec SystemUI: Respect Statusbar left padding in keyguard carrier
7758efcb9839 ActivityManager: Add stub implementation of enableBinderTracing
3c1c8dc466ac Skip tracing missing binder txn names
55c72dc91430 Enable binder txn tracing more broadly
78412d0f1f5e Clean up binder txn tracking special case
9e06033829e1 Populate binder trace txn names lazily
ded45815764c Only create clip bound object when RenderNode is not quick rejected
4634b5d62796 Send <Request ARC Termination> when Standby
8bec7778b79e EnhancedEstimates: Get estimates from Device Health Services
b9ddb32a7157 Cleanup and consistency around system server profiling.
64d6066ac2f9 Allow profiling for standalone system server jars.
85904476815f Use synchronization to protect service list and service class name set
ebb04a4a8740 Fix bug for user removed case
70e29f1689c7 PackageInfo: Optimize ApplicationInfo creation
6c9c54748d65 Update HWUI to use GrGLMakeNativeInterface instead of deprecated GrGLCreateNativeInterface.
ad8ab3b9d8b0 Remove unnecessary HashMap instantiation
f7a26e5fd761 Hide contaminant dialog "Enable USB" button if not supported
19214e874a01 Fix freeform window resize not working on multiple displays
98abf698529a Avoid crash when dream starts
39f22ba6badd SystemUI: Check whether the selected WFD route is available
c9aef5b23797 Check if disabled system package exists before cloning its setting in createNewSetting
e9af1a500b9e Check if integrity verification has already completed in case INTEGRITY_VERIFICATION_COMPLETE
65505618ef05 Parcel: fix memory leak
8dea1c282521 Allow fabricated RROs to survive a reboot in non-user builds
367e5a651ccb screencap: Add async option to media scanner broadcast
f6fdceb759c7 Not run hideDotView as an animation
508a80cd45d2 Fix bluetooth tile show blank
8da4c62fa212 Change sendVolumeKeyEvent condition
51db888f9855 fwb: GLSurfaceView: Be less picky about EGLConfig alpha sizes
e6efdfc46db1 display: Don't spam log when display state changes
31300b01b36a Fix bug Device that can't support adoptable storage cannot read the sdcard.
5b8efebcc9bd Fix permission issues for network update service
b63cdefbeea7 MediaSessionStack: rechoose the media button session after the current one was removed
e2aa118b05a1 Add absent sim info to locked screen text
9c4237136cf8 Changing max SampleRate limits for raw audio decoder
bed916f468a4 RecoverySystem: make the package readable before checking capex
4774bd9bc7ab SystemUI: Add colors to assistant animation
409abbcc5b7d SystemUI: Set launcher activity name
3c90c8449201 Fix crash with protected content with ElectronBeam/Scale screen-off animation
4bca89e24462 Add upstream fixes to ElectronBeam screen-off animation
ef3e592e9098 fwb: Screen off animations [1/2]
80a30a776892 Fix long click intent for Smart Pixels tile [1/2]
2039e8c91f84 SystemUI: Add Smart Pixels tile
6fcbe0570ffe SystemUI: mark smartpixels as a trusted overlay
17953b3b09a8 Smart Pixels: Update default grid pattern
2f26a426bd09 SmartPixels: Use CoreStartable interface for receiver
33186dedfd90 Smart Pixels: Dynamically register receiver
da2a1eb5f9a8 Smart Pixels: Switch to registered receiver
f043c02a87c6 SystemUI: Smart Pixels [1/2]
41130778c833 SystemUI: screen-dimmer-pixel-filter
8956cddae891 Reload navbar icons on changing style [1/2]
3d609ed8a361 Add kill button to notification guts [1/2]
b0f971a6d6dc fwb: Implement cutout force full screen [1/2]
bcf206faa857 Ambient Music Ticker - Allow to pulse on new tracks [1/2]
20f7371d98d2 EdgeLight: Fix up applying custom color
0a01e9ca3489 SystemUI: Prevent edge lightning from pulsing outside keyguard/doze
05f4f8241989 SystemUI: add edge light customizations [1/2]
97ed8b3af13d base: Add bool to enable/disable doze by default
6ffb356cf22f Allow tuning ambient display with sensors [1/3]
c41e7163f500 Add toggle to disable charging animation [1/2]
7db479345f03 base: Use wireless charging animation for wired charging too
09684dc869e8 UI: Follow Monet and light/dark theme in user 1 icon
7befd8d7a449 Follow Dark/Light theme for Safe Mode dialog
75a762b45df9 ThemeUtils: Make it compatible for all targets
8e92abc62ae1 Bring back ThemeUtils for Theming
37c524de20cb Add support for Navbar styles
5371e1d93212 ThemeOverlayApplier: Apply wifi and signal icon styles last
a72a4ff87ca4 appop: Save discrete app op history for more permissions
f0aff1a0a307 Paint: Enable subpixel text positioning by default
7860c796990b Add button to AppErrorDialog to upload crash information to pasty
88a6fff62fd6 InternetDialog: Launch mobile network settings on long press
a6d9b2889d7a SystemUI: Add hotspot toggle in QS internet dialog
0a2ce659d5c7 SystemUI: QSAnimator: Hide secondary label in QQS
900d8c582d1f base: Bluetooth timeout feature (1/2)
14f82bacbd9f base: Wi-Fi timeout feature (1/2)
4f98ee0a3438 SystemUI: BurnInProtectionController: offset less aggressively
ecea37d21737 SystemUI: Implement burn-in protection for status/navbar
7fad41e40972 SystemUI: Re-inflate QS and SB when CONFIG_SCREEN_LAYOUT
903c12ffe871 SystemUI: BatteryMeterView: Set white tint in darkmode
b10ae762fbc5 PhoneWindowManager: Pocket Judge: Don't mess with power button to reject call
15650250992b base: Pocket Judge: Don't go to sleep while on call
f1467244bb3f pocket mode: Update style to latest OOS specs
4b20152c30b8 PocketJudge: Allow to register vendor proximity sensor
4189380fca08 PocketLock: Make using light sensor optional
65b1bfdddd5f SystemUI: Improve pocket mode layout
753c255049d3 base: Redo Pocket mode view like OOS
26298cc5a609 Fix an edge case in KeyguardUpdateMonitor pocket callback
79d7cb9d9acc PocketJudge: allow register vendor pocket sensor
b3a0a17bb733 PocketLock: fix flickering on animations
447762704df5 Pocket lock: Add config_pocketModeSupported overlay
122e67df2c8a pocket: introduce pocket bridge
bdeda41a206e pocket: Reduce sleep timeout for pocket lock
89858134f1b3 pocket: Use MD2 lock drawable
6ab9f77bc6a3 Pocket lock improvements
83482ad9a6ad pocket: Fix pocket lock view for display cutouts
89c24e381b18 pocket: Adjust sleep timeout for pocket lock view to 10 secs
e80646884f24 PocketService: Adjust light sensor rate to 400ms
fae44f8616b2 pocket: Add hardware acceleration and properly maintain SYSTEM_UI flags
507b9e2efbff policy: introduce pocket lock
d6c740f8808d pocket: introduce pocket judge
6d5dd8195639 AlertSlider: Allow UI to work with multiple resolutions
abbc549eaf5c AlertSlider: check for existing dialog before creating new
486c52220bd9 AlertSlider: Support slider actions without broadcast from device
e01c87909e03 AlertSlider: Add toggle to disable notifications [1/2]
06ed3c032d61 AlertSlider: Update theme more swiftly
60c6903ba973 AlertSlider: Prevent crash in case of incomplete broadcast
68f603f73d7f AlertSlider: Add more resources
c04e883d7fee AlertSlider: Fix layout for 180 rotation
84ce950c7a87 AlertSlider: Update resources
6848ffb80742 AlertSlider: refactor to reflect slider state
81379d6eaa11 AlertSlider: Improve layout
1cdea7f51f64 AlertSlider: Use default position behaviour if position not specified in intent
29b16bbfff19 AlertSlider: Do not hardcode slider position based on ringer mode
073c00f5a9bc AlertSlider: Work better with Key Handlers
60e55a1fc214 AlertSlider: Make tri-state SystemUI dialog dimensions conditional
a9b51ee6c1a8 AlertSlider: Introduce user interface for Alert Sliders
94a12cb6f236 QS: Use Settings.Panel intent for Volume Tile
62b7fb728419 SystemUI: Add tile to show volume panel
56a0999105b3 DataSwitchTile: Show active sim as tile current state
e4bef00218ad DataSwitchTile: Update SIMs QS icons
60821844c0ec DataSwitchTile: Use Mobile Data panel
13a9488b8f1e DataSwitchTile: Resolve initial tile state
08820945c600 DataSwitchTile: Fix issue when subId is non-binary
6a769785ac93 SystemUI: Introduce DataSwitchTile
da0d1cb233a6 SystemUI: Fix QS compass tile spam & instability
8ea5c9a12daa SystemUI: Add Compass tile
9717bcc03ff1 SystemUI: Rewrite FPSInfoService in kt from scratch
e300f3210d99 SystemUI: FPS Info Overlay & Tile
ae265119b0c3 QS: Add CPUInfo toggle tile
dff53f2b929f base: add CPU info overlay
5c3b82d9c1f3 OnTheGoTile: Fixed refresh state when turning off tile
935de3653edf SystemUI: QS: Add On-The-Go Tile
9d868aed4e56 SystemUI: On-The-Go Mode (1/2)
149d492e21dc Use double click effect for long swipe
90a77f0c44e3 Optional haptic feedback on back gesture [1/2]
624d64d5716e Allow to hide arrow for back gesture [1/2]
b5e131a4d0be EdgeBackGestureHandler: Change back gesture height intervals
53f7912d8699 Allow changing back gesture height [1/2]
d12e82004c4d Allow changing the length of gesture navbar [1/2]
49867f1a9f05 NavigationBarInflaterView: Improve applying overlays
797600f2e590 Navbar: Fix issue where pill disappears in gestural mode
565d3a087f21 Add separate tunables for navbar layout customization
93ac89e9354a Forward port pixel navbar animation from redfin 11 [1/2]
53ec29df9914 fw/b torch: add haptic feedback
d47be368ff87 UdfpsAnimations: Migrate to DisplayUtils.getScaleFactor
8224ab0591b3 DisplayUtils: Introduce getScaleFactor
3e5ce6d75907 SystemUI: UdfpsAnimation: Don't run scaleFactor on mAnimationSize
9e4275a7257a SystemUI: Allow UdfpsAnimations to work with multiple resolutions
8a225d1d9a70 biometrics: Fix udfps races
77ba9bc00b91 Bring back UDFPS icons and animations [1/3]
6564f0e32426 UdfpsController: make sure to continue with onAcquired even when pulsing
c7b26e52dbaa base: Allow toggling screen off FOD [1/2]
e68a5ee2f824 udfps: Allow devices to pulse onFingerDown instead of waking the screen
170b7a76ab69 udfps: Add support for udfps on aod without dedicated sensor
63100c1b2e23 udfps: Trigger onFingerDown with regular action down events too
3aaba49e0ffa Fingerprint authentication vibration [1/2]
c7f6fbaaaa09 base: allow disabling ripple effect on unlock [1/2]
c083e266c614 SystemUI: Disable lockscreen album art by default [1/2]
1a6ef91dc576 Add Lockscreen album art filter [1/2]
c9167625d42d SystemUI: Allow to change QS tile label text size [1/2]
2b8519fcd1c5 SystemUI: Update and fix QS tile layout settings
0a8146eb6ad8 SystemUI: Improve vertical QS tile layout & animation
1a60c77463e3 SystemUI: Tune QS tile dimensions
6cdd6b8749d1 SystemUI: Fix qs tile vertical layout scrolling
ae62a4520b10 SystemUI: Add QS tile layout settings [1/2]
a9f6016454c8 QSPanel: Add rotationX animation to quick settings tiles [1/2]
b8a0008e2285 QSPanel: Use Tuner API for QS tile animation style
4c01786ae6da QSPanel: Add animations to quick settings tiles [1/2]
3417a1893918 SystemUI: Hide oos clear all if reticker enable
9b5dbbc22663 SystemUI: Introduce OOS style notification clear all button [1/2]
f67c0aeed63b SystemUI: Avoid NPE in QS footer data usage
9b1f66fdb5f5 SystemUI: make QS footer rounded (#910)
767c5644f82f SystemUI: Match footer actions background with notifications background
ff04b525a99a Status bar notification: Use Material icons for missed calls
e93e166049c8 keyguard: Actually kill Fancy Colon
83b645dcb454 SystemUI: Tiny expanding improvement
4ac729139ced ViewConfiguration: Set scroll friction to 0.012
188cc3b37be5 Speed up Orientation Listener
d56cc982d486 Let's cut Max Excape Animation in Half
441c9b7305a9 SystemUI: Fix multiple QS background scrim issues
caca94f18ee6 ScrimController: User Tuner API to apply custom alpha
f6d2d2574399 SystemUI: Transparent QS customization
afe4d93515fe SystemUI: Refactor notification reticker
972b30de6ea4 base: add API for disabling gestural navigation
b9e6a539c55a reTicker: Do not jump to app when clicked in games
c8d76c271737 SystemUI: Add support for GameSpace
fda6b17e12ab SwipeToScreenshot: Import MIUI implementation
443faf92e612 Improvements for swipe to screenshot
8a23ec118672 base: Add three-fingers-swipe to screenshot [1/2]
aa84b49ad0ff base: Introduce Accidental Touch
2ffff6ce4364 Move Swap capacitive buttons to Settings [1/3]
19bd359e6906 Add toggle to disable HW keys [1/2]
a529af0bd5c0 Hide power menu on secure lockscreen [1/2]
7a6f8d2dc9d4 Introduce customizable navbar and hardware buttons [1/3]
c7709837a20f Revert "PhoneWindowManager: Fix wakeup and long-press actions of assistant key"
937278307fb1 Switch gesture navbar to new navigation bar key event source
d045e5b77371 base: Introduce new navigation bar key event source
c43013ed466b reTicker: Cleanup
1b84603ce953 reTicker: Do not show when content/icon is null
240540dbb3aa Use Tuner API for reTicker settings
8fa09671d106 Properly update view for reTicker
3678d81fef4a Feature: reticker [1/2]
67e1fe696359 Allow disabling qs on secure lockscreen [1/2]
bb56bddd4d84 Use FORCE_SHOW_NAVBAR to actually toggle navbar
9de93464c250 CentralSurfacesImpl: Clean messy tuner API usage
0090ebe76700 Prefer `Boolean.valueOf()` to `new Boolean()`
499991923967 Fix the problem that system apps cannot drag
3f014008984e Fix exception caused by system app setting wallpaper
5657bbc3a27b Fix sticky firstEventAfterDiscontinuity setting
21736c4b33ed Move SkiaCanvas::Clip above SkiaCanvas::SkiaCanvas
a77e0bb822b9 app_process: Fix className check
eb93e8ecb0a6 Telephony: Fix the record output
6423eee48e36 make sure mSurfaceLock.unlock can be executed in unlockCanvasAndPost
f6b705091c20 Prefer valueOf() to boxed primitive constructors
9943829490e9 Switch to source build of JavaPoet.
06a1f5cec50c Allow passing in a category override to aapt2
feba9e23c770 Add FULL_ACCESS_CELL_BROADCAST_HISTORY permission to shell for CellBroadcast MTS test.
2decb9ce5699 Make LoadClass collect garbage as promised
503d83125f1b Fix stack-use-after-scope for a `std::string`
00f985821851 Fix C compatibility in AMidi.h.
69a1b3b5e71e audio: Provide boxed types for remaining primitive types
4f6f66095af9 base: Add crDroid utils
71b2a1b74ef1 QSPanel: Don't crash when not using media player
15f4864e781e display: Don't reset brightness adjustment on clearUserDataPoints()
7c4af58d0802 display: Force a reset if brightness adjustment is changed directly
0b0c020542ff Do not brighten when dim state or low power mode.
e8740dbcca5d SystemUI: BrightnessController: do not update slider from DisplayManager callback if user is changing brightness
dc610f429142 SystemUI: Clean up and fix QQS Brightness slider padding
815f7fcfcf37 Brightness slider: Fix issues with media mode
492020f25168 Bring back QQS brightness slider
6411a5fe88f1 Revert "Remove QQS brightness controller"
e6a45a21692a Allow tuning position for brightness slider
af22ae2ea290 SystemUI: Allow toggling privacy indicators [1/2]
85ba5b295801 SystemUI: Kill old privacy indicator icons completely
bbcc345320f9 Battery Styles: Add BatteryBar [1/2]
cf6de502fab9 BatteryService: Switch Dash charging status path to an overlay
01d6771025a6 BatteryService: Switch Warp charging status path to an overlay
2772f2a697d9 BatteryService: Add support for oem fast charger detection
9b731b9807e6 BatteryService: Add Turbo power charging support
58eabe2cee02 BatteryService: Add VOOC charging support
b696030a05a7 BatteryService: Add Warp charging support
c79ddd4a1ee6 BatteryService: Add Dash charging support
464c708d399b SystemUI: Add current divider config for lockscreen charging
ed4a10513d06 KeyguardIndication: fix fc on lockscreen charging info
1a53186cd537 Lockscreen charging info: show decimal in battery temperature
36a5bb12d54e SystemUI: keyguard show charging watt
a17656aa7c04 LockscreenCharging: squashed (1/3)
1d67632f0ccd SystemUI: Fix QS customizer corner radius
366bd3e5d21f SystemUI: Fix tuner pref for bluetooth
ba597f4f494d SystemUI: Add missing init for isDeviceProvisioned in PhoneStatusBarPolicy
32a26aac4121 SystemUI: Add ability to toggle bluetooth battery level [1/2]
1cbc0d3c79c2 SystemUI: Show battery level for all devices
934314b8d65c SystemUI: Option to disable Data Disabled Indicator icon [1/2]
cbe14286c447 SystemUI: Allow using 4G icon instead LTE [1/2]
bd9adf08f19c SystemUI: Make roaming indicator optional [1/2]
8b76d14ac285 SystemUI: old style mobile indicator layout fixes
85144f3a6b0d SystemUI: Allow to use old style icons as default [1/2]
fb05b4164fcb SystemUI: Improve mobile data style switch logic
1ba0cf4ee872 SystemUI: Old style mobile data indicators [1/2]
b1011a05e617 libs: hwui: Avoid system crash if font contains invalid/null font data
7e5e7942f22f base: Custom vibration pattern per notification channel [1/3]
93ecfd988f19 base: Allow choosing a custom vibration pattern [1/4]
106f2123464b base: Add vibration patterns from OOS [1/3]
a0ab31a2b825 base: Add DND & Rate settings to flash on call [1/3]
933aba5de683 base: Allow to flash on call only when entirely silent [1/3]
1eae1623e7d1 Add Flashlight blink on incoming calls [1/3]
fc0e32928c2e base: Incall vibration options [1/3]
850638ab202d Phone ringtone setting for Multi SIM device [1/3]
fadc6f6a129e SystemUI: Update notification count overlay
efd226e2f251 SystemUI: Refactor colored statusbar icons
004137f84358 SystemUI: Refactor notification counter
deca9916c363 SystemUI: Show infinity for large notification counts
4a877a29f14b SystemUI: Forward-port notification counters [1/2]
93ea6a8fe2a5 SystemUI: Make app icons in statusbar optional [1/2]
956df5ac8eb6 SystemUI: Use app icons for notifications in statusbar
9d5de6d779ac SystemUI: Separate double tap to sleep on lockscreen [1/2]
fc77ff11170f SystemUI: Add statusbar call strength icon to tuner prefs
a70aab191022 SystemUI: Add switch data saver icon
8283e46576f8 SystemUI: Add VPN to the icon blacklist in tuner
b3c01a9592ca SystemUI: Update NFC tile drawable
59b3b51a5fbe SystemUI: Add statusbar NFC icon
fbd78e8cce47 SystemUI: Remove excess margin in few statusbar icons
30531278db27 SystemUI: Fetch bluetooth battery level from any device
8364b721c166 base: Rearrange bluetooth icon on statusbar
cc6c597ce376 CachedBluetoothDevice: Add missing LeAudioProfile
cae2b5710f53 CachedBluetoothDevice: Fix detecting connect fail
f6ba0bc34edf Fix BluetoothRouteProvider unsync randon crash
cbcbe8e1f114 BluetoothControllerImpl: Synchronize mConnectedDevices access
193ee8e6c195 SystemUI: Use red color for low bluetooth battery
2f2592c70346 SystemUI: Refactor statusbar bluetooth icon
ba8939f09d92 SystemUI: Update Bluetooth battery level assets
e4ea19255fdc Disable quick QS pull down by default
24c9bd6c7631 SystemUI: Add case to quick pull down status bar anywhere
6804e95d7870 SystemUI: Add missing location permission
56fad7a2583b SystemUI: Add pixel style lockscreen weather based OmniJaws
5fb47a3fc4d0 SystemUI: Make weather location on lockscreen optional [1/2]
53df46c27976 SystemUI: add enablement settings for OmniJaws keyguard slice provider
27df65bb2029 SystemUI: add OmniJaws keyguard slice provider
e60e02c465e8 OmniJaws: Use google icon set by default
86a4f268da34 OmniJaws: add force refresh hook
5dd78f09fee3 crdroid: Add OmniJawsClient
769de9dbce26 ThemeOverlayController: Remove repeated monet check
66e074a862c9 Battery: make fill path rounded
1d10ee5fb5a4 Battery Styles: Hide plus when showing battery percentage inside icon
21e7a605d2ea Battery Styles: Fix percentage view on landscape battery
5a2848608257 BatteryMeterView: Move null check to the beginning of the method.
2c5fe86a0914 Battery Styles: Allow setting percent view on left [1/2]
672c7f118606 Battery Styles: Fix landscape battery size
ece7fb0c531e Battery Styles: Introduce Battery Landscape [1/2]
b92ea632fc9e Battery Styles: More clean up
3e3017782e74 Battery Styles: Fix signal icon padding with Hidden style
08840f4f1bfa Battery Styles: Show a bolt ⚡ when charging
4d904693c849 Battery Styles: Introduce full circle battery style
9f91cd697b7d Battery Styles: Readd dotted Circle to Kotlin impl
e7cc21c1c05b Battery Styles: Clean up for more customizations
9a415e1d2c4f Make center clock follow paddingTop
db9b4964885b Fix issues with center clock
02218e523a9b SystemUI: Fix up statusbar clock bg chip layout
2f265b6dbc18 Statusbar Clock background chip [1/2]
d607a9d60026 SystemUI: Retune clock paddings
f3f14ee74a08 Clock: Fix issues with hidden mode
2a1c20c5beeb Revert "SystemUI: Avoid using null Context in onTuningChanged()"
905ba64bc168 SystemUI: Properly apply dark theming to clock
cc79f955d50d Use position tunable to hide clock as well
c35b1c2b87a8 Add option to auto hide status-bar clock
3564a814f410 Statusbar clock customizations
d2b1ab525a09 Add separate tunable for clock seconds
984dff805fc3 base: use a double click effect for charging if there is no amplitude control support
fa9993cbd5fd SystemUI: Use proper Resolver background color
153be2de7b7f SystemUI: buttons should no longer be textAllCaps
6de731d99caf SystemUI: Fix suspicious spaces around mobile icons
ae4c9c10d62a KeyguardIndication: Fix glitchy charging info on AOD
722d385cddd6 KeyguardIndication: Fix glitchy charging info on lockscreen
d089298febc7 SystemServiceRegistry: Replace ArrayMap with HashMap for performance
d4fbdb64a727 LocalServices: Replace ArrayMap with HashMap for performance
2cc6b499e5b5 LayoutInflater: Opportunistically create views directly for performance
64137ecca411 ThemedResourceCache: Replace ArrayMap with HashMap for performance
25822a1f5670 Screenshot: Add delete action chip intent
ef9a5a2d4de6 SettingsLib: Don't show system overlays on apps list
3645de2d5621 Screenrecord: Remember last used blinking dot position
8a7289909fa4 Screenrecord: Save preferences for permission dialog
afc0281fcd15 Screenrecord: Add summary for HEVC encoding
33bde2cf53de Screenrecord: Add an option to use HEVC
a054462d4e40 Screenrecord: Slightly optimize loading/saving preferences
dc5019fc4913 Screenrecord: Allow to reduce 3 second screen record timer
b82f786291a2 SystemUI: Export RecordingService for External Usage
40243e909dd9 Screenrecord: Add an option to record for longer
d92a8a92f924 Screenrecord: Make low quality bitrate scalable per device
c71e4eafb2d3 Screenrecord: Save and load set preferences
96af1409e80f Screenrecord: add blinking stop dot and low quality options
f1a3c76afe1b Screenrecord: Allow to select AVC codec profile level
aafff7e9dc96 screenrec: Save recordings in ScreenRecords
6f727b41940e SystemUI: allow to limit the max framerate of built-in screen recorder
23b512a52a33 SystemUI: Add delete action to screen recorder notification
8510849f43bd SystemUI: Make popup menus more rounded
3381cb115159 QS: Add Sound tile
6be708faeaaf QS: Open WifiPanel on LongClick
7b279f5611d5 QS: Add and use Mobile Data panel
e130b67ad778 QS: Add and use Bluetooth Panel instead of full Settings
48bd74bada1f CastTile: Fix availability of Cast Quick Setting Tile
a83e39609126 SystemUI: Name Cellular Tile based on carrier
394c1466f8e2 SystemUI: Update default tiles as per usability
28f363fdd7af Revert "SystemUI: Network Traffic [1/3]"
cec7e8c9eaad Revert "SystemUI: Network traffic with center cutout [1/3]"
66310dd8b0ef Battery light: 100% charged level (1/3)
cdb1b2151a53 services: fix weird launcher3 crash
1cb594977db7 ColorUtils: Prevent crash if alpha component is translucent
1447e259c8af Close unused Image before acquire new one
2fcfef75ff80 Fix the memory leak during high speed recording
063ae4619dc2 View's mAttachInfo maybe NPE
acfbf984d615 Toast: Solve the NPE problem in session.java
980510a7f3fc PowerStatsService: Prevent NPE in BatteryTrigger.
c8e4d1978f5d FingerprintManager: Fix NPE due to sensorProps
1fa20ffbe924 ImeFocusController: Prevent a rare NPE
5ab83789982e ThemeOverlayApplier: Catch a potential NPE.
d5f7149a7ab6 View: Prevent NPEs when initiating surface drag
b9c671d259d5 wm: Prevent NPE for springanimation
b89df409c392 Fix NPE when store brightness and displayDevice is null
8da158be05f2 Fix NPE when pip onAnimationEnd
ea1163b871d2 Fix potential NPE when MessagingMessage's message is null
64332608a988 Fix SystemUI NPE when ScreenDecorations is disabled
aa0e13e21c29 Fix NPE when AOSP ambient display preference is removed
44514d3d13b3 QSPanel: Fix NPE in updateViewPositions()
84b86b66cc96 ActivityThread: Prevent a NPE caused by null configuration
46b9fe98bd10 Fix potential crash when TaskDisplayArea is null
c8138872dbd5 fixup! TtsEngines: avoid crashes caused by null engine name
d62dba58037e services: Fix NPE caused by null connectionToken
1fb78119a891 Fix getRootTask may be null led to client NPE
9dc56259c74b Avoid NetworkPolicyLogger NullPointException
75abc0e8d86b Fix NullPointerException in GestureDetector
53395d5384ff Check for null ferr
e4a502d9bce9 Fix null-deref crash while fuzzing
19a5f4de7e4e hwui: Prevent a null pointer on renderthread
45324295435f hwui: Add NULL pointer check in AnimatorManager::pushStaging
a4ee93528933 Fix task info null crash
7c3a4b02c4c6 Fix NullPointerException to get sim accounts
3b570862ebf2 Add missing Nullable annotations to UsbDeviceConnection.controlTransfer.
ea2069c32dba Fix NullPointException when PackageInfo's verifiers is null
c9955d752e2a Add `@Nullable` to SensorManager.getDefaultSensor's return value
3e7d9e72393a fix NullPointException when pkg is null
c2409605e43a Fix PermissionHelper NullPointerException
5888220218e1 CEC: Do not allow null callback
bddcae988e34 Fix NullPointerException when starting app with old ApplicationInfo
b02ee5901017 SystemUI: More rounded corners
d69e2e124c29 Calm down attention service logspam
dce82d86102a base: Update few drawables
a7d84ad1e415 ServiceRegistry: Don't throw an exception if OEM_LOCK is missing
42331016c5bd Fix incorrect context classloader initialization in system_server
56ee3b3d0501 Fix MtpDatabase multithreading NullPointerException
459e24c33843 BackupAgent: Add backup shared mode
8f29745ebaa0 ripple: Replace with Fluent Design-inspired animation
ac6fff5129d3 PowerMenu: Hide emergency affordance if not selected
8f83e600cfd1 Add null pointer check to avoid system crash.
c62682301a9f services: Skip access check for matlog shipped with rom
c14d7c275db5 Add null checks
4a2e76c9cbb6 CtsWindowManagerDeviceTestCases android.server.wm.KeyguardTests#testResumeDismissKeyguardActivityFromBackground --fail
b81be7806228 CursorWindow_test: fix leaks
259cc68eb872 Catch exceptions from prepareUserStorage() in loadPrivatePackagesInner()
8f60169fb0a0 Update various corner radiuses to align with AOSP apps
84c9646ef755 Fix potential race condition problem
2718ff81e057 wm: Migrate deprecated getColor to one with Theme
a48afde645e7 Toast: Fix the concurrency problem of mAuthenticator
18167cf6d0f6 Fix the NullPointerException in Android S Version:mServicesData
d455c680773b Fix the logic of parsing profilebootclasspath flags.
ac24ae0ac278 Fix for NullPointerException in SmsMessage
8ac57ad222ec BatteryStatsService: limit logspam
98e8a276d76a Syncronize frameowrk and ImsStack operation for ImsFeatureStatusCallback.
306ec11a071b Accessibility BinderProxy leak
271e8ab0a1f6 ViewRootImpl: Fixed memory leak caussed by viewrootImpl objects
414d78ecef72 ViewRootImpl: Set max fling ticks per sec to 24
53fc70ca2b1a Fix ViewConfiguration's ArrayIndexOutOfBoundsException
a2327e99f05c ListView: Disable dividers by default
245b619dd8e7 base: Update ic_doc_folder drawable to MD2
f08008c45c60 InputWrapper: Opt out early if session == null
e3498ff82fef Screenshot: Remove text from expanded screenshot chip
ac80d0136f39 Change DropboxRateLimiter to rate limit proto tombstones and regular tombstones separately.
79e044d72b6a fix MediaRouter error callback
0aa60e208ccf Apply wakelock for notification sound
3a01966d1384 Change the order of Notification writeToParcel
7090f777a37a Do not assistant delay for media notifications
5ad3b4b13632 Return no optmization info for package "android".
783ff33824bd neko/Cat: Mark FLAG_IMMUTABLE PendingIntent with FLAG_MUTABLE
0b64ed6a25a7 Link dialog radius to config_dialogCornerRadius
4862371d7556 SettingsLib: Fix nav bar color on certain apps
b4d900a9aba6 Set navbar color for device default settings theme
7f4ac8deab93 NavigationBarInflater: Change overlay for no hint
d7f56354e60d NfcA: Fix an NPE in constructor
186c1ac83df1 base: add more notification channels to blockable
b9a0aedb151c base: fix google copy pasta error :)
609b1e18d01a SystemUI: set heap tracking default also with a property like all the other flags
bc31c1bc68da NetworkPolicyManagerService: turn this into just a warning
b877414429cf core: PinSet: fixup and improve code
b7859fef9050 Cache pin algorithms in PinSet
b9f3c3f8781e (Point) Only calculate sin and cos once
7b52d0eb69e1 Cache KeyStoreService
00d0867beb03 aapt: Use a std::map instead of a SortedVector
a17b68609b2b aapt: Speed up the style pruning
6a381a6e8853 Avoid Settings app NPE on broken packages
4f28af07fb5c Use brightness icon matching with slider redesign
c314ae411d8d KernelCpuUidActiveTimeReader: Do not spam log with negative active time
2f0a5a8f554c SystemUI: Let screenshot window ignore screen decorations
d40c3f5b1948 core: Fix menu popup ripple
be48431236a5 SystemUI: Update black theme package overlay
bea4ec9c4065 pm: microg-spoof: Add null check
7972b832cca5 base: Add support for app signature spoofing
66fd39113574 Fixed a crash in settings in tts engine selection screen.
a75f0a15f48b SystemUI: Fix SystemUI Crash
d59e1a3eb263 CarrierConfigManager: Enable payphone call blocking option
a29f2edf5e77 SystemUI: Allow using tuner API for Global settings
a80c486320d8 TunerService: Prevent NPE with tunable
10024a3822ed PixelPropsUtils: Enable spoof for pixel devices too
b0a366fd9510 PixelPropsUtils: Spoof gms with Pixel 2
99989f78b905 PixelPropUtils: Add more processes for GMS spoof
3d4437f2f389 PixelPropsUtils: Do not spoof restore, pixelmigrate and setupwizard
8a43370ed95e PixelPropsUtils: Adjust Tensor workaround
e37876449faa PixelPropsUtils: Switch from POCO F4 to POCO F5
7f63188452ff PixelPropsUtils: Add Gameprops for Battlegrounds Mobile India (BGMI)
3f29ff5a75c2 PixelPropsUtils: Update supported pixel code names
11a7dd404c22 PixelPropsUtils: Don't spoof fewer apps
ed63bb77cb66 PixelPropsUtils: Simplify GoogleCamera whitelisting
33480f640ac1 PixelPropsUtils: Consolidate google app check
a6afee466559 PixelPropsUtils: Update game props
8b08fd42b70a PixelPropsUtils: Spoof user build
db952ac19997 PixelPropsUtils: Don't declare propsToChange as static
0dac050f78a5 PixelPropsUtils: Make CTS/Play Integrity pass again
48a95afe5bbc PixelPropsUtils: Set shipping level to 32 for devices >=33
5990e7bacfd2 PixelPropsUtils: Use actual device model name
18f8dc12eaff PixelPropsUtils: Use spoofBuildGms for FP and model alteration
bfa71a6e6603 PixelPropsUtils: Allow disabling netflix spoofing [1/2]
b148f88b8328 PixelPropsUtils: Restrict P21+ features usage for 2021+ Pixel devices only
7361bfbf70b6 Introduce PixelPropsUtils for safety net spoof [SQUASHED]
a47d69b931c3 SettingsLib: Update 5G+ icon to Silk design
b382bcaac83c SettingsLib: Update 4G+ icon to Silk design as well
75168ec00354 SettingsLib: Update LTE+ icon as per new Silk design
cbb4b9453afb base: Add rounded corners to activity open/close animation
668ceaccfe35 CarrierConfigManager: Enable LTE+ icon
b3b21e1074e9 SystemUI: Speed up actions expansion animation
7c2e71da72ec SystemUI: Reduce screenshot dismiss delay to 2 seconds
68c6f46a1668 SystemUI: Dismiss existing screenshot window before new
d7a35ec77ab4 SystemUI: Dismiss screenshot window on touch outside
20738776835d SystemUI: Remove Android build number from QS footer
7b1b0906f624 Kill off provider info logspam
7a037959b615 Reduce log verbosity: Don't spam logcat
76a69f2fa380 Suppress FingerprintManager logspam
a0bfec948b4e NightLight: Allow lower temperatures
bff9008cd461 FATAL EXCEPTION IN SYSTEM PROCESS: android.ui
3fb8b79e280a aapt2: silence positional arguments warnings
f3d0158d5f1e MountService: Prevent NPE with DropBoxManager
77733d05b2fa base: Remove more hardcoded fonts
b7b240a36a90 We need know which font leads to system_server crash.
f06396bc7dc5 Set alert dialog message to use system font
7835588e9c3e graphics: Override system fonts with user-selected overlays
e8bf805c6489 styles: Use user fonts for Material UI themes
951fec6e983a base: fix list style alert dialog to use system font
d89f2a01b054 SettingsLib: Use framework resource for headline font
7916defb0932 Fix action bar font family on material themes
450b59fd84d6 base: styles: Use user fonts for Material UI themes
52520340b2b8 Fonts: Add regular / light font config
338e8a3dc4b0 base: Use font configs instead hardcoded fonts
8b784deddd19 Wire up default fonts with font engine
1fc0349f2e66 base: Export bodyFontFamily and bodyFontFamilyMedium symbols
339dc35ce14f ManifestConfigSource: disable debug mode
0b45807ff00e ZygoteInit: Disable debug and tracing
390fb302f975 fwb: Disable some debug/log/trace
8c796a32b4dc Trace: Disable debug tracing on production builds
f4ba530fd150 Turn off some debugs
c00c78d0b26b base: Add metric for crDroid Settings
5f884b19ccee crdroid: Adapt settings for A13
7caebeb2bfcb Restore cache clean up code in PackageManagerService
1b92d23a9492 SystemUI: Better QS detail clip animation
722beb2a6eae base: Update some icons to MD2
005be9865474 frameworks/base: Support for third party NFC features and extensions
e1a82976a653 Camera: Clear identity before access device policy manager
5da19a87dce3 Camera: Quit extension handler thread during release
f4ea08777ac6 Camera: Release advanced extension references
4ea770565315 Camera: Release advanced extension references
f75022d2b986 Camera: Always release the extension session after configuration
cdfc20579e15 Camera: Avoid holding locks during advanced extension initialization
87f7b0cbca0b Camera: Bump up the extension jpeg processor blob size
78f08d5f34cd Prevent camera pipeline stall due to ImageReader close lock
f38e0a376614 Camera: Remove GPS_LOCATION if set() is called with null
7348a7d8a539 Camera: Register LensShadingMap marshaler
5d84d41138c9 Camera: Fix null pointer access
845ab176b0c5 Camera: Fix size list parceling
48af4bdfa573 Camera: Avoid possible NPE after extension session configuration
ee99833f6995 camera: Add backwards-compatible CaptureResultExtras constructor
a68529857b8b Camera: Expose aux camera if packagename is null
6f7ec1c2d5a4 CameraDeviceImpl: Don't crash when checking input configuration failed
bab0cea93884 Fix crash when init QrCamera to start preview
fac7bd77155c camera2: Add non burst sizes to mandatory streams for ultra high resolution sensors
96f002401732 Select the proper request list size
2a0006b5da23 Camera: Clearing exception for Extended Face
43b7e89151db Camera: Don't crash when trying to disable shutter sound
868d56e45c38 Camera: Don't throw exceptions when value pairs have spaces in them
0bf07d582ae0 Camera: Add feature extensions
490a48d770f6 Camera: Prevent crash with prebuilt camera metadata
b2331ca6ca5b Camera: Extend face detection
f95fc71f3050 Camera: Ignore torch status update for aux or composite camera
fb7ae30fc11e CameraManager: Fixup exposing aux camera to apps
97a01198e966 Fix Photosphere/Camera FCs
e8a230bba7d4 Allow sending vendor- or device-specific commands to the camera HAL.
035777eb5eea Camera2: Notify fps as Session Based Parameter
50ecae28586c camera: Allow selected camera apps to skip unconfigure
d648357ddf1d base: Add stub files
cfd9c1e4c8ea Support per-UID VPN lockdown policy
64cef56e1c68 Skip firewall rules for stopped users
b83a568fa1d5 Use POLICY_REJECT_ALL instead of allowlist
c05f2daa164c fixup! Implement firewall status bar indicator
714095c893a9 NPMS: Check if UID is disallowed by transports
5a0dc91a17ee Track and send allowed transports to Connectivity
e91d98e3327a Do not consider transports for restricted mode
c35569b439a3 SystemUI: Fix keyguard affordance colour in light theme
01a12efd717c SystemUI: Check primitive vibration support in new quick affordances

   * packages/apps/Settings
c936a63f31 Settings: fix app lock allow biometric toggle ignored (always on)
d06ab23c53 Fix resource leakage caused by cursor
3fce15ee6c 'Mobile plan' is searchable even if it is unavailable
d1e68cb00e Enable copying content for IMEI2
02a940c496 Work profile lock settings will now affect the active managed profile
721471713a FaceEnroll: Fix circle camera view background color
853b250de6 Settings: Update Glide library to 4.15.1
124a6c9be7 Settings: fix crash
e5fa16efc2 Do not crash when duplication found in merged imsi list
3630feaf61 Hide TTS search results if no TTS engine is available
6def7591a3 Clean up Settings to allow a2dp, hfp, and le audio to be simultaneously connected on the same device
f449e34c28 To fix the footer link is not clickable in the Bluetooth Settings
61b752ae89 Refactor AppPicker page to adopt Settings main theme
ed4c2b46ce Settings: Bluetooth: Don't check persistable uri permission for BtHelper
870a3e3205 fix WifiUtils:isNetworkLockedDown() null pointer issue
c853c23460 Fix NPE in BluetoothPairingController when comparing BluetoothClass
5dc0eb54a7 Amend "Reset notification importance" list item style
7ba202f6e4 Enable ethernet data usage when FEATURE_USB_HOST is present
09ab1886b9 Align main thread checking by calling ThreadUtils
d6a1e7ce00 Override onTrimMemory to apply trimMemory in AppIconCacheManager
1647431770 don't sort user profiles by serial number, sort alphabetically
b2590ba84d Settings: Add back illustration to face settings
228b4e4d20 Fix AppEntry.extraInfo ClassCastException
d778e8239f Settings: Hide radio info if device don't support voice
23afe6bb85 Settings: Expose radio info (*#*#4636#*#*)
fc802cc8f5 Settings: Add switch to unlink ringtone and notifications volume [2/2]
cb565b29de Settings: fix typo in settings namespace for qr scanner on ls
b9090a1667 Settings: Align TotalRAMPreferenceController with MemoryUsagePreferenceController from dev settings
3e55c6bbe1 Revert "Settings: Add an option to force pre-O apps to use full screen aspect ratio"
32bc11aef6 Settings: Expose saved devices fragment via intent
2c7dca8956 Refresh "Device details" after resuming
f1c7ed981d settings: allow enabling ethernet tethering independent of link state
8839bdd298 AppLock: Slightly bigger icon size
992791cd92 Settings: Update AppLock API
01f5e8b6d1 Settings: Allow locking all apps visible in launcher
d549181aa6 Settings: Introduce App Lock [3/4]
91976c4951 Settings: Allow making Navigation Pill thinner [2/2]
a86849581b Settings: Allow Configuring Navbar Radius [2/2]
7a1ea973ea Settings: Fix gestures saving parameters
2a634ea541 DisplaySettings: font size in 5% steps from 80% to 130% (#132)
7feef085b3 Settings: Avoid enforcing weird backgrounds
2a0741143e Settings: Fix restore default apn dialog sometimes not dismissed.
edcf6b553f Settings: Allow editing all APNs and APN types
0d77b67832 Fix memory leak on SensorPrivacyManager Listener
0ffe207b3d Fix USB OTG hot plug out nndexOutOfBoundsException
3fae1f4416 Settings: VolumeMusicControl: Use new material-you illustration preference
a3d29d2809 Call CardDatabaseHelper.getInstance() when used and not in onCreate
71c03b20e4 Settings: Add support for parallel space
127168d681 Only one channel is reserved for WifiP2pSettings
119b55fd61 Enable ActivityResultLauncher for keyguard
71f2204031 Add toggle for connectivity check
3626229f57 Settings: Allow toggling floating rotation button [2/3]
0dc963206c Settings: Custom vibration pattern per notification channel [2/3]
80eee09105 Settings: Move custom vib pattern to its own preference [1/2]
399831f435 Settings: Follow new ringtone vibration patterns
0971f4dca9 Settings: Preview ringtone vibration pattern
5e96d2f28c Settings: Allow choosing a custom vibration pattern [3/4]
bb4b6c6331 Settings: Add vibration patterns from OOS [3/4]
9afb4b6bf5 Settings: add sim status listener in about phone
e3c7769fee InstalledApp: Hide GooglePlay icon for webapps
9a3da472aa Fix potential crash in AppAllServicesPreferenceController
a013393a9c Settings: Disable face enroll on Setup Wizard
e8453ecb52 Allow changing face unlock method when locked
15a911a396 Settings: Allow using face as auth method for apps
8950f20f0a Initial import of Face Unlock for T
ef25597625 Settings: Fix bluetooth pan memory leakage
63ab4a954d Settings: Long press to copy wifi password
c20a2509ed Show more APK details on App info screen [1/2]
c3e2ba0d65 SoftAp: add back AP Band preference into tether settings
2da6c1ab85 SoftAp: add more bands to band preference [1/2]
e047dad1a0 SoftAp: add client manager [1/2]
f13c3cb1ee SoftAp: add Hidden SSID preference [1/2]
9beb9ffdbc Settings: add TextView for summary into SeekBarDialogPreference
797727ced7 Fix NullPointerException when renaming a fingerprint
5dfd122e83 align the long press behavior on secondary sim
ed9f9d38ab Fix crash when input illegal proxy port number
17d96255bd Fix crash when showing error dialog in NetworkRequestDialogActivity
441a497e1e Mark DataUsageState as nullable to avoid potential NPE risk
09a66ade47 Fix the IllegalArgumentException from RecyclerView
4693797534 Fix potential NPE crash in ConversationHeaderPreferenceController
c72dc3bde0 Fix NPE crash in UwbPreferenceController and optimize the lifecycle observer adding condition in page
a519985b1d Fix always return first package for mock location app in developer options.
c6540ddab7 Fix permissions for internal links.
aa77d42992 Settings: Grab screen resolution drawables from cheetah-td1a.220804.031-factory-6152f6f3
68f9bc15e5 Settings: Add missing animations for gestures and features
303e7c4325 Settings: drawable: add missing drawable for dt2 open camera
c4b87fcaf5 Revert "Settings: Pass empty lottie resource for quickly open camera animation"
832dac74ba Settings: Remove tint from notifications top level pref
b1d9ebcfd3 Settings: Use seekbar to allow setting arbitrary animation values
37381c7db8 InstalledAppDetails: fix refreshing storage summary after force stop
9dc92dc904 Settings: Improve code for time spent in app
2f0aef4b69 AppInfo: Add time spent in app from Wellbeing
f2cb5fcbdd BiometricFragment: respect background authentication request in source prompt info
e180726dc1 Settings: Add icon for per app configuration
6204c10026 AppVolumeSlice: Allow querying icon of apps installed by any user
5b5d876baf Settings: support per-app volume [3/3]
014da08221 Settings: Add permission to hold wake lock
432993b7ac Settings: Add activity for cutout force full screen
022c0355c4 Allow tuning ambient display with sensors [3/3]
80c0559b9e Settings: Remove divider from Battery Manager
8c7625d0a4 Settings: Reset battery stats [2/3]
655d06926a Settings: Properly set battery temperature
3c95942402 BatteryHealth: Make layout more consistent
ea332e89b9 BatteryHealth: Make it optional
06305a873f BatteryHealth: Make resources overlayable
1508165ca0 BatteryHealth: Add Battery Capacity info
f036b99e89 Battery: show battery temp on power summary
a7ee962276 Fix long click intent for Smart Pixels tile [2/2]
b3fd65cc20 Expand abbreviation in average memory usage string
d7863d91fc Crash happens if back button is pressed during "Format as Portable"
76124e686a Add deep sleep preference controller [2/2]
20bb99f61a Settings: Change kernel preference behavior
74efc24101 Settings: Show full proc/version information
4a2fd34aa9 Make kernel version clickable
b00562d4b4 settings: drop divider in dark mode screen
56ef5017b3 Settings: Avoid saving length as in a sql db for quick unlock [2/2]
4cd3494bd8 Make Quick Unlock compatible with long PIN/Password [2/2]
d1e3993344 Keyguard: Forward port lockscreen quick unlock (2/2)
94944a7051 Settings: Add a preference to battery optimization page
ef61242272 Settings: Fix NPE with customdialogpref for backlight settings
7ba8ed8a04 Settings: Bluetooth timeout feature (2/2)
a9ab024b1b Settings: Wi-Fi timeout feature (2/2)
7c1e8b5931 Optional haptic feedback on back gesture [2/2]
234907009b Allow to hide arrow for back gesture [2/2]
eafb3af89b Settings: Also hide pill length on taskbar mode
dab98837c3 Settings: Change back gesture height intervals
774525cff4 Allow changing back gesture height [2/2]
780e9f5c79 Allow changing the length of gesture navbar [2/2]
06c6ab2ce7 Settings: Add more DNS providers
b8c29642bb Settings: Add AdGuard DNS as a private DNS Provider
9e7f0ebf3d Settings: Fix crdoid settings icon alignment
7da190066b AboutDevice: Use ro.product.device
0b5dd5d6d6 Settings: Add Device codename to Firmware version window
a6bb356924 Add summary to Notification log preference
3d41242580 Expose the notification log
e6915fd3da Unlock mobile network settings when airplane mode is on
095849a79a Changelog: Rework with Activity [1/2]
a4ec40a29e InstalledApp: show link to Google Play
e4c6aa2071 Settings: Add platform and RAM to Model & Hardware
fd19051915 Settings: Link to crdroid legal
6c98ecf1b5 crdroid: Adapt settings for A13
e25e8cbc3a Settings: Integrate crDroidSettings into Settings
4657e0a170 Settings: Move battery/notification light settings to crdroid
c3e4883bc8 Settings: Use List Preference for Dark mode
672f2c0c45 Settings: Follow navbar color in base
d7333ed612 fuelgauge: Update clean up for estimate
603b7d2095 fuelgauge: Use Enhanced Battery Prediction from Turbo
df7f2e7ee2 Settings: Fix loading iconpack-based Wellbeing icon
4815d37209 Settings: Use font configs instead fonts directly
459b7b71cf Settings: Add missing icons in Network and Internet
12343f2cf3 Show user's Google avatar on the homepage
4e5be6376d DevelopmentSettings: Disable automatic updates pref
b1fbb9de73 Remove feedback and bug report stuff
310e3bc94d Settings: Add back arrow to Desktop backup password
1758c42ac1 Settings: disable all bugreport settings
a73faaf77e Open app when clicking on icon in App Info
8524eed002 Phone ringtone setting for Multi SIM device [2/3]
62a33947aa WiFi: Remove country code checking.
3979f34977 Enable FeatureFlags on "user" builds too
855850d15d Settings: Fix up panel theme and layout
7569be7d69 Settings: Fix data usage display on mobile panel
fc5e8d2571 Settings: MobileDataPanel: Remove VoLTE slice
5d63cf2f26 Settings: Add back DataUsageSlice
3986711f04 Settings: panels: Improvements
f658b3438f Settings: panels: Add Bluetooth panel
386d79a55e Settings: panels: Add Mobile Data panel
2612508e09 Settings: Align user avatar with homepage title
a8237bbfa8 Settings: Add Glide library
464ed038c9 gestures: Update required hint switch package
bd7fb2fa3c Settings: stop logspill from ProcessStats
0de8ff88ee WifiDisplaySettings: Fix some NPE
d3ee6e8eb2 Drawables: Dark mode support for app installation restriction icon
131a50a14a Remove empty Security status header
c8a8dfc940 Settings: Enable Quick Wallet settings for all devices with NFC
6ba815d2d1 Settings: fix rest of the edit menu icon tint
09098bd320 Settings: Address a memory leak
7f376f8461 Settings: disable tips and support
893b6d6591 Settings: check wifi direct feature for showing preferences
8e192e2653 Settings: DevicePicker: Adapt to S style
d295bf9f03 Settings: res: Import screen_resolution_* drawables from SettingsGoogle
5dfc7ffd2e Settings: add animation to dark mode preference
0c4ad2e1d1 Settings: Update settings animations
6971bc1eef Settings: Add missing gesture and battery animations
1468c9eb2f Settings: Bring in missing lottie animations
6adf5fa8c5 Settings: Add back crdroid logo
6e9b0f3306 Settings: Show CR version in About menu
406607e0c1 POLICY_REJECT_ALL restricts all network access

   * packages/apps/SetupWizard
f6f7a42 SetupWizard: Bring it on our side
713c83e SetupWizard: Use correct updater package
121906b Ship as crDroid based on LOS
a5ba5df Hide navigation hint checkbox when taskbar is enabled
eecf4a9 Fix PhoneMonitor crash on WiFi only devices

   * packages/modules/Connectivity
c4f10f5b1 Catching IllegalStateException while device is going to shutdown
4afeb37bf NetworkInfo: Prevent a NPE caused by null Network type
254c3017d Fix ConntrackSocketTest#testIpv4ConntrackSocket flaky
fec764297 Disable TrafficStats debugging
886d400b0 Fix linker error with upstream llvm
dcf070b7b Use BPF to block socket creation when restricted
c9aa506fc DnsUtils: Use Cloudflare DNS instead of Google DNS
11b7d2997 NetworkDiagnostics: Use Cloudflare DNS instead of Google DNS
cb27483ad Tethering: Use Cloudflare DNS instead of Google DNS

   * system/netd
967c3417 netd: restrict DNS names
cca52716 Netd: Add support for quotaReachedAlert event
85fb55ac Return ECONNREFUSED when socket creation blocked
39f5005d Fix -Wnullable-to-nonnull-conversion errors

====================
     07-17-2023
====================

   * android
568c1f6 manifest: Track our hardware/broadcom/libbt

   * frameworks/native
275a05eec5 Revert "SF: Use lowest possible refresh rate in doze mode"

   * hardware/broadcom/libbt
4339350 correct WBS config VSC params
9c7cdf2 libbt: configure audio codec right after firmware
b29cdbe libbt: Add support for using two stop bits
b537ade libbt: Add btlock support
22affc6 libbt: Add prepatch support

   * packages/apps/crDroidSettings
664edbc New Crowdin updates (#1062)

====================
     07-16-2023
====================

   * device/qcom/sepolicy-legacy-um
b1710c61 sdm660: Label 4.19 backlight node
470d8edf sepolicy: Allow qti_init_shell to set proc_watermark_scale_factor.
fc9b1c61 sepolicy: Guard debugfs rules
5484e149 hal_usb_qti: Make legacy rules more aligned with QVA
c2b70184 sepolicy: Label QTI USB HAL

   * frameworks/base
a2f21ee74418 Automatic translation import

   * packages/apps/Aperture
a95f7db Automatic translation import

   * packages/apps/AudioFX
7e3ddc8 Automatic translation import

   * packages/apps/Etar
1a40a98b Automatic translation import

   * packages/apps/FlipFlap
90c08c6 Automatic translation import

   * packages/apps/Profiles
ea4533f Automatic translation import

   * packages/apps/Recorder
c867793 Automatic translation import

   * packages/apps/Settings
57da8e808b Automatic translation import

   * packages/apps/SetupWizard
66c117f Automatic translation import

   * packages/apps/crDroidSettings
9671aa9 crdroid: Bring back QS battery customization

   * packages/providers/DownloadProvider
70d7900a Automatic translation import

   * vendor/crowdin
670053a Automatic translation import

   * vendor/qcom/opensource/fm-commonsys
17c1bd1 Automatic translation import

====================
     07-15-2023
====================

   * android
8a9be87 pixel: Use gs201 kernel for gs101 pixels

   * frameworks/av
3e6aed1ce4 APC: Wake OffloadThread on AppOps mute

====================
     07-14-2023
====================

   * android
f33b739 manifest: Track our development
f0033c3 Merge 'lineage-20.0' into 13.0

   * development
4b3ea0e91 make-key: Enforce PBEv1 password-protected signing keys

   * device/lineage/atv
0145917 fixup! atv: Restrict maximum ATV users to 2
01c3384 atv: Restrict maximum ATV users to 2

   * frameworks/base
601c49c61f9e Merge tag 'android-13.0.0_r63' into staging/lineage-20.0_merge-android-13.0.0_r63
016489022f81 Keyguard: Allow user configurable fingerprint wake-and-unlock

   * lineage-sdk
ecfb6214 Handle more custom DNS migration
222950ce Migrate Cloudflare DNS mode to hostname
a6f2534a lineage-sdk: Bring our icon
c7bb20f3 lineage-sdk: Add restart SystemUI in Advanced Reboot [2/2]
752409bb lineage-sdk: Update few default key assignments
8d23886e lineage-sdk: Add backend for handling missing button actions
3d9a9999 lineage-sdk: Fix settings pref switch for multi-user
2c675616 lineage-sdk: Properly set default value for switch pref
9ef9b2a9 Allow value to hide the clock
21c5afcd NotificationLights: Allow overriding for all apps [1/2]
9b8d0d60 Add toggle to allow advanced restart on secured lockscreen[1/2]
9060ba99 Battery light: 100% charged level (3/3)
5ac7e58b sdk: Add On-The-Go Mode to power menu constants
63269d84 Add more device key actions [1/3]
edaa3902 Add device key action to take screenshot [1/3]
8f0c65d1 Add device key action to toggle flashlight [1/3]
17a4b8a2 lineage-sdk: Remove setting loading for FORCE_SHOW_NAVBAR
9b6f20a8 sdk: Try loading default setting value for switch
2a86e8fb sdk: Set summary automatically if required
1ad8e91c Add settings for brightness slider improvements
5e09b6e6 Network traffic mode for status bar [1/3]
25f9d527 Allow value 3 for status bar quick pull down
e01a575b lineage-sdk: Enable advanced reboot by default
74d53ac7 sdk: Replace los versioning
18d0b2b4 sdk: Kill trust interface hint on first boot
f78164fa Disable by livedisplay by default
fde6a3c7 Ship as crDroid based on LOS
0c5c4f66 ChargingControl: Additional log lines for deadline
2b59462a ChargingControl: Retry setting deadline if it fails
3c3140b8 ChargingControl: Don't set deadline if charging control is not enabled
1f36483a ChargingControl: Drop default values for initially zero variables
1ed0e04d ChargingControl: Return early if lineage health HAL is not found
63769995 Drop < lineage-16.0 database migration support
7e5dade2 Change existing migrations to use new helper methods
1c5a5dd0 Add helper methods for reading and writing settings

   * packages/apps/Aperture
c1472a0 Aperture: Simplify flash mode handling
9e0a3f7 Aperture: CameraActivity: Get rid of update{PrimaryBar,CameraMode}Buttons()
a1cad08 Aperture: Use the view model for views' rotation
1a512eb Aperture: Introduce CameraViewModel

   * packages/apps/Contacts
030985cac Contacts: Fix navigation bar theming
0e2c38394 Contacts: Fix LetterTileDrawable for all languages
6e44c7211 Contacts: add support for importing VCF v4
b66aaf4b4 Send group mail from Contacts Label cause app to crash
75194fc4c Contacts: silence logs about getDrawable without theme
37670b2e4 Contacts: Use Material You colors

   * packages/apps/Messaging
67671ab Remove uses of Time.
d224bfb Messaging: Improve letter render decisioning for avatar
ebe9691 Messaging: Fix activity bar menu icons tint
a332f15 Messaging: Replace AOSP illustrations
c260c6b SimIconView: Don't intercept touch events when there's nothing to do
75118dd Messaging: Do not check preferred sim if conversation sim exist
9daac63 Add support for text/vCard and text/vCalendar MIME type
482ba95 add check before casting
5418849 Messaging: Use light icons on conversations select menu

   * packages/apps/SetupWizard
344e6b8 Add navigation settings step for secondary users
7ad1585 Enable biometric and lockscreen steps for secondary users
d4425ac Match Google wizard script flow

   * system/core
be9b17150 libutils: Improve performance of utf8_to_utf16/utf16_to_utf8
553eafb27 Merge 'lineage-20.0' into 13.0

====================
     07-13-2023
====================

   * frameworks/av
028d62d505 Check for null params in VolumeShaper

   * lineage-sdk
663a948c Do not use transactions when reading settings
173b6d86 Migrate side FPS settings

   * system/core
fb57b3bc6 libprocessgroup: Remove isolated UID cgroup directories
5b2cec97b NetlinkEvent: trivial simplification.

